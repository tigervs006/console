(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[573],{3248:function(N,E,e){"use strict";e.d(E,{Z:function(){return A}});var s=e(28991),v=e(67294),Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917.7 148.8l-42.4-42.4c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-76.1 76.1a199.27 199.27 0 00-112.1-34.3c-51.2 0-102.4 19.5-141.5 58.6L432.3 308.7a8.03 8.03 0 000 11.3L704 591.7c1.6 1.6 3.6 2.3 5.7 2.3 2 0 4.1-.8 5.7-2.3l101.9-101.9c68.9-69 77-175.7 24.3-253.5l76.1-76.1c3.1-3.2 3.1-8.3 0-11.4zM769.1 441.7l-59.4 59.4-186.8-186.8 59.4-59.4c24.9-24.9 58.1-38.7 93.4-38.7 35.3 0 68.4 13.7 93.4 38.7 24.9 24.9 38.7 58.1 38.7 93.4 0 35.3-13.8 68.4-38.7 93.4zm-190.2 105a8.03 8.03 0 00-11.3 0L501 613.3 410.7 523l66.7-66.7c3.1-3.1 3.1-8.2 0-11.3L441 408.6a8.03 8.03 0 00-11.3 0L363 475.3l-43-43a7.85 7.85 0 00-5.7-2.3c-2 0-4.1.8-5.7 2.3L206.8 534.2c-68.9 69-77 175.7-24.3 253.5l-76.1 76.1a8.03 8.03 0 000 11.3l42.4 42.4c1.6 1.6 3.6 2.3 5.7 2.3s4.1-.8 5.7-2.3l76.1-76.1c33.7 22.9 72.9 34.3 112.1 34.3 51.2 0 102.4-19.5 141.5-58.6l101.9-101.9c3.1-3.1 3.1-8.2 0-11.3l-43-43 66.7-66.7c3.1-3.1 3.1-8.2 0-11.3l-36.6-36.2zM441.7 769.1a131.32 131.32 0 01-93.4 38.7c-35.3 0-68.4-13.7-93.4-38.7a131.32 131.32 0 01-38.7-93.4c0-35.3 13.7-68.4 38.7-93.4l59.4-59.4 186.8 186.8-59.4 59.4z"}}]},name:"api",theme:"outlined"},C=Z,O=e(27029),f=function(m,M){return v.createElement(O.Z,(0,s.Z)((0,s.Z)({},m),{},{ref:M,icon:C}))};f.displayName="ApiOutlined";var A=v.forwardRef(f)},18401:function(N,E,e){"use strict";e.d(E,{Z:function(){return A}});var s=e(28991),v=e(67294),Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"},C=Z,O=e(27029),f=function(m,M){return v.createElement(O.Z,(0,s.Z)((0,s.Z)({},m),{},{ref:M,icon:C}))};f.displayName="AppstoreAddOutlined";var A=v.forwardRef(f)},1351:function(N,E,e){"use strict";e.d(E,{Z:function(){return A}});var s=e(28991),v=e(67294),Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"},C=Z,O=e(27029),f=function(m,M){return v.createElement(O.Z,(0,s.Z)((0,s.Z)({},m),{},{ref:M,icon:C}))};f.displayName="MenuUnfoldOutlined";var A=v.forwardRef(f)},7446:function(N,E,e){"use strict";e.d(E,{S:function(){return W}});var s=e(77576),v=e(85979),Z=e(34792),C=e(48086),O=e(32059),f=e(3182),A=e(2824),P=e(94043),m=e.n(P),M=e(67294),g=e(36571),o=e(85893),W=function(d){var H,D,G,k,U,L=(H=d==null?void 0:d.fieldKey)!==null&&H!==void 0?H:"status",l=(D=d==null?void 0:d.disabled)!==null&&D!==void 0?D:!1,ue=(G=d==null?void 0:d.echoChecked)!==null&&G!==void 0?G:"\u663E\u793A",oe=(k=d==null?void 0:d.echoUnChecked)!==null&&k!==void 0?k:"\u9690\u85CF",de=(0,M.useState)(!1),_=(0,A.Z)(de,2),b=_[0],x=_[1],B=(U=d==null?void 0:d.statusField)!==null&&U!==void 0?U:d.record.status,ie=function(){var q=(0,f.Z)(m().mark(function K($,ee,ne){return m().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return ee.stopPropagation(),x(!0),F.next=4,(0,g.qC)(d.url,(0,O.Z)({id:ne.id},L,$?1:0)).then(function(j){x(!1),(j==null?void 0:j.success)&&C.default.success(j.msg)});case 4:case"end":return F.stop()}},K)}));return function($,ee,ne){return q.apply(this,arguments)}}();return(0,o.jsx)(v.Z,{loading:b,disabled:l,checkedChildren:ue,defaultChecked:!!B,unCheckedChildren:oe,onChange:function(K,$){return ie(K,$,d.record)}},d.record.id)}},76323:function(N,E,e){"use strict";e.r(E),e.d(E,{default:function(){return F}});var s=e(66456),v=e(80818),Z=e(49111),C=e(19650),O=e(57663),f=e(71577),A=e(71153),P=e(60331),m=e(11849),M=e(34792),g=e(48086),o=e(3182),W=e(2824),pe=e(71194),d=e(97022),H=e(94043),D=e.n(H),G=e(82942),k=e(62999),U=e(95216),L=e(67294),l=e(85893),ue=function(V){var Y=V.value,Q=V.onChange,te=V.treeData,se=U.Z.SHOW_ALL,ce={label:"name",value:"id"},ae=(0,L.useState)(function(){var S=Y==null?void 0:Y.split(","),R=function J(fe){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return fe.forEach(function(I){S==null||S.forEach(function(he){he==I.id&&(y.push({label:I.name,value:I.id}),I.children&&J(I.children,y))})}),y};return R(te)}),re=(0,W.Z)(ae,2),X=re[0],le=re[1],ve=function(R){le(R),Q==null||Q(R.map(function(J){return J.value}).join(","))};return(0,l.jsx)(U.Z,{treeIcon:!0,allowClear:!0,treeCheckable:!0,value:X,treeCheckStrictly:!0,treeData:te,placeholder:"\u8BF7\u9009\u62E9...",fieldNames:ce,treeNodeFilterProp:"name",style:{width:"100%"},showCheckedStrategy:se,onChange:function(R){return ve(R)},treeDefaultExpandedKeys:X.map(function(S){return S.value})})},oe=e(46298),de=e(14854),_=e(7446),b=e(75860),x=e(21010),B=e(95521),ie=e(1351),q=e(18401),K=e(3248),$=e(1870),ee=e(8212),ne=e(73171),Ee=e(49101),F=function(){var j=(0,x.YB)(),V=(0,x.md)(),Y={status:1,name:"\u7528\u6237\u7EC4\u540D",menu:"1,2,3,4",id:(0,b.O1)(6)},Q=d.Z.confirm,te={1:(0,l.jsx)(ie.Z,{}),2:(0,l.jsx)(q.Z,{}),3:(0,l.jsx)(K.Z,{})},se=(0,L.useRef)(),ce=(0,x.tT)("resize",function(i){return{resize:i.resize}}),ae=ce.resize,re=(0,L.useState)([]),X=(0,W.Z)(re,2),le=X[0],ve=X[1],S=(0,L.useState)([]),R=(0,W.Z)(S,2),J=R[0],fe=R[1],y=(0,L.useRef)(),I=function i(t){return t.map(function(n){return n.name=j.formatMessage({id:n.locale}),n.icon=n!=null&&n.icon?G.s[n.icon]:te[n.type],n.children&&n.children.sort((0,b.Rm)("type")),n.children&&i(n.children),n})};(0,x.QT)(B.gh,{onSuccess:function(t){return ve(function(){return I(t==null?void 0:t.list)})}});var he=function i(t,n){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],u=n instanceof Array?n:n.split(",").map(Number);return t==null||t.forEach(function(a){u.forEach(function(r){r===a.id&&c.push({type:a.type,name:a.locale,icon:a.icon})}),a.children&&i(a.children,u,c)}),c},Oe=function(){var i=(0,o.Z)(D().mark(function t(n){return D().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,B.ZF)(n).then(function(a){(a==null?void 0:a.success)&&g.default.success(a.msg),(0,b.pQ)(1500).then(function(){var r;return(r=y.current)===null||r===void 0?void 0:r.reload()})});case 2:case"end":return u.stop()}},t)}));return function(n){return i.apply(this,arguments)}}(),Ce=function(t,n){t.stopPropagation();var c=[],u=[];n instanceof Array&&n.forEach(function(a){var r;c.push(a.id),u.push((r=a==null?void 0:a.name)!==null&&r!==void 0?r:"")}),Q({centered:!0,cancelText:"\u7B97\u4E86",title:"\u5F53\u771F\u8981\u5220\u9664?",icon:(0,l.jsx)($.Z,{}),cancelButtonProps:{shape:"round"},okButtonProps:{danger:!0,shape:"round"},content:n instanceof Array?"".concat(u.slice(0,3).join("\uFF0C")," \u7B49 ").concat(u.length," \u4E2A\u7528\u6237\u7EC4"):"".concat(n.name," \u8FD9\u4E2A\u7528\u6237\u7EC4"),onOk:function(){return(0,o.Z)(D().mark(function r(){return D().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,B.BN)({id:c}).then(function(h){var T,z;(T=y.current)===null||T===void 0||T.reload(),(h==null?void 0:h.msg)&&g.default.success(h==null?void 0:h.msg),n instanceof Array&&((z=y.current)===null||z===void 0||z.clearSelected())});case 2:case"end":return p.stop()}},r)}))()},onCancel:function(){var r;n instanceof Array&&((r=y.current)===null||r===void 0||r.clearSelected())}})},Ae=function(){var i=(0,o.Z)(D().mark(function t(n,c,u){var a,r;return D().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:a=(0,m.Z)((0,m.Z)((0,m.Z)({},n),c),u);for(r in a)(a[r]===""||a[r]===null||a[r]===void 0)&&delete a[r];return p.next=4,(0,B.Xl)(a).then(function(h){var T,z,me,ge,De=h==null||(T=h.data)===null||T===void 0?void 0:T.list;return{data:De||[],total:(z=h==null||(me=h.data)===null||me===void 0?void 0:me.total)!==null&&z!==void 0?z:0,success:(ge=h==null?void 0:h.success)!==null&&ge!==void 0?ge:!0}});case 4:return p.abrupt("return",p.sent);case 5:case"end":return p.stop()}},t)}));return function(n,c,u){return i.apply(this,arguments)}}(),Me=[{width:30,editable:!1},{width:150,title:"\u7528\u6237\u7EC4\u540D",dataIndex:"name"},{width:150,filters:!0,onFilter:!0,title:"\u7528\u6237\u7EC4\u72B6\u6001",filterMode:"tree",dataIndex:"status",valueType:"select",valueEnum:{1:{text:"\u542F\u7528",status:"Enabled"},0:{text:"\u7981\u7528",status:"Disabled"}},fieldProps:{allowClear:!1,options:[{label:"\u7981\u7528",value:0},{label:"\u542F\u7528",value:1}]},render:function(t,n){return(0,l.jsx)(_.S,{record:n,url:"/group/status",echoChecked:"\u542F\u7528",echoUnChecked:"\u7981\u7528"})}},{ellipsis:!0,title:"\u7528\u6237\u7EC4\u83DC\u5355",dataIndex:"menu",formItemProps:function(){return{rules:[{require:!0,message:"\u8BF7\u4E3A\u5F53\u524D\u7528\u6237\u7EC4\u8BBE\u7F6E\u83DC\u5355"}]}},renderFormItem:function(){return(0,l.jsx)(ue,{treeData:le})},render:function(t,n){var c=he(le,n.menu);return c.map(function(u){return(0,l.jsx)(P.Z,{color:"blue",icon:u.icon,children:j.formatMessage({id:u.name})},(0,b.O1)(6))})}},{width:200,editable:!1,title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"update_time"},{width:200,title:"\u64CD\u4F5C",valueType:"option",render:function(t,n,c,u){return[(0,l.jsxs)(C.Z,{size:4,children:[(0,l.jsx)(f.Z,{size:"small",shape:"round",icon:(0,l.jsx)(ee.Z,{}),onClick:function(r){var w;r==null||r.stopPropagation(),u==null||(w=u.startEditable)===null||w===void 0||w.call(u,n.id)},children:"\u7F16\u8F91"}),(0,l.jsx)(f.Z,{danger:!0,size:"small",shape:"round",type:"primary",icon:(0,l.jsx)(ne.Z,{}),onClick:function(r){return Ce(r,n)},children:"\u5220\u9664"})]},"operation")]}}];return(0,l.jsx)(oe.ZP,{children:(0,l.jsx)(de.nx,{rowKey:"id",search:!1,actionRef:y,columns:Me,request:Ae,editableFormRef:se,recordCreatorProps:!1,scroll:ae.tableScroll,editable:{editableKeys:J,type:"multiple",onChange:fe,onSave:function(t,n){return Oe(n)},actionRender:function(t,n,c){return[c.save,c.cancel]}},rowSelection:{checkStrictly:!1,selections:[v.Z.SELECTION_ALL,v.Z.SELECTION_INVERT,v.Z.SELECTION_NONE]},toolbar:{actions:[(0,l.jsx)(x.Nv,{accessible:V.btnFilter("group_create_btn"),children:(0,l.jsx)(f.Z,{shape:"round",type:"primary",icon:(0,l.jsx)(Ee.Z,{}),onClick:function(){var t,n;return(t=y.current)===null||t===void 0||(n=t.addEditRecord)===null||n===void 0?void 0:n.call(t,Y)},children:"\u65B0\u5EFA\u7528\u6237\u7EC4"},"createGroup")},"group_create_btn")]},tableAlertRender:function(t){var n=t.selectedRowKeys,c=t.onCleanSelected;return(0,l.jsxs)("span",{children:["\u5DF2\u9009 ",n.length," \u4E2A\u7528\u6237\u7EC4",(0,l.jsx)("a",{style:{marginLeft:8},onClick:c,children:"\u53D6\u6D88\u9009\u62E9"})]})},tableAlertOptionRender:function(t){var n=t.selectedRows;return(0,l.jsx)(C.Z,{size:16,children:(0,l.jsx)("a",{onClick:function(u){return Ce(u,n)},children:"\u6279\u91CF\u5220\u9664"})})},pagination:{pageSize:ae.pageSize,hideOnSinglePage:!0,position:["bottomRight"]}})})}},95521:function(N,E,e){"use strict";e.d(E,{j:function(){return v},JR:function(){return Z},rQ:function(){return C},Od:function(){return O},Mz:function(){return f},gh:function(){return A},ZF:function(){return P},Xl:function(){return m},BN:function(){return M}});var s=e(36571),v=function(){return(0,s.Yu)("/auth/routes")},Z=function(o){return(0,s.qC)("/user/save",o)},C=function(o){return(0,s.Yu)("/user/list",o)},O=function(o){return(0,s.qC)("/auth/del",o)},f=function(o){return(0,s.qC)("/auth/save",o)},A=function(o){return(0,s.Yu)("/auth/list",o)},P=function(o){return(0,s.qC)("/group/save",o)},m=function(o){return(0,s.Yu)("/group/list",o)},M=function(o){return(0,s.qC)("/group/del",o)}}}]);
