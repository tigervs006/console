(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[909],{54977:function(D,p,e){"use strict";e.d(p,{Z:function(){return s}});var a=e(28991),v=e(67294),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},g=C,c=e(27029),d=function(l,u){return v.createElement(c.Z,(0,a.Z)((0,a.Z)({},l),{},{ref:u,icon:g}))};d.displayName="FormOutlined";var s=v.forwardRef(d)},258:function(D,p,e){"use strict";e.d(p,{Z:function(){return s}});var a=e(28991),v=e(67294),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"},g=C,c=e(27029),d=function(l,u){return v.createElement(c.Z,(0,a.Z)((0,a.Z)({},l),{},{ref:u,icon:g}))};d.displayName="UndoOutlined";var s=v.forwardRef(d)},99882:function(D,p,e){"use strict";e.d(p,{wk:function(){return v},rQ:function(){return C},V5:function(){return g},Od:function(){return c},mJ:function(){return d},m4:function(){return s},R$:function(){return O}});var a=e(36571),v=function(u){return(0,a.qC)("/channel/save",u)},C=function(u){return(0,a.Yu)("/channel/list",u)},g=function(u){return(0,a.Yu)("/channel/cate",u)},c=function(u){return(0,a.qC)("/channel/del",u)},d=function(u){return(0,a.qC)("/module/save",u)},s=function(u){return(0,a.Yu)("/module/list",u)},O=function(u){return(0,a.qC)("/module/del",u)}},43420:function(D,p,e){"use strict";e.r(p);var a=e(49111),v=e(19650),C=e(34792),g=e(48086),c=e(11849),d=e(3182),s=e(2824),O=e(94043),l=e.n(O),u=e(21010),x=e(75860),B=e(67294),V=e(99882),S=e(10975),w=e(46298),z=e(78980),Y=e(84994),$=e(9006),Q=e(258),H=e(54977),G=e(15873),h=e(22811),o=e(85893);p.default=function(){var F,P=(0,B.useRef)(),J=(0,B.useState)([]),T=(0,s.Z)(J,2),N=T[0],X=T[1],q=(0,u.tT)("file",function(r){return{setUploadList:r.setUploadList}}),j=q.setUploadList,k=(0,B.useState)(function(){var r;return((r=P.current)===null||r===void 0?void 0:r.getFieldValue("content"))||null}),Z=(0,s.Z)(k,2),y=Z[0],W=Z[1],ee=function(){var r=(0,d.Z)(l().mark(function n(){return l().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,V.V5)({nid:2}).then(function(i){var M;return i==null||(M=i.data)===null||M===void 0?void 0:M.list.map(function(f){return{value:f.id,label:f.cname}})});case 2:return m.abrupt("return",m.sent);case 3:case"end":return m.stop()}},n)}));return function(){return r.apply(this,arguments)}}(),ne=function(n){var t;W(n),(t=P.current)===null||t===void 0||t.setFieldsValue({content:n})},te=function(){var r=(0,d.Z)(l().mark(function n(t){var m,i;return l().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,$.gg)((0,c.Z)((0,c.Z)({},t),{},{content:y,id:(m=(i=u.m8.location.query)===null||i===void 0?void 0:i.id)!==null&&m!==void 0?m:"0"})).then(function(E){(E==null?void 0:E.success)&&g.default.success(E.msg),(E==null?void 0:E.success)&&(0,x.pQ)(2e3).then(function(){return u.m8.push({pathname:"/product/list"})})});case 2:case"end":return f.stop()}},n)}));return function(t){return r.apply(this,arguments)}}(),ue=function(){var r=(0,d.Z)(l().mark(function n(t){return l().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(t!=null&&t.id)){i.next=6;break}return i.next=3,(0,$.C5)(t).then(function(M){var f,E,L,R,b,U,I,_=(f=M==null||(E=M.data)===null||E===void 0?void 0:E.info)!==null&&f!==void 0?f:{};return X(_==null?void 0:_.special),W((L=_==null||(R=_.detail)===null||R===void 0?void 0:R.content)!==null&&L!==void 0?L:null),j((b=_==null?void 0:_.album.map(function(K){var A;return{url:K,status:"done",uid:Math.floor(Math.random()*100).toString(),name:((A=K.match(/\/(\w+\.(?:png|jpg|gif|bmp))$/i))===null||A===void 0?void 0:A[1])||""}}))!==null&&b!==void 0?b:[]),(0,c.Z)((0,c.Z)({},_),{},{content:(U=_==null||(I=_.detail)===null||I===void 0?void 0:I.content)!==null&&U!==void 0?U:null})});case 3:return i.abrupt("return",i.sent);case 6:return j([]),i.abrupt("return",{});case 8:case"end":return i.stop()}},n)}));return function(t){return r.apply(this,arguments)}}();return(0,o.jsx)(w.ZP,{children:(0,o.jsxs)(h.ZP,{formRef:P,layout:"vertical",wrapperCol:{md:{span:16},lg:{span:16},xl:{span:8}},initialValues:{isCrop:1},submitter:{render:function(n,t){return(0,o.jsx)(v.Z,{size:"middle",children:t},"spaceGroup")},resetButtonProps:{shape:"round",icon:(0,o.jsx)(Q.Z,{})},submitButtonProps:{type:"primary",shape:"round",icon:(0,o.jsx)(H.Z,{})}},validateTrigger:["onBlur"],params:{id:(F=u.m8.location.query)===null||F===void 0?void 0:F.id},onFinish:function(n){return te(n)},request:function(n){return ue(n)},children:[(0,o.jsx)(h._I,{hasFeedback:!0,width:"sm",name:"pid",label:"\u5206\u7C7B",request:ee,tooltip:"\u5546\u54C1\u53D1\u5E03\u7684\u5206\u7C7B",fieldProps:{allowClear:!1},rules:[{required:!0,message:"\u9009\u62E9\u5546\u54C1\u53D1\u5E03\u7684\u5206\u7C7B"}]}),(0,o.jsx)(h.Hg,{min:0,width:"sm",hasFeedback:!0,label:"\u552E\u4EF7",name:"price",rules:[{required:!0,message:"\u8BF7\u4E3A\u5546\u54C1\u8BBE\u7F6E\u552E\u4EF7"}]}),(0,o.jsx)(h.V,{hasFeedback:!0,width:"sm",label:"\u5E93\u5B58",name:"stock",tooltip:"\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u8BBE\u7F6E\u5E93\u5B58",fieldProps:{allowClear:!1},rules:[{required:!0,message:"\u8BF7\u4E3A\u5546\u54C1\u8BBE\u7F6E\u5E93\u5B58"},{pattern:/^\d+$/,message:"\u5546\u54C1\u5E93\u5B58\u5FC5\u9700\u4E3A\u6B63\u6574\u6570"}]}),(0,o.jsx)(h.V,{hasFeedback:!0,label:"\u5546\u54C1\u540D",name:"title",tooltip:"\u9650\u523632\u4E2A\u5B57\u7B26",placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u540D\u4F5C\u4E3A\u6807\u9898",getValueFromEvent:function(n){return n.target.value.trim()},fieldProps:{maxLength:32,showCount:!0},rules:[{required:!0,message:"\u8BF7\u5B8C\u5584\u5546\u54C1\u540D"},{min:15,message:"\u5546\u54C1\u540D\u4E0D\u5B9C\u592A\u77ED"}]}),(0,o.jsx)(h.V,{hasFeedback:!0,label:"\u5173\u952E\u8BCD",name:"keywords",tooltip:"\u8BF7\u7528\u7A7A\u683C\u5206\u9694",placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD",fieldProps:{showCount:!0,maxLength:32},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD"},{type:"string",min:8,message:"\u518D\u591A\u6765\u4E24\u4E2A\u5173\u952E\u8BCD"},{type:"string",pattern:/^[^\u2018-\u2027\uff01-\uff0f\uff1a-\uff20\u3002]+$/,message:"\u5173\u952E\u8BCD\u53EA\u80FD\u4F7F\u7528\u82F1\u6587\u9017\u53F7\u6216\u7A7A\u683C\u5206\u9694"}]}),(0,o.jsx)(h.$J,{hasFeedback:!0,label:"\u5546\u54C1\u7B80\u8FF0",name:"description",tooltip:"SEO\u4F18\u5316\u5F88\u91CD\u8981",placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u7B80\u8FF0",getValueFromEvent:function(n){return n.target.value.trim()},fieldProps:{maxLength:256,showCount:!0,allowClear:!0,autoSize:{minRows:5,maxRows:8}},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5546\u54C1\u7B80\u8FF0"},{type:"string",min:50,message:"\u518D\u591A\u51E0\u53E5\u5546\u54C1\u7B80\u8FF0\u5427"}]}),(0,o.jsx)(h.ZP.Item,{hasFeedback:!0,label:"\u5546\u54C1\u5356\u70B9",name:"special",tooltip:"\u63D0\u70BC\u5546\u54C1\u5356\u70B9",rules:[{required:!0,message:"\u8BF7\u81F3\u5C11\u586B\u5199\u4E00\u4E2A\u5546\u54C1\u5356\u70B9"},function(){return{validator:function(n,t){return 3>=t.length?Promise.resolve():Promise.reject(new Error("\u5546\u54C1\u5356\u70B9\u53EA\u9700\u89813\u4E2A\u5C31\u884C\u4E86"))}}}],children:(0,o.jsx)(Y.Q,{color:"red",tagsList:N,addition:"\u5546\u54C1\u5356\u70B9",tagIcon:(0,o.jsx)(G.Z,{}),handleChange:function(n){var t;return(t=P.current)===null||t===void 0?void 0:t.setFieldValue("special",n)}})}),(0,o.jsx)(h.ZP.Item,{name:"album",label:"\u5546\u54C1\u76F8\u518C",tooltip:"\u9650\u5236\u4E3A5\u5F20\u56FE\u7247",rules:[{required:!0,message:"\u8BF7\u5B8C\u5584\u5546\u54C1\u76F8\u518C"},{type:"array",max:5,message:"\u5546\u54C1\u76F8\u518C\u53EA\u9700\u89815\u5F20\u56FE\u7247\u5C31\u884C\u4E86"}],children:(0,o.jsx)(z.p,{limit:5,setFieldValue:function(n){var t;return(t=P.current)===null||t===void 0?void 0:t.setFieldValue("album",n)}})}),(0,o.jsx)(h.ZP.Item,{name:"content",label:"\u5546\u54C1\u8BE6\u60C5",tooltip:"\u5546\u54C1\u8BE6\u60C5",wrapperCol:{xs:{span:24},sm:{span:24},xl:{span:16}},rules:[{required:!0,message:"\u5546\u54C1\u8BE6\u60C5\u4E0D\u5F97\u4E3A\u7A7A"}],children:(0,o.jsx)(S.Z,{content:y,setContent:ne,uploadPath:"product/content"})})]})})}},9006:function(D,p,e){"use strict";e.d(p,{C5:function(){return v},gg:function(){return C},Od:function(){return g},rQ:function(){return c}});var a=e(36571),v=function(s){return(0,a.Yu)("/product",s)},C=function(s){return(0,a.qC)("/product/save",s)},g=function(s){return(0,a.qC)("/product/del",s)},c=function(s){return(0,a.Yu)("/product/list",s)}}}]);
