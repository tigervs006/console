(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[326],{45154:function(X,R,e){"use strict";e.r(R);var E=e(66456),f=e(80818),z=e(49111),I=e(19650),W=e(57663),D=e(71577),h=e(11849),x=e(34792),c=e(48086),_=e(3182),F=e(2824),k=e(71194),w=e(97022),q=e(94043),r=e.n(q),M=e(67294),P=e(21010),K=e(46298),L=e(14854),y=e(7446),A=e(75860),U=e(99882),N=e(1870),Y=e(8212),Q=e(73171),S=e(49101),u=e(85893);R.default=function(){var j=w.Z.confirm,H=(0,P.md)(),G={status:1,name:"\u6A21\u578B\u540D\u79F0",id:(0,A.O1)(4)},b=(0,M.useRef)(),T=(0,P.tT)("resize",function(o){return{resize:o.resize}}),O=T.resize,$=(0,M.useState)([]),p=(0,F.Z)($,2),Z=p[0],B=p[1],v=(0,M.useRef)(),ne=function(){var o=(0,_.Z)(r().mark(function l(n){return r().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,U.mJ)(n).then(function(t){(t==null?void 0:t.success)&&c.default.success(t.msg),(t==null?void 0:t.success)&&(0,A.pQ)(2e3).then(function(){var a;return(a=v.current)===null||a===void 0?void 0:a.reload()})});case 2:case"end":return s.stop()}},l)}));return function(n){return o.apply(this,arguments)}}(),ee=function(l,n){l.stopPropagation();var d=[],s=[];n instanceof Array&&n.forEach(function(t){var a;d.push(t.id),s.push((a=t==null?void 0:t.name)!==null&&a!==void 0?a:"")}),j({centered:!0,cancelText:"\u7B97\u4E86",title:"\u5F53\u771F\u8981\u5220\u9664?",icon:(0,u.jsx)(N.Z,{}),cancelButtonProps:{shape:"round"},okButtonProps:{danger:!0,shape:"round"},content:n instanceof Array?"".concat(s.slice(0,3).join("\uFF0C")," \u7B49 ").concat(s.length," \u4E2A\u6A21\u578B"):"".concat(n.name," \u8FD9\u4E2A\u6A21\u578B"),onOk:function(){return(0,_.Z)(r().mark(function a(){return r().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,U.R$)({id:d}).then(function(i){var C;(i==null?void 0:i.success)&&c.default.success(i.msg),n instanceof Array&&((C=v.current)===null||C===void 0||C.clearSelected()),(i==null?void 0:i.success)&&(0,A.pQ)(2e3).then(function(){var g;return(g=v.current)===null||g===void 0?void 0:g.reload()})});case 2:case"end":return m.stop()}},a)}))()},onCancel:function(){var a;n instanceof Array&&((a=v.current)===null||a===void 0||a.clearSelected())}})},te=function(){var o=(0,_.Z)(r().mark(function l(n,d,s){var t,a;return r().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:t=(0,h.Z)((0,h.Z)((0,h.Z)({},n),d),s);for(a in t)(t[a]===""||t[a]===null||t[a]===void 0)&&delete t[a];return m.next=4,(0,U.m4)(t).then(function(i){var C,g,J,V,le=i==null||(C=i.data)===null||C===void 0?void 0:C.list;return{data:le||[],total:(g=i==null||(J=i.data)===null||J===void 0?void 0:J.total)!==null&&g!==void 0?g:0,success:(V=i==null?void 0:i.success)!==null&&V!==void 0?V:!0}});case 4:return m.abrupt("return",m.sent);case 5:case"end":return m.stop()}},l)}));return function(n,d,s){return o.apply(this,arguments)}}(),ae=[{title:"ID",sorter:!0,search:!1,readonly:!0,dataIndex:"id"},{search:!1,title:"\u6A21\u578B\u540D\u79F0",dataIndex:"name",formItemProps:function(){return{rules:[{required:!0,message:"\u6A21\u578B\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"},{max:30,message:"\u6A21\u578B\u540D\u79F0\u8BF7\u63A7\u5236\u572830\u4E2A\u5B57\u7B26\u4EE5\u5185"}]}},fieldProps:{onBlur:function(l){var n,d,s=(n=b.current)===null||n===void 0?void 0:n.getRowData(Z.toString()),t=(0,A.Qh)(l.target.value).replace(/\s+/g,"");typeof s.id=="string"&&((d=b.current)===null||d===void 0||d.setRowData(Z.toString(),{nid:t,ctl_name:t.toLowerCase().replace(/( |^)[a-z]/g,function(a){return a.toUpperCase()})}))}}},{title:"\u6A21\u578B\u540D\u79F0",dataIndex:"name",hideInTable:!0},{search:!1,title:"\u6A21\u578B\u6807\u8BC6",dataIndex:"nid",formItemProps:function(){return{rules:[{required:!0,message:"\u6A21\u578B\u6807\u8BC6\u4E3A\u5FC5\u586B\u9879"},{max:30,message:"\u6A21\u578B\u6807\u8BC6\u8BF7\u63A7\u5236\u572830\u4E2A\u5B57\u7B26\u4EE5\u5185"},{type:"string",pattern:/^\w+$/,message:"\u6A21\u578B\u6807\u8BC6\u53EA\u80FD\u662F\u82F1\u6587\u3001\u6570\u5B57\u548C\u4E0B\u5212\u7EBF\u7684\u7EC4\u5408"}]}}},{title:"\u6A21\u578B\u6807\u8BC6",dataIndex:"nid",hideInTable:!0},{search:!1,title:"\u63A7\u5236\u5668\u540D",dataIndex:"ctl_name",formItemProps:function(){return{rules:[{required:!0,message:"\u63A7\u5236\u5668\u540D\u4E3A\u5FC5\u586B\u9879"},{max:30,message:"\u63A7\u5236\u5668\u540D\u8BF7\u63A7\u5236\u572830\u4E2A\u5B57\u7B26\u4EE5\u5185"},{type:"string",pattern:/^[A-Z]\w+$/,message:"\u63A7\u5236\u540D\u9996\u5B57\u6BCD\u987B\u4E3A\u5927\u5199"}]}}},{sorter:!0,search:!1,editable:!1,title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_time"},{title:"\u65E5\u671F\u8303\u56F4",hideInTable:!0,dataIndex:"dateRange",valueType:"dateRange",fieldProps:{showNow:!0,showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}},{search:!1,filters:!0,onFilter:!0,title:"\u6A21\u578B\u72B6\u6001",filterMode:"tree",dataIndex:"status",valueType:"select",valueEnum:{1:{text:"\u663E\u793A",status:"Show"},0:{text:"\u9690\u85CF",status:"Hide"}},fieldProps:{allowClear:!1,options:[{label:"\u9690\u85CF",value:0},{label:"\u663E\u793A",value:1}]},render:function(l,n){return(0,u.jsx)(y.S,{record:n,url:"/module/status"})}},{title:"\u64CD\u4F5C",valueType:"option",render:function(l,n,d,s){return[(0,u.jsxs)(I.Z,{size:4,children:[(0,u.jsx)(D.Z,{size:"small",shape:"round",icon:(0,u.jsx)(Y.Z,{}),onClick:function(){var a;return s==null||(a=s.startEditable)===null||a===void 0?void 0:a.call(s,n.id)},children:"\u7F16\u8F91"}),(0,u.jsx)(D.Z,{danger:!0,size:"small",shape:"round",type:"primary",icon:(0,u.jsx)(Q.Z,{}),onClick:function(a){return ee(a,n)},children:"\u5220\u9664"})]},"operation")]}}];return(0,u.jsx)(K.ZP,{children:(0,u.jsx)(L.nx,{rowKey:"id",actionRef:v,columns:ae,request:te,search:{filterType:"light"},editableFormRef:b,recordCreatorProps:!1,scroll:O.tableScroll,editable:{editableKeys:Z,type:"multiple",onChange:B,onSave:function(l,n){return ne(n)},actionRender:function(l,n,d){return[d.save,d.cancel]}},pagination:{pageSize:O.pageSize,hideOnSinglePage:!0},rowSelection:{checkStrictly:!1,selections:[f.Z.SELECTION_ALL,f.Z.SELECTION_INVERT,f.Z.SELECTION_NONE]},headerTitle:(0,u.jsx)(P.Nv,{accessible:H.btnFilter("module_create_btn"),children:(0,u.jsx)(D.Z,{shape:"round",type:"primary",icon:(0,u.jsx)(S.Z,{}),onClick:function(){var l,n;return(l=v.current)===null||l===void 0||(n=l.addEditRecord)===null||n===void 0?void 0:n.call(l,G)},children:"\u65B0\u5EFA\u6A21\u578B"},"createModule")},"module_create_btn"),tableAlertRender:function(l){var n=l.selectedRowKeys,d=l.onCleanSelected;return(0,u.jsxs)("span",{children:["\u5DF2\u9009 ",n.length," \u4E2A\u6A21\u578B",(0,u.jsx)("a",{style:{marginLeft:8},onClick:d,children:"\u53D6\u6D88\u9009\u62E9"})]})},tableAlertOptionRender:function(l){var n=l.selectedRows;return(0,u.jsx)(I.Z,{size:16,children:(0,u.jsx)("a",{onClick:function(s){return ee(s,n)},children:"\u6279\u91CF\u5220\u9664"})})}})})}},99882:function(X,R,e){"use strict";e.d(R,{wk:function(){return f},rQ:function(){return z},V5:function(){return I},Od:function(){return W},mJ:function(){return D},m4:function(){return h},R$:function(){return x}});var E=e(36571),f=function(_){return(0,E.qC)("/channel/save",_)},z=function(_){return(0,E.Yu)("/channel/list",_)},I=function(_){return(0,E.Yu)("/channel/cate",_)},W=function(_){return(0,E.qC)("/channel/del",_)},D=function(_){return(0,E.qC)("/module/save",_)},h=function(_){return(0,E.Yu)("/module/list",_)},x=function(_){return(0,E.qC)("/module/del",_)}},7446:function(X,R,e){"use strict";e.d(R,{S:function(){return w}});var E=e(77576),f=e(85979),z=e(34792),I=e(48086),W=e(32059),D=e(3182),h=e(2824),x=e(94043),c=e.n(x),_=e(67294),F=e(36571),k=e(85893),w=function(r){var M,P,K,L,y,A=(M=r==null?void 0:r.fieldKey)!==null&&M!==void 0?M:"status",U=(P=r==null?void 0:r.disabled)!==null&&P!==void 0?P:!1,N=(K=r==null?void 0:r.echoChecked)!==null&&K!==void 0?K:"\u663E\u793A",Y=(L=r==null?void 0:r.echoUnChecked)!==null&&L!==void 0?L:"\u9690\u85CF",Q=(0,_.useState)(!1),S=(0,h.Z)(Q,2),u=S[0],j=S[1],H=(y=r==null?void 0:r.statusField)!==null&&y!==void 0?y:r.record.status,G=function(){var b=(0,D.Z)(c().mark(function T(O,$,p){return c().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return $.stopPropagation(),j(!0),B.next=4,(0,F.qC)(r.url,(0,W.Z)({id:p.id},A,O?1:0)).then(function(v){j(!1),(v==null?void 0:v.success)&&I.default.success(v.msg)});case 4:case"end":return B.stop()}},T)}));return function(O,$,p){return b.apply(this,arguments)}}();return(0,k.jsx)(f.Z,{loading:u,disabled:U,checkedChildren:N,defaultChecked:!!H,unCheckedChildren:Y,onChange:function(T,O){return G(T,O,r.record)}},r.record.id)}}}]);
