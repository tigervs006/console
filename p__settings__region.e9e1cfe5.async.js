(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[838],{59465:function(M,Z,e){"use strict";e.d(Z,{Z:function(){return $}});var d=e(28991),p=e(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},S=z,I=e(27029),f=function(x,C){return p.createElement(I.Z,(0,d.Z)((0,d.Z)({},x),{},{ref:C,icon:S}))};f.displayName="MinusCircleOutlined";var $=p.forwardRef(f)},1977:function(M,Z,e){"use strict";e.d(Z,{Z:function(){return $}});var d=e(28991),p=e(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},S=z,I=e(27029),f=function(x,C){return p.createElement(I.Z,(0,d.Z)((0,d.Z)({},x),{},{ref:C,icon:S}))};f.displayName="PlusCircleOutlined";var $=p.forwardRef(f)},15963:function(M,Z,e){"use strict";e.r(Z),e.d(Z,{default:function(){return me}});var d=e(66456),p=e(80818),z=e(49111),S=e(19650),I=e(57663),f=e(71577),$=e(62999),B=e(95216),x=e(11849),C=e(3182),U=e(34792),R=e(48086),E=e(2824),V=e(71194),b=e(97022),F=e(94043),g=e.n(F),l=e(67294),t=e(21010),te=e(46298),re=e(14854),N=e(36571),T=e(51804),D=e(75860),W=e(28991),ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},ie=ae,ue=e(27029),G=function(L,K){return l.createElement(ue.Z,(0,W.Z)((0,W.Z)({},L),{},{ref:K,icon:ie}))};G.displayName="RedoOutlined";var le=l.forwardRef(G),oe=e(1870),se=e(8212),ce=e(73171),de=e(59465),ve=e(1977),fe=e(49101),s=e(85893),me=function(){var J=b.Z.confirm,L=(0,t.md)(),K={pid:0,cid:0,code:0,status:1,name:"\u4E2D\u56FD",id:(0,D.O1)(4)},he=(0,l.useRef)(),pe=(0,t.tT)("resize",function(c){return{resize:c.resize}}),Ce=pe.resize,ge=[{id:0,cid:0,pid:0,name:"\u4E2D\u56FD"}],ye=(0,l.useState)([]),X=(0,E.Z)(ye,2),xe=X[0],Re=X[1],Oe=(0,l.useState)(!0),k=(0,E.Z)(Oe,2),Ze=k[0],H=k[1],Se=(0,l.useState)([]),w=(0,E.Z)(Se,2),Ee=w[0],je=w[1],Pe=(0,l.useState)([]),q=(0,E.Z)(Pe,2),y=q[0],_=q[1],Ae=(0,l.useState)([]),ee=(0,E.Z)(Ae,2),Ie=ee[0],$e=ee[1],j=(0,l.useRef)(),De=function(i){(0,N.oC)(i).then(function(n){(n==null?void 0:n.success)&&R.default.success(n.msg),(n==null?void 0:n.success)&&(0,D.pQ)(2e3).then(function(){var r;return(r=j.current)===null||r===void 0?void 0:r.reload()})})},ze=function(){var c=(0,C.Z)(g().mark(function i(n){return g().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,T.LB)(n).then(function(u){(u==null?void 0:u.success)&&R.default.success(u.msg),(u==null?void 0:u.success)&&R.default.info("\u6B63\u5728\u5237\u65B0\u7F13\u5B58..."),(u==null?void 0:u.success)&&(0,N.oC)({key:"region"}).then(function(a){(a==null?void 0:a.success)&&R.default.success(a.msg),(a==null?void 0:a.success)&&(0,D.pQ)(2e3).then(function(){var O;return(O=j.current)===null||O===void 0?void 0:O.reload()})})}).finally(function(){return H(!0)});case 2:case"end":return o.stop()}},i)}));return function(n){return c.apply(this,arguments)}}(),ne=function(i,n){i.stopPropagation();var r=[],o=[];n instanceof Array?n.forEach(function(u){var a;r.push(u.id),o.push((a=u==null?void 0:u.name)!==null&&a!==void 0?a:"")}):r=(0,D.H6)([n]),J({centered:!0,cancelText:"\u7B97\u4E86",title:"\u5F53\u771F\u8981\u5220\u9664?",icon:(0,s.jsx)(oe.Z,{}),cancelButtonProps:{shape:"round"},okButtonProps:{danger:!0,shape:"round"},content:n instanceof Array?"".concat(o.slice(0,3).join("\uFF0C")," \u7B49 ").concat(o.length," \u4E2A\u5730\u533A"):"".concat(n.name," \u8FD9\u4E2A\u5730\u533A"),onOk:function(){return(0,C.Z)(g().mark(function a(){return g().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,T.Od)({id:r}).then(function(v){var P;(v==null?void 0:v.success)&&R.default.success(v.msg),(v==null?void 0:v.success)&&R.default.info("\u6B63\u5728\u5237\u65B0\u7F13\u5B58..."),n instanceof Array&&((P=j.current)===null||P===void 0||P.clearSelected()),(v==null?void 0:v.success)&&(0,N.oC)({key:"region"}).then(function(h){(h==null?void 0:h.success)&&R.default.success(h.msg),(h==null?void 0:h.success)&&(0,D.pQ)(2e3).then(function(){var A;return(A=j.current)===null||A===void 0?void 0:A.reload()})})});case 2:case"end":return m.stop()}},a)}))()},onCancel:function(){var a;n instanceof Array&&((a=j.current)===null||a===void 0||a.clearSelected())}})},Be=function(i,n){_(function(r){return i&&n.children?r.concat(n.id):i&&!n.children?r:(r.splice(r.findIndex(function(o){return o===n.id}),1),r.length?r:[])})},Le=function(){var c=(0,C.Z)(g().mark(function i(n,r,o){var u,a;return g().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:u=(0,x.Z)((0,x.Z)((0,x.Z)({},n),r),o);for(a in u)(u[a]===""||u[a]===null||u[a]===void 0)&&delete u[a];return m.next=4,(0,T.mm)(u).then(function(v){var P,h,A,Q,Y=v==null||(P=v.data)===null||P===void 0?void 0:P.list;return je(ge.concat(Y)),Re((0,D.jZ)(Y)),{data:Y||[],total:(h=v==null||(A=v.data)===null||A===void 0?void 0:A.total)!==null&&h!==void 0?h:0,success:(Q=v==null?void 0:v.success)!==null&&Q!==void 0?Q:!0}});case 4:return m.abrupt("return",m.sent);case 5:case"end":return m.stop()}},i)}));return function(n,r,o){return c.apply(this,arguments)}}(),Me=[{title:"\u5730\u533A\u540D\u79F0",dataIndex:"name",formItemProps:function(){return{rules:[{required:!0,message:"\u5730\u533A\u540D\u79F0\u4E0D\u5F97\u4E3A\u7A7A"},{type:"string",pattern:/^[\u4e00-\u9fa5]+$/,message:"\u5730\u533A\u540D\u79F0\u53EA\u80FD\u662F\u4E2D\u6587"}]}}},{title:"\u6240\u5C5E\u5730\u533A",dataIndex:"pid",renderFormItem:function(){return(0,s.jsx)(B.Z,{showSearch:!0,allowClear:!0,treeData:Ee,treeNodeFilterProp:"name",fieldNames:{label:"name",value:"cid"}})},render:function(i,n){return n.pname},formItemProps:function(){return{rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6240\u5C5E\u5730\u533A"}]}}},{title:"\u5730\u533A\u7F16\u7801",dataIndex:"code",formItemProps:function(){return{rules:[{type:"string",pattern:/^[^0]\d{11}$/,message:"\u5730\u533A\u7F16\u7801\u5E94\u4E3A\u975E0\u5F00\u5934\u768412\u4F4D\u6574\u6570"}]}}},{editable:!1,title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_time"},{title:"\u64CD\u4F5C",fixed:"right",valueType:"option",render:function(i,n,r,o){return[(0,s.jsxs)(S.Z,{size:4,children:[(0,s.jsx)(f.Z,{size:"small",shape:"round",icon:(0,s.jsx)(se.Z,{}),onClick:function(a){var O;a==null||a.stopPropagation(),H(!1),o==null||(O=o.startEditable)===null||O===void 0||O.call(o,n.id)},children:"\u7F16\u8F91"}),(0,s.jsx)(f.Z,{danger:!0,size:"small",shape:"round",type:"primary",icon:(0,s.jsx)(ce.Z,{}),onClick:function(a){return ne(a,n)},children:"\u5220\u9664"})]},"operation")]}}];return(0,s.jsx)(te.ZP,{children:(0,s.jsx)(re.nx,{rowKey:"id",search:!1,actionRef:j,columns:Me,pagination:!1,request:Le,editableFormRef:he,recordCreatorProps:!1,editable:{editableKeys:Ie,type:"multiple",onChange:$e,onSave:function(i,n){return ze(n)},onCancel:function(){var c=(0,C.Z)(g().mark(function n(){return g().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",H(!0));case 1:case"end":return o.stop()}},n)}));function i(){return c.apply(this,arguments)}return i}(),actionRender:function(i,n,r){return[r.save,r.cancel]}},expandable:{expandRowByClick:Ze,expandedRowKeys:y,onExpand:function(i,n){return Be(i,n)}},scroll:1920>=window.innerWidth?{x:1300,y:600}:Ce.tableScroll,rowSelection:{checkStrictly:!1,selections:[p.Z.SELECTION_ALL,p.Z.SELECTION_INVERT,p.Z.SELECTION_NONE]},toolBarRender:function(){return[(0,s.jsx)(f.Z,{shape:"round",type:"default",icon:y!=null&&y.length?(0,s.jsx)(de.Z,{}):(0,s.jsx)(ve.Z,{}),onClick:function(){return _(y!=null&&y.length?[]:xe)},children:y!=null&&y.length?"\u6536\u8D77\u6240\u6709":"\u5C55\u5F00\u6240\u6709"},"expandedAll"),(0,s.jsx)(t.Nv,{accessible:L.btnFilter("refresh_cache_btn"),children:(0,s.jsx)(f.Z,{shape:"round",type:"default",icon:(0,s.jsx)(le,{}),onClick:function(){return De({key:"region"})},children:"\u5237\u65B0\u7F13\u5B58"},"refreshCache")},"refresh_cache_btn"),(0,s.jsx)(t.Nv,{accessible:L.btnFilter("region_create_btn"),children:(0,s.jsx)(f.Z,{shape:"round",type:"primary",icon:(0,s.jsx)(fe.Z,{}),onClick:function(){var n,r;return(n=j.current)===null||n===void 0||(r=n.addEditRecord)===null||r===void 0?void 0:r.call(n,K)},children:"\u65B0\u589E\u5730\u533A"},"createRegion")},"region_create_btn")]},tableAlertRender:function(i){var n=i.selectedRowKeys,r=i.onCleanSelected;return(0,s.jsxs)("span",{children:["\u5DF2\u9009 ",n.length," \u4E2A\u5730\u533A",(0,s.jsx)("a",{style:{marginLeft:8},onClick:r,children:"\u53D6\u6D88\u9009\u62E9"})]})},tableAlertOptionRender:function(i){var n=i.selectedRows;return(0,s.jsx)(S.Z,{size:16,children:(0,s.jsx)("a",{onClick:function(o){return ne(o,n)},children:"\u6279\u91CF\u5220\u9664"})})}})})}},51804:function(M,Z,e){"use strict";e.d(Z,{um:function(){return I},Ao:function(){return f},D$:function(){return $},Ru:function(){return B},tL:function(){return x},LR:function(){return C},LB:function(){return U},Od:function(){return R},e0:function(){return E},pU:function(){return V},rF:function(){return b},mm:function(){return F},CU:function(){return g}});var d=e(36571),p=function(){return getData("/system/database/list")},z=function(){return getData("/system/database/record")},S=function(t){return getData("/system/list",t)},I=function(t){return(0,d.Yu)("/system/database/info",t)},f=function(t){return(0,d.qC)("/system/database/remove",t)},$=function(t){return(0,d.qC)("/system/database/backup",t)},B=function(t){return(0,d.qC)("/system/database/repair",t)},x=function(t){return(0,d.qC)("/system/database/optimize",t)},C=function(t){return(0,d.qC)("/system/database/download",t)},U=function(t){return(0,d.qC)("/region/save",t)},R=function(t){return(0,d.qC)("/region/del",t)},E=function(t){return(0,d.Yu)("/system/record",t)},V=function(t){return(0,d.Yu)("/develop/config_data/list",t)},b=function(t){return(0,d.qC)("/develop/config_data/update_list",t)},F=function(t){return(0,d.Yu)("/region/list",t,{useCache:!0,ttl:0})},g=function(t){return(0,d.qC)("/system/database/revert",t)}}}]);
