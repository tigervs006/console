(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7909],{54977:function(I,E,e){"use strict";e.d(E,{Z:function(){return u}});var i=e(28991),v=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},h=D,_=e(27029),l=function(o,r){return v.createElement(_.Z,(0,i.Z)((0,i.Z)({},o),{},{ref:r,icon:h}))};l.displayName="FormOutlined";var u=v.forwardRef(l)},258:function(I,E,e){"use strict";e.d(E,{Z:function(){return u}});var i=e(28991),v=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"},h=D,_=e(27029),l=function(o,r){return v.createElement(_.Z,(0,i.Z)((0,i.Z)({},o),{},{ref:r,icon:h}))};l.displayName="UndoOutlined";var u=v.forwardRef(l)},97639:function(I){I.exports={siteTagPlus:"siteTagPlus___1olkg",tagElement:"tagElement___Cmkrh"}},99882:function(I,E,e){"use strict";e.d(E,{wk:function(){return v},rQ:function(){return D},V5:function(){return h},Od:function(){return _},mJ:function(){return l},m4:function(){return u},R$:function(){return B}});var i=e(36571),v=function(r){return(0,i.qC)("/channel/save",r)},D=function(r){return(0,i.Yu)("/channel/list",r)},h=function(r){return(0,i.Yu)("/channel/cate",r)},_=function(r){return(0,i.qC)("/channel/del",r)},l=function(r){return(0,i.qC)("/module/save",r)},u=function(r){return(0,i.Yu)("/module/list",r)},B=function(r){return(0,i.qC)("/module/del",r)}},84994:function(I,E,e){"use strict";e.d(E,{Q:function(){return z}});var i=e(47673),v=e(4107),D=e(71153),h=e(60331),_=e(86582),l=e(2824),u=e(67294),B=e(97639),o=e.n(B),r=e(65858),V=e(89366),U=e(49101),C=e(85893),z=function(p){var A,T,w=(A=p==null?void 0:p.color)!==null&&A!==void 0?A:"processing",y=(0,u.useRef)(null),Q=(0,u.useState)(""),m=(0,l.Z)(Q,2),s=m[0],R=m[1],L=(0,u.useState)(function(){var c;return(c=p==null?void 0:p.tagsList)!==null&&c!==void 0?c:[]}),W=(0,l.Z)(L,2),O=W[0],K=W[1],Y=(T=p==null?void 0:p.tagIcon)!==null&&T!==void 0?T:(0,C.jsx)(V.Z,{"data-inspector-line":"32","data-inspector-column":"51","data-inspector-relative-path":"src\\pages\\components\\InputTagList\\index.tsx"}),N=(0,u.useState)(!1),b=(0,l.Z)(N,2),F=b[0],j=b[1];(0,u.useEffect)(function(){var c;F&&((c=y.current)===null||c===void 0||c.focus())},[F]);var Z=function(){return j(!0)},$=function(t){return R(t.target.value)},H=function(t){var n=O.filter(function(a){return a!==t});p.handleChange(n),K(n)},S=function(){if(s&&O.indexOf(s)===-1){var t=[].concat((0,_.Z)(O),[s]);p.handleChange(t),K(t)}R(""),j(!1)},G=function(t){if(t){var n=(0,C.jsx)(h.Z,{"data-inspector-line":"65","data-inspector-column":"4","data-inspector-relative-path":"src\\pages\\components\\InputTagList\\index.tsx",closable:!0,color:w,icon:Y,onClose:function(f){f.preventDefault(),H(t)},children:t});return(0,C.jsx)("span",{"data-inspector-line":"78","data-inspector-column":"4","data-inspector-relative-path":"src\\pages\\components\\InputTagList\\index.tsx",className:o().tagElement,children:n},t)}else return};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{"data-inspector-line":"88","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\components\\InputTagList\\index.tsx",children:(0,C.jsx)(r.Z,{"data-inspector-line":"89","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\components\\InputTagList\\index.tsx",enter:{scale:.8,opacity:0,type:"from",duration:100},onEnd:function(t){(t.type==="appear"||t.type==="enter")&&(t.target.style="display: inline-block")},leave:{width:0,scale:0,opacity:0,duration:200},appear:!1,children:O==null?void 0:O.map(G)})}),F&&(0,C.jsx)(v.Z,{"data-inspector-line":"113","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\components\\InputTagList\\index.tsx",ref:y,type:"text",size:"small",style:{width:"30%"},value:s,onBlur:S,onChange:$,onPressEnter:S}),!F&&(0,C.jsxs)(h.Z,{"data-inspector-line":"127","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\components\\InputTagList\\index.tsx",onClick:Z,className:o().siteTagPlus,children:[(0,C.jsx)(U.Z,{"data-inspector-line":"128","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\components\\InputTagList\\index.tsx"})," ",p.addition]})]})}},43420:function(I,E,e){"use strict";e.r(E);var i=e(49111),v=e(19650),D=e(34792),h=e(48086),_=e(11849),l=e(3182),u=e(2824),B=e(94043),o=e.n(B),r=e(21010),V=e(75860),U=e(67294),C=e(99882),z=e(10975),ne=e(46298),p=e(78980),A=e(84994),T=e(9006),w=e(258),y=e(54977),Q=e(15873),m=e(22811),s=e(85893);E.default=function(){var R,L=(0,U.useRef)(),W=(0,U.useState)([]),O=(0,u.Z)(W,2),K=O[0],Y=O[1],N=(0,r.tT)("file",function(t){return{setUploadList:t.setUploadList}}),b=N.setUploadList,F=(0,U.useState)(function(){var t;return((t=L.current)===null||t===void 0?void 0:t.getFieldValue("content"))||null}),j=(0,u.Z)(F,2),Z=j[0],$=j[1],H=function(){var t=(0,l.Z)(o().mark(function n(){return o().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,C.V5)({nid:2}).then(function(d){var x;return d==null||(x=d.data)===null||x===void 0?void 0:x.list.map(function(M){return{value:M.id,label:M.cname}})});case 2:return f.abrupt("return",f.sent);case 3:case"end":return f.stop()}},n)}));return function(){return t.apply(this,arguments)}}(),S=function(n){var a;$(n),(a=L.current)===null||a===void 0||a.setFieldsValue({content:n})},G=function(){var t=(0,l.Z)(o().mark(function n(a){var f,d;return o().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,T.gg)((0,_.Z)((0,_.Z)({},a),{},{content:Z,id:(f=(d=r.m8.location.query)===null||d===void 0?void 0:d.id)!==null&&f!==void 0?f:"0"})).then(function(P){(P==null?void 0:P.success)&&h.default.success(P.msg),(P==null?void 0:P.success)&&(0,V.pQ)(2e3).then(function(){return r.m8.push({pathname:"/product/list"})})});case 2:case"end":return M.stop()}},n)}));return function(a){return t.apply(this,arguments)}}(),c=function(){var t=(0,l.Z)(o().mark(function n(a){return o().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(a!=null&&a.id)){d.next=6;break}return d.next=3,(0,T.C5)(a).then(function(x){var M,P,J,X,k,q,ee,g=(M=x==null||(P=x.data)===null||P===void 0?void 0:P.info)!==null&&M!==void 0?M:{};return Y(g==null?void 0:g.special),$((J=g==null||(X=g.detail)===null||X===void 0?void 0:X.content)!==null&&J!==void 0?J:null),b((k=g==null?void 0:g.album.map(function(ae){var te;return{url:ae,status:"done",uid:Math.floor(Math.random()*100).toString(),name:((te=ae.match(/\/(\w+\.(?:png|jpg|gif|bmp))$/i))===null||te===void 0?void 0:te[1])||""}}))!==null&&k!==void 0?k:[]),(0,_.Z)((0,_.Z)({},g),{},{content:(q=g==null||(ee=g.detail)===null||ee===void 0?void 0:ee.content)!==null&&q!==void 0?q:null})});case 3:return d.abrupt("return",d.sent);case 6:return b([]),d.abrupt("return",{});case 8:case"end":return d.stop()}},n)}));return function(a){return t.apply(this,arguments)}}();return(0,s.jsx)(ne.ZP,{"data-inspector-line":"94","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",children:(0,s.jsxs)(m.ZP,{"data-inspector-line":"95","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",formRef:L,layout:"vertical",wrapperCol:{md:{span:16},lg:{span:16},xl:{span:8}},initialValues:{isCrop:1},submitter:{render:function(n,a){return(0,s.jsx)(v.Z,{"data-inspector-line":"109","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",size:"middle",children:a},"spaceGroup")},resetButtonProps:{shape:"round",icon:(0,s.jsx)(w.Z,{"data-inspector-line":"114","data-inspector-column":"62","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx"})},submitButtonProps:{type:"primary",shape:"round",icon:(0,s.jsx)(y.Z,{"data-inspector-line":"115","data-inspector-column":"80","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx"})}},validateTrigger:["onBlur"],params:{id:(R=r.m8.location.query)===null||R===void 0?void 0:R.id},onFinish:function(n){return G(n)},request:function(n){return c(n)},children:[(0,s.jsx)(m._I,{"data-inspector-line":"126","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",hasFeedback:!0,width:"sm",name:"pid",label:"\u5206\u7C7B",request:H,tooltip:"\u5546\u54C1\u53D1\u5E03\u7684\u5206\u7C7B",fieldProps:{allowClear:!1},rules:[{required:!0,message:"\u9009\u62E9\u5546\u54C1\u53D1\u5E03\u7684\u5206\u7C7B"}]}),(0,s.jsx)(m.Hg,{"data-inspector-line":"136","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",min:0,width:"sm",hasFeedback:!0,label:"\u552E\u4EF7",name:"price",rules:[{required:!0,message:"\u8BF7\u4E3A\u5546\u54C1\u8BBE\u7F6E\u552E\u4EF7"}]}),(0,s.jsx)(m.V,{"data-inspector-line":"137","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",hasFeedback:!0,width:"sm",label:"\u5E93\u5B58",name:"stock",tooltip:"\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u8BBE\u7F6E\u5E93\u5B58",fieldProps:{allowClear:!1},rules:[{required:!0,message:"\u8BF7\u4E3A\u5546\u54C1\u8BBE\u7F6E\u5E93\u5B58"},{pattern:/^\d+$/,message:"\u5546\u54C1\u5E93\u5B58\u5FC5\u9700\u4E3A\u6B63\u6574\u6570"}]}),(0,s.jsx)(m.V,{"data-inspector-line":"149","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",hasFeedback:!0,label:"\u5546\u54C1\u540D",name:"title",tooltip:"\u9650\u523632\u4E2A\u5B57\u7B26",placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u540D\u4F5C\u4E3A\u6807\u9898",getValueFromEvent:function(n){return n.target.value.trim()},fieldProps:{maxLength:32,showCount:!0},rules:[{required:!0,message:"\u8BF7\u5B8C\u5584\u5546\u54C1\u540D"},{min:15,message:"\u5546\u54C1\u540D\u4E0D\u5B9C\u592A\u77ED"}]}),(0,s.jsx)(m.V,{"data-inspector-line":"163","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",hasFeedback:!0,label:"\u5173\u952E\u8BCD",name:"keywords",tooltip:"\u8BF7\u7528\u7A7A\u683C\u5206\u9694",placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD",fieldProps:{showCount:!0,maxLength:32},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD"},{type:"string",min:8,message:"\u518D\u591A\u6765\u4E24\u4E2A\u5173\u952E\u8BCD"},{type:"string",pattern:/^[^\u2018-\u2027\uff01-\uff0f\uff1a-\uff20\u3002]+$/,message:"\u5173\u952E\u8BCD\u53EA\u80FD\u4F7F\u7528\u82F1\u6587\u9017\u53F7\u6216\u7A7A\u683C\u5206\u9694"}]}),(0,s.jsx)(m.$J,{"data-inspector-line":"180","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",hasFeedback:!0,label:"\u5546\u54C1\u7B80\u8FF0",name:"description",tooltip:"SEO\u4F18\u5316\u5F88\u91CD\u8981",placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u7B80\u8FF0",getValueFromEvent:function(n){return n.target.value.trim()},fieldProps:{maxLength:256,showCount:!0,allowClear:!0,autoSize:{minRows:5,maxRows:8}},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5546\u54C1\u7B80\u8FF0"},{type:"string",min:50,message:"\u518D\u591A\u51E0\u53E5\u5546\u54C1\u7B80\u8FF0\u5427"}]}),(0,s.jsx)(m.ZP.Item,{"data-inspector-line":"199","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",hasFeedback:!0,label:"\u5546\u54C1\u5356\u70B9",name:"special",tooltip:"\u63D0\u70BC\u5546\u54C1\u5356\u70B9",rules:[{required:!0,message:"\u8BF7\u81F3\u5C11\u586B\u5199\u4E00\u4E2A\u5546\u54C1\u5356\u70B9"},function(){return{validator:function(n,a){return 3>=a.length?Promise.resolve():Promise.reject(new Error("\u5546\u54C1\u5356\u70B9\u53EA\u9700\u89813\u4E2A\u5C31\u884C\u4E86"))}}}],children:(0,s.jsx)(A.Q,{"data-inspector-line":"213","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",color:"red",tagsList:K,addition:"\u5546\u54C1\u5356\u70B9",tagIcon:(0,s.jsx)(Q.Z,{"data-inspector-line":"217","data-inspector-column":"33","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx"}),handleChange:function(n){var a;return(a=L.current)===null||a===void 0?void 0:a.setFieldValue("special",n)}})}),(0,s.jsx)(m.ZP.Item,{"data-inspector-line":"221","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",name:"album",label:"\u5546\u54C1\u76F8\u518C",tooltip:"\u9650\u5236\u4E3A5\u5F20\u56FE\u7247",rules:[{required:!0,message:"\u8BF7\u5B8C\u5584\u5546\u54C1\u76F8\u518C"},{type:"array",max:5,message:"\u5546\u54C1\u76F8\u518C\u53EA\u9700\u89815\u5F20\u56FE\u7247\u5C31\u884C\u4E86"}],children:(0,s.jsx)(p.p,{"data-inspector-line":"230","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",limit:5,setFieldValue:function(n){var a;return(a=L.current)===null||a===void 0?void 0:a.setFieldValue("album",n)}})}),(0,s.jsx)(m.ZP.Item,{"data-inspector-line":"232","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",name:"content",label:"\u5546\u54C1\u8BE6\u60C5",tooltip:"\u5546\u54C1\u8BE6\u60C5",wrapperCol:{xs:{span:24},sm:{span:24},xl:{span:16}},rules:[{required:!0,message:"\u5546\u54C1\u8BE6\u60C5\u4E0D\u5F97\u4E3A\u7A7A"}],children:(0,s.jsx)(z.Z,{"data-inspector-line":"243","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\product\\edit\\index.tsx",content:Z,setContent:S,uploadPath:"product/content"})})]})})}},9006:function(I,E,e){"use strict";e.d(E,{C5:function(){return v},gg:function(){return D},Od:function(){return h},rQ:function(){return _}});var i=e(36571),v=function(u){return(0,i.Yu)("/product",u)},D=function(u){return(0,i.qC)("/product/save",u)},h=function(u){return(0,i.qC)("/product/del",u)},_=function(u){return(0,i.Yu)("/product/list",u)}}}]);
