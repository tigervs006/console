(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[72],{7446:function(ne,Z,e){"use strict";e.d(Z,{S:function(){return _}});var ae=e(77576),O=e(85979),re=e(34792),L=e(48086),H=e(32059),P=e(3182),S=e(2824),G=e(94043),R=e.n(G),p=e(67294),b=e(36571),V=e(85893),_=function(n){var h,m,g,M,T,j=(h=n==null?void 0:n.fieldKey)!==null&&h!==void 0?h:"status",B=(m=n==null?void 0:n.disabled)!==null&&m!==void 0?m:!1,F=(g=n==null?void 0:n.echoChecked)!==null&&g!==void 0?g:"\u663E\u793A",z=(M=n==null?void 0:n.echoUnChecked)!==null&&M!==void 0?M:"\u9690\u85CF",U=(0,p.useState)(!1),A=(0,S.Z)(U,2),W=A[0],$=A[1],N=(T=n==null?void 0:n.statusField)!==null&&T!==void 0?T:n.record.status,w=function(){var s=(0,P.Z)(R().mark(function D(f,v,K){return R().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v.stopPropagation(),$(!0),y.next=4,(0,b.qC)(n.url,(0,H.Z)({id:K.id},j,f?1:0)).then(function(C){$(!1),(C==null?void 0:C.success)&&L.default.success(C.msg)});case 4:case"end":return y.stop()}},D)}));return function(f,v,K){return s.apply(this,arguments)}}();return(0,V.jsx)(O.Z,{loading:W,disabled:B,checkedChildren:F,defaultChecked:!!N,unCheckedChildren:z,onChange:function(D,f){return w(D,f,n.record)}},n.record.id)}},99044:function(ne,Z,e){"use strict";e.r(Z),e.d(Z,{default:function(){return D}});var ae=e(66456),O=e(80818),re=e(49111),L=e(19650),H=e(57663),P=e(71577),S=e(11849),G=e(34792),R=e(48086),p=e(3182),b=e(2824),V=e(71194),_=e(97022),J=e(94043),n=e.n(J),h=e(67294),m=e(21010),g=e(75860),M=e(46298),T=e(14854),j=e(36571),B=function(v){return(0,j.qC)("/link/save",v)},F=function(v){return(0,j.Yu)("/link/list",v)},z=function(v){return(0,j.qC)("/link/del",v)},U=e(7446),A=e(1870),W=e(8212),$=e(76570),N=e(73171),w=e(49101),s=e(85893),D=function(){var f=_.Z.confirm,v=(0,m.md)(),K={sort:0,status:1,name:"\u53CB\u94FE\u540D\u79F0",contact:18e9,url:"https://xxx.com",id:(0,g.O1)(4),description:"\u6743\u91CD5\uFF0C\u884C\u4E1A\u76F8\u5173\u6027\u5927"},X=(0,h.useRef)(),y=(0,m.tT)("resize",function(i){return{resize:i.resize}}),C=y.resize,le=(0,h.useState)(),q=(0,b.Z)(le,2),k=q[0],se=q[1],ie=(0,h.useState)([]),ee=(0,b.Z)(ie,2),ue=ee[0],de=ee[1],I=(0,h.useRef)(),oe=function(){var i=(0,p.Z)(n().mark(function l(t){return n().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,B(t).then(function(a){(a==null?void 0:a.success)&&R.default.success(a.msg),(a==null?void 0:a.success)&&(0,g.pQ)(2e3).then(function(){var r;return(r=I.current)===null||r===void 0?void 0:r.reload()})});case 2:case"end":return u.stop()}},l)}));return function(t){return i.apply(this,arguments)}}(),te=function(l,t){l.stopPropagation();var o=[],u=[];t instanceof Array&&t.forEach(function(a){var r;o.push(a.id),u.push((r=a==null?void 0:a.name)!==null&&r!==void 0?r:"")}),f({centered:!0,cancelText:"\u7B97\u4E86",title:"\u5F53\u771F\u8981\u5220\u9664?",icon:(0,s.jsx)(A.Z,{}),cancelButtonProps:{shape:"round"},okButtonProps:{danger:!0,shape:"round"},content:t instanceof Array?"".concat(u.slice(0,3).join("\uFF0C")," \u7B49 ").concat(u.length," \u4E2A\u53CB\u94FE"):"".concat(t.name," \u8FD9\u4E2A\u53CB\u94FE"),onOk:function(){return(0,p.Z)(n().mark(function r(){return n().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,z({id:o}).then(function(d){var E;(d==null?void 0:d.success)&&R.default.success(d.msg),t instanceof Array&&((E=I.current)===null||E===void 0||E.clearSelected()),(d==null?void 0:d.success)&&(0,g.pQ)(2e3).then(function(){var x;return(x=I.current)===null||x===void 0?void 0:x.reload()})});case 2:case"end":return c.stop()}},r)}))()},onCancel:function(){var r;t instanceof Array&&((r=I.current)===null||r===void 0||r.clearSelected())}})},ce=function(){var i=(0,p.Z)(n().mark(function l(t,o,u){var a,r;return n().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:a=(0,S.Z)((0,S.Z)((0,S.Z)({},t),o),u);for(r in a)(a[r]===""||a[r]===null||a[r]===void 0)&&delete a[r];return c.next=4,F(a).then(function(d){var E,x,Q,Y,he=d==null||(E=d.data)===null||E===void 0?void 0:E.list;return{data:he||[],total:(x=d==null||(Q=d.data)===null||Q===void 0?void 0:Q.total)!==null&&x!==void 0?x:0,success:(Y=d==null?void 0:d.success)!==null&&Y!==void 0?Y:!0}});case 4:return c.abrupt("return",c.sent);case 5:case"end":return c.stop()}},l)}));return function(t,o,u){return i.apply(this,arguments)}}(),ve=[{width:50,title:"ID",sorter:!0,fixed:"left",search:!1,editable:!1,dataIndex:"id"},{width:100,search:!1,fixed:"left",title:"\u53CB\u94FE\u540D\u79F0",dataIndex:"name",formItemProps:function(){return{rules:[{required:!0,message:"\u53CB\u94FE\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"},{max:15,message:"\u53CB\u94FE\u540D\u79F0\u8BF7\u63A7\u5236\u572815\u4E2A\u5B57\u7B26\u4EE5\u5185"}]}}},{title:"\u53CB\u94FE\u540D\u79F0",dataIndex:"name",hideInTable:!0},{width:150,search:!1,title:"\u53CB\u94FE\u5730\u5740",dataIndex:"url",formItemProps:function(){return{rules:[{required:!0,message:"\u53CB\u94FE\u5730\u5740\u4E3A\u5FC5\u586B\u9879"},{type:"url",message:"\u4E0D\u662F\u6709\u6548\u7684url\u5730\u5740"}]}}},{width:150,search:!1,title:"\u8054\u7EDC\u65B9\u5F0F",dataIndex:"contact",tooltip:"QQ/\u5FAE\u4FE1/\u7535\u8BDD",formItemProps:function(){return{rules:[{required:!0,message:"\u8054\u7EDC\u65B9\u5F0F\u4E3A\u5FC5\u586B\u9879"},{max:20,message:"\u8054\u7EDC\u65B9\u5F0F\u8BF7\u63A7\u5236\u572820\u4E2A\u5B57\u7B26\u4EE5\u5185"}]}}},{title:"\u8054\u7EDC\u65B9\u5F0F",hideInTable:!0,dataIndex:"contact"},{width:200,search:!1,ellipsis:!0,title:"\u5176\u5B83\u5907\u6CE8",dataIndex:"description",formItemProps:function(){return{rules:[{max:50,message:"\u5907\u6CE8\u4FE1\u606F\u8BF7\u63A7\u5236\u572850\u4E2A\u5B57\u7B26\u4EE5\u5185"}]}}},{width:100,sorter:!0,search:!1,title:"\u53CB\u94FE\u6392\u5E8F",dataIndex:"sort",tooltip:"\u6570\u503C\u8D8A\u5927\u8D8A\u9760\u524D",formItemProps:function(){return{rules:[{required:!0,message:"\u53CB\u94FE\u6392\u5E8F\u4E3A\u5FC5\u586B\u9879"},{pattern:/^([1-9]|[1-9]\d{1,2})$/,message:"\u53EA\u80FD\u662F1~999\u7684\u6B63\u6574\u6570"}]}}},{width:150,sorter:!0,search:!1,editable:!1,title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_time"},{title:"\u65E5\u671F\u8303\u56F4",hideInTable:!0,dataIndex:"dateRange",valueType:"dateRange",fieldProps:{showNow:!0,showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}},{width:100,search:!1,filters:!0,onFilter:!0,title:"\u53CB\u94FE\u72B6\u6001",filterMode:"tree",dataIndex:"status",valueType:"select",valueEnum:{1:{text:"\u663E\u793A",status:"Show"},0:{text:"\u9690\u85CF",status:"Hide"}},fieldProps:{allowClear:!1,options:[{label:"\u9690\u85CF",value:0},{label:"\u663E\u793A",value:1}]},render:function(l,t){return(0,s.jsx)(U.S,{record:t,url:"/link/status"})}},{title:"\u64CD\u4F5C",fixed:"right",valueType:"option",render:function(l,t,o,u){return[(0,s.jsxs)(L.Z,{size:4,children:[(0,s.jsx)(P.Z,{size:"small",shape:"round",icon:(0,s.jsx)(W.Z,{}),onClick:function(){var r;return u==null||(r=u.startEditable)===null||r===void 0?void 0:r.call(u,t.id)},children:"\u7F16\u8F91"}),(0,s.jsx)(P.Z,{size:"small",shape:"round",type:"primary",icon:(0,s.jsx)($.Z,{}),onClick:function(){return window.open(t.url)},children:"\u6D4F\u89C8"}),(0,s.jsx)(P.Z,{danger:!0,size:"small",shape:"round",type:"primary",icon:(0,s.jsx)(N.Z,{}),onClick:function(r){return te(r,t)},children:"\u5220\u9664"})]},"operation")]}}];return(0,s.jsx)(M.ZP,{children:(0,s.jsx)(T.nx,{rowKey:"id",actionRef:I,columns:ve,request:ce,search:{filterType:"light"},editableFormRef:X,recordCreatorProps:!1,scroll:C.tableScroll,onChange:function(l){return se(l.pageSize)},editable:{editableKeys:ue,type:"multiple",onChange:de,onSave:function(l,t){return oe(t)},actionRender:function(l,t,o){return[o.save,o.cancel]}},pagination:{pageSize:k!=null?k:C.pageSize,hideOnSinglePage:!0},rowSelection:{checkStrictly:!1,selections:[O.Z.SELECTION_ALL,O.Z.SELECTION_INVERT,O.Z.SELECTION_NONE]},headerTitle:(0,s.jsx)(m.Nv,{accessible:v.btnFilter("link_create_btn"),children:(0,s.jsx)(P.Z,{shape:"round",type:"primary",icon:(0,s.jsx)(w.Z,{}),onClick:function(){var l,t;return(l=I.current)===null||l===void 0||(t=l.addEditRecord)===null||t===void 0?void 0:t.call(l,K)},children:"\u65B0\u589E\u53CB\u94FE"},"createLink")},"link_create_btn"),tableAlertRender:function(l){var t=l.selectedRowKeys,o=l.onCleanSelected;return(0,s.jsxs)("span",{children:["\u5DF2\u9009 ",t.length," \u4E2A\u53CB\u94FE",(0,s.jsx)("a",{style:{marginLeft:8},onClick:o,children:"\u53D6\u6D88\u9009\u62E9"})]})},tableAlertOptionRender:function(l){var t=l.selectedRows;return(0,s.jsx)(L.Z,{size:16,children:(0,s.jsx)("a",{onClick:function(u){return te(u,t)},children:"\u6279\u91CF\u5220\u9664"})})}})})}}}]);
