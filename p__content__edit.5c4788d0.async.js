(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9548],{84619:function(b,x,e){"use strict";e.r(x);var m=e(57663),C=e(71577),j=e(47673),M=e(4107),g=e(11849),y=e(34792),E=e(48086),v=e(49111),F=e(19650),le=e(88983),W=e(47933),de=e(12968),S=e(40610),ce=e(402),z=e(95574),_e=e(71194),G=e(97022),pe=e(74379),O=e(38648),B=e(3182),H=e(2824),X=e(94043),h=e.n(X),f=e(21010),K=e(67294),Y=e(99882),N=e(10975),Q=e(46298),J=e(78980),V=e(7524),P=e(75860),w=e(15873),k=e(95357),q=e(258),ee=e(54977),u=e(22811),t=e(85893);x.default=function(){var A,c=(0,K.useRef)(),te={UMI_ENV:"pre",REACT_APP_ENV:"pre",REACT_APP_PUBLIC_PATH:"/console/",REACT_APP_PREFIX_URL:"https://www.brandsz.cn"}.REACT_APP_PUBLIC_PATH,ne=(0,K.useState)(function(){var i;return(i=c.current)===null||i===void 0?void 0:i.getFieldValue("content")}),Z=(0,H.Z)(ne,2),D=Z[0],$=Z[1],ae=(0,f.tT)("file",function(i){return{setUploadList:i.setUploadList}}),R=ae.setUploadList,re=function(){var i=(0,B.Z)(h().mark(function n(){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,Y.V5)({nid:1}).then(function(a){var s;return(s=a.data)===null||s===void 0?void 0:s.list.map(function(_){return{value:_.id,label:_.cname}})});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},n)}));return function(){return i.apply(this,arguments)}}(),ie=function(){var n,r,o;if(!D)return O.default.error({message:"\u6B63\u6587\u5185\u5BB9\u4E3A\u7A7A",description:"\u8BF7\u5148\u5B8C\u5584\u6B63\u6587\u5185\u5BB9\u5E76\u63D2\u5165\u56FE\u50CF"});var a=(0,P.l3)(D);switch(!0){case a.length==1:O.default.success({message:"\u63D0\u53D6\u56FE\u50CF\u6210\u529F",description:(0,P.BX)(a.toString())}),(n=c.current)===null||n===void 0||n.setFieldValue("litpic",a.at(0));break;case 1<a.length:!((r=c.current)!==null&&r!==void 0&&r.getFieldValue("litpic"))&&((o=c.current)===null||o===void 0||o.setFieldValue("litpic",a.at(0))),G.Z.confirm({centered:!0,title:"\u8BF7\u9009\u62E9\u60A8\u8981\u4F7F\u7528\u7684\u56FE\u50CF",icon:(0,t.jsx)(w.Z,{"data-inspector-line":"72","data-inspector-column":"26","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx"}),okButtonProps:{shape:"round"},cancelButtonProps:{shape:"round"},content:(0,t.jsx)(W.ZP.Group,{"data-inspector-line":"76","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",defaultValue:a[0],onChange:function(_){var l;return(l=c.current)===null||l===void 0?void 0:l.setFieldValue("litpic",_.target.value)},children:(0,t.jsx)(F.Z,{"data-inspector-line":"77","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",size:"middle",direction:"vertical",children:a.map(function(s){return(0,t.jsx)(W.ZP,{"data-inspector-line":"79","data-inspector-column":"36","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",value:s,children:(0,t.jsx)(S.Z,{"data-inspector-line":"80","data-inspector-column":"40","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",src:s,width:200,fallback:"".concat(te,"logo.svg"),preview:{mask:(0,t.jsxs)(z.Z.Text,{"data-inspector-line":"86","data-inspector-column":"52","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",style:{color:"white"},children:[(0,t.jsx)(k.Z,{"data-inspector-line":"87","data-inspector-column":"56","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx"})," \u9884\u89C8"]})}})},(0,P.O1)(3))})})})});break;default:O.default.error({message:"\u63D0\u53D6\u56FE\u50CF\u5931\u8D25",description:"\u6B63\u6587\u4E2D\u4E0D\u5305\u542B\u56FE\u50CF"})}},se=function(n){var r;$(n),(r=c.current)===null||r===void 0||r.setFieldsValue({content:n})},oe=function(){var i=(0,B.Z)(h().mark(function n(r){var o,a,s;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,V.Vj)(Object.assign(r,{content:D,id:(o=(a=f.m8.location.query)===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null,author:(s=r==null?void 0:r.author)!==null&&s!==void 0?s:localStorage.getItem("user")})).then(function(d){(d==null?void 0:d.success)&&E.default.success(d.msg),(d==null?void 0:d.success)&&(0,P.pQ)(2e3).then(function(){return f.m8.push({pathname:"/content/list"})})});case 2:case"end":return l.stop()}},n)}));return function(r){return i.apply(this,arguments)}}(),ue=function(){var i=(0,B.Z)(h().mark(function n(r){return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r!=null&&r.id)){a.next=6;break}return a.next=3,(0,V.L5)((0,g.Z)({},r)).then(function(s){var _,l,d,I,L,T,U,p=(_=s==null||(l=s.data)===null||l===void 0?void 0:l.info)!==null&&_!==void 0?_:{};return $((d=p==null||(I=p.content)===null||I===void 0?void 0:I.content)!==null&&d!==void 0?d:null),R([{status:"done",url:p.litpic,name:(L=(0,P.BX)(p.litpic))!==null&&L!==void 0?L:"",uid:Math.floor(Math.random()*100).toString()}]),(0,g.Z)((0,g.Z)({},p),{},{content:(T=p==null||(U=p.content)===null||U===void 0?void 0:U.content)!==null&&T!==void 0?T:null})});case 3:return a.abrupt("return",a.sent);case 6:return R([]),a.abrupt("return",{});case 8:case"end":return a.stop()}},n)}));return function(r){return i.apply(this,arguments)}}();return(0,t.jsx)(Q.ZP,{"data-inspector-line":"157","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",children:(0,t.jsxs)(u.ZP,{"data-inspector-line":"158","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",formRef:c,layout:"vertical",wrapperCol:{md:{span:16},lg:{span:16},xl:{span:8}},initialValues:{isCrop:1,is_recom:1},submitter:{render:function(n,r){return(0,t.jsx)(F.Z,{"data-inspector-line":"174","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",size:"middle",children:r},"spaceGroup")},resetButtonProps:{shape:"round",icon:(0,t.jsx)(q.Z,{"data-inspector-line":"179","data-inspector-column":"62","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx"})},submitButtonProps:{type:"primary",shape:"round",icon:(0,t.jsx)(ee.Z,{"data-inspector-line":"180","data-inspector-column":"80","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx"})}},validateTrigger:["onBlur"],params:{id:(A=f.m8.location.query)===null||A===void 0?void 0:A.id},onFinish:function(n){return oe(n)},request:function(n){return ue(n)},children:[(0,t.jsx)(u._I,{"data-inspector-line":"191","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",hasFeedback:!0,width:"sm",name:"cid",label:"\u680F\u76EE",request:re,tooltip:"\u6587\u6863\u53D1\u5E03\u7684\u680F\u76EE",fieldProps:{allowClear:!1},rules:[{required:!0,message:"\u9009\u62E9\u6587\u6863\u53D1\u5E03\u7684\u680F\u76EE"}]}),(0,t.jsx)(u.V,{"data-inspector-line":"201","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",hasFeedback:!0,label:"\u6807\u9898",name:"title",tooltip:"\u9650\u523632\u4E2A\u5B57\u7B26",placeholder:"\u8BF7\u8F93\u5165\u6587\u6863\u6807\u9898",getValueFromEvent:function(n){return n.target.value.trim()},fieldProps:{maxLength:32,showCount:!0},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u6863\u6807\u9898"},{min:15,message:"\u6587\u6863\u6807\u9898\u4E0D\u5B9C\u592A\u77ED"}]}),(0,t.jsx)(u.V,{"data-inspector-line":"215","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",hasFeedback:!0,label:"\u5173\u952E\u8BCD",name:"keywords",tooltip:"\u8BF7\u7528\u7A7A\u683C\u5206\u9694",placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD",fieldProps:{showCount:!0,maxLength:64},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD"},{min:10,message:"\u518D\u591A\u6765\u4E24\u4E2A\u5173\u952E\u8BCD"},{type:"string",pattern:/^[^\u2018-\u2027\uff01-\uff0f\uff1a-\uff20\u3002]+$/,message:"\u5173\u952E\u8BCD\u53EA\u80FD\u4F7F\u7528\u82F1\u6587\u9017\u53F7\u6216\u7A7A\u683C\u5206\u9694"}]}),(0,t.jsx)(u.$J,{"data-inspector-line":"232","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",hasFeedback:!0,label:"\u6587\u6863\u7B80\u8FF0",name:"description",tooltip:"SEO\u4F18\u5316\u5F88\u91CD\u8981",placeholder:"\u8BF7\u8F93\u5165\u6587\u6863\u7B80\u8FF0",getValueFromEvent:function(n){return n.target.value.trim()},fieldProps:{allowClear:!0,showCount:!0,maxLength:256,autoSize:{minRows:5,maxRows:8}},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u6863\u7B80\u8FF0"},{min:50,message:"\u518D\u591A\u51E0\u53E5\u6587\u6863\u7B80\u8FF0",type:"string"}]}),(0,t.jsx)(u._I,{"data-inspector-line":"251","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",options:[{value:"upload",label:"\u4E0A\u4F20\u56FE\u50CF"},{value:"extract",label:"\u63D0\u53D6\u56FE\u50CF"},{value:"input",label:"\u56FE\u50CF\u7F51\u5740"}],width:"xs",label:"\u4E0A\u4F20\u65B9\u5F0F",name:"uploadMode",initialValue:["upload"],tooltip:"\u4E0A\u4F20/\u63D0\u53D6/\u8F93\u5165\u56FE\u50CF\u7F51\u5740",fieldProps:{allowClear:!1,onChange:function(){var n;if(!((n=f.m8.location.query)!==null&&n!==void 0&&n.id)){var r;R([]),(r=c.current)===null||r===void 0||r.setFieldsValue({litpic:[]})}}}}),(0,t.jsx)(u.ie,{"data-inspector-line":"282","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",name:["uploadMode"],children:function(n){var r=n.uploadMode;switch(r){case"input":return(0,t.jsx)(u.V,{"data-inspector-line":"287","data-inspector-column":"36","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",hasFeedback:!0,name:"litpic",label:"\u56FE\u50CF\u7F51\u5740",tooltip:"\u76F4\u63A5\u8F93\u5165\u56FE\u50CF\u7F51\u5740",placeholder:"\u8BF7\u8F93\u5165\u8F93\u5165\u56FE\u7247\u7F51\u5740",getValueFromEvent:function(a){return a.target.value.trim()},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u56FE\u50CF\u7F51\u5740\u6216\u9009\u62E9\u4E0A\u4F20\u56FE\u50CF\u4F5C\u4E3A\u6587\u6863\u5C01\u9762"},{type:"url",message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684url\u5730\u5740"}]});case"extract":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.ZP.Item,{"data-inspector-line":"304","data-inspector-column":"40","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",hasFeedback:!0,name:"litpic",label:"\u63D0\u53D6\u56FE\u50CF",tooltip:"\u4ECE\u6B63\u6587\u63D0\u53D6\u4E00\u5F20\u56FE\u50CF\u4F5C\u4E3A\u5C01\u9762",rules:[{required:!0,message:"\u8BF7\u70B9\u51FB\u6309\u94AE\u4ECE\u6B63\u6587\u4E2D\u63D0\u53D6\u4E00\u5F20\u56FE\u50CF\u4F5C\u4E3A\u6587\u6863\u5C01\u9762"},{type:"url",message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684url\u5730\u5740"}],children:(0,t.jsx)(M.Z,{"data-inspector-line":"314","data-inspector-column":"44","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",readOnly:!0,placeholder:"\u4ECE\u6B63\u6587\u63D0\u53D6\u4E00\u5F20\u56FE\u50CF\u4F5C\u4E3A\u5C01\u9762"})}),(0,t.jsx)(u.ZP.Item,{"data-inspector-line":"316","data-inspector-column":"40","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",children:(0,t.jsx)(C.Z,{"data-inspector-line":"317","data-inspector-column":"44","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",shape:"round",type:"primary",onClick:ie,children:"\u63D0\u53D6\u56FE\u50CF"})})]});default:return(0,t.jsx)(u.ZP.Item,{"data-inspector-line":"325","data-inspector-column":"36","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",name:"litpic",rules:[{required:!0,message:"\u8BF7\u5B8C\u5584\u6587\u6863\u5C01\u9762"},{type:"array",max:1,message:"\u6587\u6863\u5C01\u9762\u53EA\u9700\u89811\u5F20\u56FE\u7247\u5C31\u884C\u4E86"}],transform:function(a){return a instanceof Array?{litpic:a.at(-1)}:{litpic:a}},children:(0,t.jsx)(J.p,{"data-inspector-line":"333","data-inspector-column":"40","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",setFieldValue:function(a){var s;return(s=c.current)===null||s===void 0?void 0:s.setFieldValue("litpic",a)}})})}}}),(0,t.jsx)(u.ZP.Item,{"data-inspector-line":"339","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",label:"\u6587\u6863\u5C5E\u6027",tooltip:"\u8BBE\u7F6E\u6587\u6863\u5C5E\u6027",children:(0,t.jsxs)(F.Z,{"data-inspector-line":"340","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",children:[(0,t.jsx)(u.V2,{"data-inspector-line":"341","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",name:"is_head",children:"\u5934\u6761"}),(0,t.jsx)(u.V2,{"data-inspector-line":"342","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",name:"is_recom",children:"\u63A8\u8350"}),(0,t.jsx)(u.V2,{"data-inspector-line":"343","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",name:"is_litpic",children:"\u56FE\u6587"})]})}),(0,t.jsx)(u.ZP.Item,{"data-inspector-line":"346","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",name:"content",label:"\u6587\u6863\u5185\u5BB9",tooltip:"\u6587\u6863\u5185\u5BB9",wrapperCol:{xs:{span:24},sm:{span:24},xl:{span:16}},rules:[{required:!0,message:"\u6587\u6863\u5185\u5BB9\u4E0D\u5F97\u4E3A\u7A7A"},{min:100,message:"\u9020\u53E5\u5462?\u518D\u591A\u8BF4\u51E0\u53E5\u5427..."}],children:(0,t.jsx)(N.Z,{"data-inspector-line":"360","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\content\\edit\\index.tsx",content:D,setContent:se})})]})})}},7524:function(b,x,e){"use strict";e.d(x,{Au:function(){return C},Vj:function(){return j},rQ:function(){return M},L5:function(){return g},Od:function(){return y}});var m=e(36571),C=function(){return(0,m.Yu)("/article/author")},j=function(v){return(0,m.qC)("/article/save",v)},M=function(v){return(0,m.Yu)("/article/list",v)},g=function(v){return(0,m.Yu)("/article",v)},y=function(v){return(0,m.qC)("/article/del",v)}}}]);
