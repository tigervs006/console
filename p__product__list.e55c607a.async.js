(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[299],{47828:function(){},99882:function(Z,P,e){"use strict";e.d(P,{wk:function(){return M},rQ:function(){return R},V5:function(){return D},Od:function(){return I},mJ:function(){return v},m4:function(){return h},R$:function(){return y}});var i=e(36571),M=function(o){return(0,i.qC)("/channel/save",o)},R=function(o){return(0,i.Yu)("/channel/list",o)},D=function(o){return(0,i.Yu)("/channel/cate",o)},I=function(o){return(0,i.qC)("/channel/del",o)},v=function(o){return(0,i.qC)("/module/save",o)},h=function(o){return(0,i.Yu)("/module/list",o)},y=function(o){return(0,i.qC)("/module/del",o)}},7446:function(Z,P,e){"use strict";e.d(P,{S:function(){return ie}});var i=e(77576),M=e(85979),R=e(34792),D=e(48086),I=e(32059),v=e(3182),h=e(2824),y=e(94043),c=e.n(y),o=e(67294),ne=e(36571),te=e(85893),ie=function(r){var S,p,$,b,F,x=(S=r==null?void 0:r.fieldKey)!==null&&S!==void 0?S:"status",j=(p=r==null?void 0:r.disabled)!==null&&p!==void 0?p:!1,ae=($=r==null?void 0:r.echoChecked)!==null&&$!==void 0?$:"\u663E\u793A",O=(b=r==null?void 0:r.echoUnChecked)!==null&&b!==void 0?b:"\u9690\u85CF",_e=(0,o.useState)(!1),s=(0,h.Z)(_e,2),w=s[0],z=s[1],Y=(F=r==null?void 0:r.statusField)!==null&&F!==void 0?F:r.record.status,V=function(){var g=(0,v.Z)(c().mark(function A(B,N,G){return c().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return N.stopPropagation(),z(!0),L.next=4,(0,ne.qC)(r.url,(0,I.Z)({id:G.id},x,B?1:0)).then(function(K){z(!1),(K==null?void 0:K.success)&&D.default.success(K.msg)});case 4:case"end":return L.stop()}},A)}));return function(B,N,G){return g.apply(this,arguments)}}();return(0,te.jsx)(M.Z,{loading:w,disabled:j,checkedChildren:ae,defaultChecked:!!Y,unCheckedChildren:O,onChange:function(A,B){return V(A,B,r.record)}},r.record.id)}},86514:function(Z,P,e){"use strict";e.r(P);var i=e(66456),M=e(80818),R=e(49111),D=e(19650),I=e(57663),v=e(71577),h=e(71153),y=e(60331),c=e(11849),o=e(77883),ne=e(29149),te=e(93224),ie=e(34792),oe=e(48086),r=e(3182),S=e(402),p=e(95574),$=e(71194),b=e(97022),F=e(12968),x=e(40610),j=e(2824),ae=e(94043),O=e.n(ae),_e=e(30381),s=e.n(_e),w=e(21010),z=e(14854),Y=e(75860),V=e(9006),g=e(67294),A=e(99882),B=e(46298),N=e(7446),G=e(1870),ce=e(15873),L=e(8212),K=e(76570),fe=e(73171),_=e(85893),he=function(U){var re={NODE_ENV:"production"}.REACT_APP_PUBLIC_PATH,H=(0,g.useState)(!1),Q=(0,j.Z)(H,2),J=Q[0],X=Q[1],k=function(){return U.album.map(function(W){return(0,_.jsx)(x.Z,{src:W},(0,Y.O1)(4))})};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(x.Z,{width:50,src:U==null?void 0:U.album[0],preview:{visible:!1},onClick:function(){return X(!0)},fallback:"".concat(re,"logo.svg")}),(0,_.jsx)("div",{style:{display:"none"},children:(0,_.jsx)(x.Z.PreviewGroup,{preview:{visible:J,onVisibleChange:function(W){return X(W)}},children:k()})})]})};P.default=function(){var ve=b.Z.confirm,U=p.Z.Text,re=(0,w.tT)("resize",function(d){return{resize:d.resize}}),H=re.resize,Q=(0,g.useState)(!1),J=(0,j.Z)(Q,2),X=J[0],k=J[1],q=(0,g.useState)([]),W=(0,j.Z)(q,2),me=W[0],De=W[1],ee=(0,g.useRef)(),Pe=function(){var d=(0,r.Z)(O().mark(function n(){return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,A.V5)({nid:2}).then(function(u){var l,E;return De(u==null||(l=u.data)===null||l===void 0?void 0:l.list),u==null||(E=u.data)===null||E===void 0?void 0:E.list.map(function(C){return{value:C.id,label:C.cname}})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},n)}));return function(){return d.apply(this,arguments)}}(),Me=function(n){w.m8.push({pathname:"/product/edit",query:{id:n.id}})},Oe=function(n){var a;me.forEach(function(t){t.id===n.pid&&(a=t.fullpath)}),window.open("/".concat(a).concat(n.id,".html"),"preview")},Ee=function(n){var a=[],t=[];n instanceof Array&&n.forEach(function(u){a.push(u.id),t.push("\u300A".concat(u.title,"\u300B"))}),ve({centered:!0,cancelText:"\u7B97\u4E86",title:"\u5F53\u771F\u8981\u5220\u9664?",icon:(0,_.jsx)(G.Z,{}),cancelButtonProps:{shape:"round"},okButtonProps:{danger:!0,shape:"round"},content:n instanceof Array?"".concat(t.slice(0,3).join("\uFF0C")," \u7B49 ").concat(t.length," \u4E2A\u5546\u54C1"):"".concat(n.title," \u8FD9\u4E2A\u5546\u54C1"),onOk:function(){return(0,r.Z)(O().mark(function l(){return O().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,V.Od)({id:n instanceof Array?a:n.id}).then(function(m){var f,T;(f=ee.current)===null||f===void 0||f.reload(),(m==null?void 0:m.success)&&oe.default.success(m.msg),n instanceof Array&&((T=ee.current)===null||T===void 0||T.clearSelected())});case 2:case"end":return C.stop()}},l)}))()},onCancel:function(){var l;n instanceof Array&&((l=ee.current)===null||l===void 0||l.clearSelected())}})},Ce=[{width:80,title:"ID",dataIndex:"id",renderFormItem:function(n,a){var t=a.defaultRender,u=(0,te.Z)(a,["defaultRender"]);return(0,_.jsx)(ne.Z,(0,c.Z)((0,c.Z)({},u),{},{placeholder:"\u8BF7\u8F93\u5165\u6587\u6863ID",formatter:function(E){return E.replace(/^(0+)|\D+/g,"")}}))}},{width:100,search:!1,title:"\u5546\u54C1\u56FE",render:function(n,a){return(0,_.jsx)(he,{album:a.album})}},{width:300,ellipsis:!0,title:"\u5546\u54C1\u540D\u79F0",dataIndex:"title",fieldProps:{placeholder:"\u8BF7\u8F93\u5165\u5927\u81F4\u7684\u5546\u54C1\u540D\u79F0"}},{width:150,title:"\u5546\u54C1\u5206\u7C7B",dataIndex:"pid",valueType:"select",request:function(){return Pe()},fieldProps:{mode:"multiple",maxTagCount:3},render:function(n,a){return a.channel.cname}},{width:336,search:!1,ellipsis:!0,title:"\u5546\u54C1\u5356\u70B9",dataIndex:"special",render:function(n,a){return a.special.map(function(t){return(0,_.jsx)(y.Z,{color:"red",icon:(0,_.jsx)(ce.Z,{}),children:t},(0,Y.O1)(4))})}},{title:"\u4E0A\u67B6\u65F6\u95F4",hideInTable:!0,valueType:"dateRange",dataIndex:"dateRange",fieldProps:{showNow:!0,showTime:!0,format:"YYYY-MM-DD HH:mm:ss",placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],ranges:{Today:[s()(),s()()],Yestoday:[s()().day(s()().day()-1),s()().day(s()().day()-1)],thisWeek:[s()().startOf("week"),s()().endOf("week")],lastWeek:[s()().week(s()().week()-1).startOf("week"),s()().week(s()().week()-1).endOf("week")],thisMonth:[s()().startOf("month"),s()().endOf("month")],lastMonth:[s()().month(s()().month()-1).startOf("month"),s()().month(s()().month()-1).endOf("month")]}}},{width:150,sorter:!0,search:!1,title:"\u603B\u6D4F\u89C8\u91CF",dataIndex:"click"},{width:150,sorter:!0,search:!1,title:"\u5546\u54C1\u4EF7\u683C",dataIndex:"price",render:function(n,a){return"\uFFE5 ".concat(a.price)}},{width:150,sorter:!0,search:!1,title:"\u5546\u54C1\u9500\u91CF",dataIndex:"sales"},{width:150,sorter:!0,search:!1,title:"\u5546\u54C1\u8BE2\u76D8",dataIndex:"inquiries"},{width:150,sorter:!0,search:!1,title:"\u5546\u54C1\u5E93\u5B58",dataIndex:"stock"},{width:150,search:!1,filters:!0,onFilter:!0,title:"\u5546\u54C1\u72B6\u6001",filterMode:"tree",dataIndex:"status",valueType:"select",valueEnum:{1:{text:"\u4E0A\u67B6",status:"Enabled"},0:{text:"\u4E0B\u67B6",status:"Disabled"}},render:function(n,a){return(0,_.jsx)(N.S,{record:a,url:"/product/status",echoChecked:"\u4E0A\u67B6",echoUnChecked:"\u4E0B\u67B6"})}},{width:250,title:"\u64CD\u4F5C",search:!1,fixed:"right",render:function(n,a){return[(0,_.jsxs)(D.Z,{size:4,children:[(0,_.jsx)(v.Z,{size:"small",shape:"round",icon:(0,_.jsx)(L.Z,{}),onClick:function(){return Me(a)},children:"\u7F16\u8F91"}),(0,_.jsx)(v.Z,{size:"small",type:"primary",shape:"round",icon:(0,_.jsx)(K.Z,{}),onClick:function(){return Oe(a)},children:"\u6D4F\u89C8"}),(0,_.jsx)(v.Z,{danger:!0,size:"small",type:"primary",shape:"round",icon:(0,_.jsx)(fe.Z,{}),onClick:function(){return Ee(a)},children:"\u5220\u9664"})]},"operation")]}}],Re=function(){var d=(0,r.Z)(O().mark(function n(a,t,u){var l,E;return O().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:l=(0,c.Z)((0,c.Z)((0,c.Z)({},a),t),u);for(E in l)(l[E]===""||l[E]===null||l[E]===void 0)&&delete l[E];return m.next=4,(0,V.rQ)(l).then(function(f){var T,se,le,de,ue;return k(!1),{data:(T=f==null||(se=f.data)===null||se===void 0?void 0:se.list)!==null&&T!==void 0?T:[],total:(le=f==null||(de=f.data)===null||de===void 0?void 0:de.total)!==null&&le!==void 0?le:0,success:(ue=f==null?void 0:f.success)!==null&&ue!==void 0?ue:!0}});case 4:return m.abrupt("return",m.sent);case 5:case"end":return m.stop()}},n)}));return function(a,t,u){return d.apply(this,arguments)}}();return(0,_.jsx)(B.ZP,{children:(0,_.jsx)(z.ZP,{rowKey:"id",actionRef:ee,columns:Ce,request:Re,scroll:H.tableScroll,search:{labelWidth:"auto",defaultCollapsed:!1,optionRender:function(n){return[(0,_.jsx)(v.Z,{shape:"round",onClick:function(){var t;return n==null||(t=n.form)===null||t===void 0?void 0:t.resetFields()},children:"\u91CD\u7F6E"},"reset"),(0,_.jsx)(v.Z,{shape:"round",type:"primary",loading:X,onClick:function(){var t;k(!0),n==null||(t=n.form)===null||t===void 0||t.submit()},children:"\u67E5\u8BE2"},"query")]}},rowSelection:{selections:[M.Z.SELECTION_ALL,M.Z.SELECTION_INVERT]},pagination:{pageSize:H.pageSize,hideOnSinglePage:!0},tableAlertRender:function(n){var a=n.selectedRowKeys,t=n.selectedRows,u=n.onCleanSelected;return(0,_.jsxs)(D.Z,{size:24,children:[(0,_.jsxs)("span",{children:["\u5DF2\u9009 ",a.length," \u9879",(0,_.jsx)("a",{style:{marginLeft:8},onClick:u,children:"\u53D6\u6D88\u9009\u62E9"})]}),(0,_.jsxs)("span",{children:["\u603B\u6D4F\u89C8\u91CF ",(0,_.jsx)(U,{type:"danger",children:t&&t.reduce(function(l,E){return l+E.click},0)})," \u6B21"]})]})},tableAlertOptionRender:function(n){var a=n.selectedRows;return(0,_.jsx)(D.Z,{size:16,children:(0,_.jsx)("a",{onClick:function(){return Ee(a)},children:"\u6279\u91CF\u5220\u9664"})})}})})}},9006:function(Z,P,e){"use strict";e.d(P,{C5:function(){return M},gg:function(){return R},Od:function(){return D},rQ:function(){return I}});var i=e(36571),M=function(h){return(0,i.Yu)("/product",h)},R=function(h){return(0,i.qC)("/product/save",h)},D=function(h){return(0,i.qC)("/product/del",h)},I=function(h){return(0,i.Yu)("/product/list",h)}},402:function(Z,P,e){"use strict";var i=e(38663),M=e.n(i),R=e(47828),D=e.n(R),I=e(47673),v=e(22385)}}]);
