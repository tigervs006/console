(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[72],{7446:function(ee,L,e){"use strict";e.d(L,{S:function(){return B}});var te=e(77576),O=e(85979),ne=e(34792),Z=e(48086),Y=e(32059),P=e(3182),R=e(2824),H=e(94043),p=e.n(H),M=e(67294),K=e(36571),G=e(85893),B=function(n){var h,m,E,S,T,j=(h=n==null?void 0:n.fieldKey)!==null&&h!==void 0?h:"status",_=(m=n==null?void 0:n.disabled)!==null&&m!==void 0?m:!1,F=(E=n==null?void 0:n.echoChecked)!==null&&E!==void 0?E:"\u663E\u793A",U=(S=n==null?void 0:n.echoUnChecked)!==null&&S!==void 0?S:"\u9690\u85CF",z=(0,M.useState)(!1),b=(0,R.Z)(z,2),W=b[0],A=b[1],N=(T=n==null?void 0:n.statusField)!==null&&T!==void 0?T:n.record.status,w=function(){var l=(0,P.Z)(p().mark(function D(f,v,$){return p().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v.stopPropagation(),A(!0),y.next=4,(0,K.qC)(n.url,(0,Y.Z)({id:$.id},j,f?1:0)).then(function(C){A(!1),(C==null?void 0:C.success)&&Z.default.success(C.msg)});case 4:case"end":return y.stop()}},D)}));return function(f,v,$){return l.apply(this,arguments)}}();return(0,G.jsx)(O.Z,{loading:W,disabled:_,checkedChildren:F,defaultChecked:!!N,unCheckedChildren:U,onChange:function(D,f){return w(D,f,n.record)}},n.record.id)}},99044:function(ee,L,e){"use strict";e.r(L),e.d(L,{default:function(){return D}});var te=e(66456),O=e(80818),ne=e(49111),Z=e(19650),Y=e(57663),P=e(71577),R=e(11849),H=e(34792),p=e(48086),M=e(3182),K=e(2824),G=e(71194),B=e(97022),V=e(94043),n=e.n(V),h=e(67294),m=e(21010),E=e(75860),S=e(46298),T=e(14854),j=e(36571),_=function(v){return(0,j.qC)("/link/save",v)},F=function(v){return(0,j.Yu)("/link/list",v)},U=function(v){return(0,j.qC)("/link/del",v)},z=e(7446),b=e(1870),W=e(8212),A=e(76570),N=e(73171),w=e(49101),l=e(85893),D=function(){var f=B.Z.confirm,v=(0,m.md)(),$={sort:0,status:1,name:"\u53CB\u94FE\u540D\u79F0",contact:18e9,url:"https://xxx.com",id:(0,E.O1)(4),description:"\u6743\u91CD5\uFF0C\u884C\u4E1A\u76F8\u5173\u6027\u5927"},J=(0,h.useRef)(),y=(0,m.tT)("resize",function(i){return{resize:i.resize}}),C=y.resize,ae=(0,h.useState)([]),X=(0,K.Z)(ae,2),re=X[0],le=X[1],I=(0,h.useRef)(),se=function(){var i=(0,M.Z)(n().mark(function s(t){return n().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,_(t).then(function(a){(a==null?void 0:a.success)&&p.default.success(a.msg),(a==null?void 0:a.success)&&(0,E.pQ)(2e3).then(function(){var r;return(r=I.current)===null||r===void 0?void 0:r.reload()})});case 2:case"end":return u.stop()}},s)}));return function(t){return i.apply(this,arguments)}}(),q=function(s,t){s.stopPropagation();var o=[],u=[];t instanceof Array&&t.forEach(function(a){var r;o.push(a.id),u.push((r=a==null?void 0:a.name)!==null&&r!==void 0?r:"")}),f({centered:!0,cancelText:"\u7B97\u4E86",title:"\u5F53\u771F\u8981\u5220\u9664?",icon:(0,l.jsx)(b.Z,{}),cancelButtonProps:{shape:"round"},okButtonProps:{danger:!0,shape:"round"},content:t instanceof Array?"".concat(u.slice(0,3).join("\uFF0C")," \u7B49 ").concat(u.length," \u4E2A\u53CB\u94FE"):"".concat(t.name," \u8FD9\u4E2A\u53CB\u94FE"),onOk:function(){return(0,M.Z)(n().mark(function r(){return n().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,U({id:o}).then(function(d){var g;(d==null?void 0:d.success)&&p.default.success(d.msg),t instanceof Array&&((g=I.current)===null||g===void 0||g.clearSelected()),(d==null?void 0:d.success)&&(0,E.pQ)(2e3).then(function(){var x;return(x=I.current)===null||x===void 0?void 0:x.reload()})});case 2:case"end":return c.stop()}},r)}))()},onCancel:function(){var r;t instanceof Array&&((r=I.current)===null||r===void 0||r.clearSelected())}})},ie=function(){var i=(0,M.Z)(n().mark(function s(t,o,u){var a,r;return n().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:a=(0,R.Z)((0,R.Z)((0,R.Z)({},t),o),u);for(r in a)(a[r]===""||a[r]===null||a[r]===void 0)&&delete a[r];return c.next=4,F(a).then(function(d){var g,x,k,Q,oe=d==null||(g=d.data)===null||g===void 0?void 0:g.list;return{data:oe||[],total:(x=d==null||(k=d.data)===null||k===void 0?void 0:k.total)!==null&&x!==void 0?x:0,success:(Q=d==null?void 0:d.success)!==null&&Q!==void 0?Q:!0}});case 4:return c.abrupt("return",c.sent);case 5:case"end":return c.stop()}},s)}));return function(t,o,u){return i.apply(this,arguments)}}(),ue=[{width:50,title:"ID",sorter:!0,fixed:"left",search:!1,editable:!1,dataIndex:"id"},{width:100,search:!1,fixed:"left",title:"\u53CB\u94FE\u540D\u79F0",dataIndex:"name",formItemProps:function(){return{rules:[{required:!0,message:"\u53CB\u94FE\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"},{max:15,message:"\u53CB\u94FE\u540D\u79F0\u8BF7\u63A7\u5236\u572815\u4E2A\u5B57\u7B26\u4EE5\u5185"}]}}},{title:"\u53CB\u94FE\u540D\u79F0",dataIndex:"name",hideInTable:!0},{width:150,search:!1,title:"\u53CB\u94FE\u5730\u5740",dataIndex:"url",formItemProps:function(){return{rules:[{required:!0,message:"\u53CB\u94FE\u5730\u5740\u4E3A\u5FC5\u586B\u9879"},{type:"url",message:"\u4E0D\u662F\u6709\u6548\u7684url\u5730\u5740"}]}}},{width:150,search:!1,title:"\u8054\u7EDC\u65B9\u5F0F",dataIndex:"contact",tooltip:"QQ/\u5FAE\u4FE1/\u7535\u8BDD",formItemProps:function(){return{rules:[{required:!0,message:"\u8054\u7EDC\u65B9\u5F0F\u4E3A\u5FC5\u586B\u9879"},{max:20,message:"\u8054\u7EDC\u65B9\u5F0F\u8BF7\u63A7\u5236\u572820\u4E2A\u5B57\u7B26\u4EE5\u5185"}]}}},{title:"\u8054\u7EDC\u65B9\u5F0F",hideInTable:!0,dataIndex:"contact"},{width:200,search:!1,ellipsis:!0,title:"\u5176\u5B83\u5907\u6CE8",dataIndex:"description",formItemProps:function(){return{rules:[{max:50,message:"\u5907\u6CE8\u4FE1\u606F\u8BF7\u63A7\u5236\u572850\u4E2A\u5B57\u7B26\u4EE5\u5185"}]}}},{width:100,sorter:!0,search:!1,title:"\u53CB\u94FE\u6392\u5E8F",dataIndex:"sort",tooltip:"\u6570\u503C\u8D8A\u5927\u8D8A\u9760\u524D",formItemProps:function(){return{rules:[{required:!0,message:"\u53CB\u94FE\u6392\u5E8F\u4E3A\u5FC5\u586B\u9879"},{pattern:/^([1-9]|[1-9]\d{1,2})$/,message:"\u53EA\u80FD\u662F1~999\u7684\u6B63\u6574\u6570"}]}}},{width:150,sorter:!0,search:!1,editable:!1,title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_time"},{title:"\u65E5\u671F\u8303\u56F4",hideInTable:!0,dataIndex:"dateRange",valueType:"dateRange",fieldProps:{showNow:!0,showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}},{width:100,search:!1,filters:!0,onFilter:!0,title:"\u53CB\u94FE\u72B6\u6001",filterMode:"tree",dataIndex:"status",valueType:"select",valueEnum:{1:{text:"\u663E\u793A",status:"Show"},0:{text:"\u9690\u85CF",status:"Hide"}},fieldProps:{allowClear:!1,options:[{label:"\u9690\u85CF",value:0},{label:"\u663E\u793A",value:1}]},render:function(s,t){return(0,l.jsx)(z.S,{record:t,url:"/link/status"})}},{title:"\u64CD\u4F5C",fixed:"right",valueType:"option",render:function(s,t,o,u){return[(0,l.jsxs)(Z.Z,{size:4,children:[(0,l.jsx)(P.Z,{size:"small",shape:"round",icon:(0,l.jsx)(W.Z,{}),onClick:function(){var r;return u==null||(r=u.startEditable)===null||r===void 0?void 0:r.call(u,t.id)},children:"\u7F16\u8F91"}),(0,l.jsx)(P.Z,{size:"small",shape:"round",type:"primary",icon:(0,l.jsx)(A.Z,{}),onClick:function(){return window.open(t.url)},children:"\u6D4F\u89C8"}),(0,l.jsx)(P.Z,{danger:!0,size:"small",shape:"round",type:"primary",icon:(0,l.jsx)(N.Z,{}),onClick:function(r){return q(r,t)},children:"\u5220\u9664"})]},"operation")]}}];return(0,l.jsx)(S.ZP,{children:(0,l.jsx)(T.nx,{rowKey:"id",actionRef:I,columns:ue,request:ie,search:{filterType:"light"},editableFormRef:J,recordCreatorProps:!1,scroll:C.tableScroll,editable:{editableKeys:re,type:"multiple",onChange:le,onSave:function(s,t){return se(t)},actionRender:function(s,t,o){return[o.save,o.cancel]}},pagination:{pageSize:C.pageSize,hideOnSinglePage:!0},rowSelection:{checkStrictly:!1,selections:[O.Z.SELECTION_ALL,O.Z.SELECTION_INVERT,O.Z.SELECTION_NONE]},headerTitle:(0,l.jsx)(m.Nv,{accessible:v.btnFilter("link_create_btn"),children:(0,l.jsx)(P.Z,{shape:"round",type:"primary",icon:(0,l.jsx)(w.Z,{}),onClick:function(){var s,t;return(s=I.current)===null||s===void 0||(t=s.addEditRecord)===null||t===void 0?void 0:t.call(s,$)},children:"\u65B0\u589E\u53CB\u94FE"},"createLink")},"link_create_btn"),tableAlertRender:function(s){var t=s.selectedRowKeys,o=s.onCleanSelected;return(0,l.jsxs)("span",{children:["\u5DF2\u9009 ",t.length," \u4E2A\u53CB\u94FE",(0,l.jsx)("a",{style:{marginLeft:8},onClick:o,children:"\u53D6\u6D88\u9009\u62E9"})]})},tableAlertOptionRender:function(s){var t=s.selectedRows;return(0,l.jsx)(Z.Z,{size:16,children:(0,l.jsx)("a",{onClick:function(u){return q(u,t)},children:"\u6279\u91CF\u5220\u9664"})})}})})}}}]);
