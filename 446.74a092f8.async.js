(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[446],{90253:function(oe,C,S){"use strict";S.d(C,{sg:function(){return fd},yi:function(){return gd},aC:function(){return bd},x1:function(){return Ld},Kj:function(){return Pd},Ex:function(){return Rd},Fk:function(){return Gd},TZ:function(){return Hd},m:function(){return Jd},cQ:function(){return eg},kB:function(){return ag}});var N={};S.r(N),S.d(N,{Base:function(){return Sn},Circle:function(){return zg},Ellipse:function(){return Zg},Image:function(){return $g},Line:function(){return Qg},Marker:function(){return ty},Path:function(){return zs},Polygon:function(){return hy},Polyline:function(){return vy},Rect:function(){return yy},Text:function(){return xy}});var K={};S.r(K),S.d(K,{Canvas:function(){return Vu},Event:function(){return dt.Event},Group:function(){return js},Shape:function(){return N},__esModule:function(){return by.X},version:function(){return Ay}});var Q={};S.r(Q),S.d(Q,{Base:function(){return dn},Circle:function(){return Oy},Dom:function(){return By},Ellipse:function(){return Fy},Image:function(){return Ry},Line:function(){return Gy},Marker:function(){return Xy},Path:function(){return Hy},Polygon:function(){return zy},Polyline:function(){return Zy},Rect:function(){return qy},Text:function(){return nm}});var Z={};S.r(Z),S.d(Z,{Canvas:function(){return Ju},Event:function(){return dt.Event},Group:function(){return Zs},Shape:function(){return Q},version:function(){return _m}});var q={};S.r(q),S.d(q,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var G={};S.r(G),S.d(G,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var z={};S.r(z),S.d(z,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var $={};S.r($),S.d($,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var F={};S.r(F),S.d(F,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var X={};S.r(X),S.d(X,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var D={};S.r(D),S.d(D,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var w={};S.r(w),S.d(w,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var d={};S.r(d),S.d(d,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var I={};S.r(I),S.d(I,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var k={};S.r(k),S.d(k,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var E={};S.r(E),S.d(E,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var P={};S.r(P),S.d(P,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var Y={};S.r(Y),S.d(Y,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var at={};S.r(at),S.d(at,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var et={};S.r(et),S.d(et,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var ot={};S.r(ot),S.d(ot,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var ft={};S.r(ft),S.d(ft,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var ct={};S.r(ct),S.d(ct,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var bt={};S.r(bt),S.d(bt,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var tt={};S.r(tt),S.d(tt,{EVENT_MAP:function(){return ui},onEvent:function(){return Ui}});var O=S(67294),J=S(45687),x=S(70655),l=S(49242),W;(function(r){r.FORE="fore",r.MID="mid",r.BG="bg"})(W||(W={}));var it;(function(r){r.TOP="top",r.TOP_LEFT="top-left",r.TOP_RIGHT="top-right",r.RIGHT="right",r.RIGHT_TOP="right-top",r.RIGHT_BOTTOM="right-bottom",r.LEFT="left",r.LEFT_TOP="left-top",r.LEFT_BOTTOM="left-bottom",r.BOTTOM="bottom",r.BOTTOM_LEFT="bottom-left",r.BOTTOM_RIGHT="bottom-right",r.RADIUS="radius",r.CIRCLE="circle",r.NONE="none"})(it||(it={}));var nt;(function(r){r.AXIS="axis",r.GRID="grid",r.LEGEND="legend",r.TOOLTIP="tooltip",r.ANNOTATION="annotation",r.OTHER="other"})(nt||(nt={}));var ht={FORE:3,MID:2,BG:1},y;(function(r){r.BEFORE_RENDER="beforerender",r.AFTER_RENDER="afterrender",r.BEFORE_PAINT="beforepaint",r.AFTER_PAINT="afterpaint",r.BEFORE_CHANGE_DATA="beforechangedata",r.AFTER_CHANGE_DATA="afterchangedata",r.BEFORE_CLEAR="beforeclear",r.AFTER_CLEAR="afterclear",r.BEFORE_DESTROY="beforedestroy"})(y||(y={}));var V;(function(r){r.MOUSE_ENTER="plot:mouseenter",r.MOUSE_DOWN="plot:mousedown",r.MOUSE_MOVE="plot:mousemove",r.MOUSE_UP="plot:mouseup",r.MOUSE_LEAVE="plot:mouseleave",r.TOUCH_START="plot:touchstart",r.TOUCH_MOVE="plot:touchmove",r.TOUCH_END="plot:touchend",r.TOUCH_CANCEL="plot:touchcancel",r.CLICK="plot:click",r.DBLCLICK="plot:dblclick",r.CONTEXTMENU="plot:contextmenu",r.LEAVE="plot:leave",r.ENTER="plot:enter"})(V||(V={}));var yt;(function(r){r.ACTIVE="active",r.INACTIVE="inactive",r.SELECTED="selected",r.DEFAULT="default"})(yt||(yt={}));var Mt=["color","shape","size"],Gt="_origin",ee=1,re=1,ce=.25,pe={};function ge(r){var i=pe[r];if(!i)throw new Error("G engine '"+r+"' is not exist, please register it at first.");return i}function me(r,i){pe[r]=i}var xe=S(6056),de=S(45442);function kt(r){var i=getComputedStyle(r);return{width:(r.clientWidth||parseInt(i.width,10))-parseInt(i.paddingLeft,10)-parseInt(i.paddingRight,10),height:(r.clientHeight||parseInt(i.height,10))-parseInt(i.paddingTop,10)-parseInt(i.paddingBottom,10)}}function jt(r){return typeof r=="number"&&!isNaN(r)}function Jt(r,i,t,e){var n=t,a=e;if(i){var o=kt(r);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(jt(n)?n:ee,ee),height:Math.max(jt(a)?a:re,re)}}function At(r){var i=r.parentNode;i&&i.removeChild(r)}var Pt=S(90494),Xt=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this)||this;e.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return e.visible=a,e}return i.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},i.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},i.prototype.destroy=function(){this.off(),this.destroyed=!0},i.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},i}(Pt.default),se=Xt,dt=S(32409),Ct=S(28014),It=S(24796),Bt=S(21392),Wt=S(13541),$t=S(51082),Zt=S(51441),ie=Zt.Axis.Line,zt=Zt.Axis.Circle,Kt=Zt.Grid.Line,ne=Zt.Grid.Circle,Te=Zt.Legend.Category,ke=Zt.Legend.Continuous,Se=Zt.Tooltip.Html,Ie=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function Ee(r){var i="linear";return Ie.test(r)?i="time":(0,l.isString)(r)&&(i="cat"),i}function Be(r,i,t){var e=i||[];if((0,l.isNumber)(r)||(0,l.isNil)((0,l.firstValue)(e,r))&&(0,l.isEmpty)(t)){var n=(0,$t.getScale)("identity");return new n({field:r.toString(),values:[r]})}var a=(0,l.valuesOfKey)(e,r),o=(0,l.get)(t,"type",Ee(a[0])),s=(0,$t.getScale)(o);return new s((0,x.__assign)({field:r,values:a},t))}function Ce(r,i){if(r.type!=="identity"&&i.type!=="identity"){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);r.change(t)}}function Ge(r){return r.alias||r.field}var Pe=S(31437);function Ve(r){var i,t;switch(r){case it.TOP:i={x:0,y:1},t={x:1,y:1};break;case it.RIGHT:i={x:1,y:0},t={x:1,y:1};break;case it.BOTTOM:i={x:0,y:0},t={x:1,y:0};break;case it.LEFT:i={x:0,y:0},t={x:0,y:1};break;default:i=t={x:0,y:0}}return{start:i,end:t}}function ze(r){var i,t;return r.isTransposed?(i={x:0,y:0},t={x:1,y:0}):(i={x:0,y:0},t={x:0,y:1}),{start:i,end:t}}function Je(r,i){var t={start:{x:0,y:0},end:{x:0,y:0}};r.isRect?t=Ve(i):r.isPolar&&(t=ze(r));var e=t.start,n=t.end;return{start:r.convert(e),end:r.convert(n)}}function si(r,i){if(r.isRect)return r.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(i)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(i)?-1:1;if(r.isPolar){var t=r.x.start;return t<0?-1:1}return 1}function Li(r){var i=r.start,t=r.end;return i.x===t.x}function or(r,i){var t=r.start,e=r.end,n=Li(r);return n?(t.y-e.y)*(i.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-i.y)>0?-1:1}function wi(r,i){return(0,l.get)(r,["components","axis",i],{})}function yr(r){var i=r.x,t=r.y,e=r.circleCenter,n=t.start>t.end,a=r.isTransposed?r.convert({x:n?0:1,y:0}):r.convert({x:0,y:n?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],u=a.y>e.y?Pe.angle(o,s):Pe.angle(o,s)*-1,c=u+(i.end-i.start),h=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return{center:e,radius:h,startAngle:u,endAngle:c}}function $i(r,i){return(0,l.isBoolean)(r)?r===!1?!1:{}:(0,l.get)(r,[i])}function Ar(r,i){return(0,l.get)(r,"position",i)}function zr(r,i){return(0,l.get)(i,["title","text"],Ge(r))}var Wi=function(){function r(i,t){this.destroyed=!1,this.facets=[],this.view=i,this.cfg=(0,l.deepMix)({},this.getDefaultCfg(),t)}return r.prototype.init=function(){this.container||(this.container=this.createContainer());var i=this.view.getData();this.facets=this.generateFacets(i)},r.prototype.render=function(){this.renderViews()},r.prototype.update=function(){},r.prototype.clear=function(){this.clearFacetViews()},r.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},r.prototype.facetToView=function(i){var t=i.region,e=i.data,n=i.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(e||[]),i.view=o,this.beforeEachView(o,i);var s=this.cfg.eachView;return s&&s(o,i),this.afterEachView(o,i),o},r.prototype.createContainer=function(){var i=this.view.getLayer(W.FORE);return i.addGroup()},r.prototype.renderViews=function(){this.createFacetViews()},r.prototype.createFacetViews=function(){var i=this;return this.facets.map(function(t){return i.facetToView(t)})},r.prototype.clearFacetViews=function(){var i=this;(0,l.each)(this.facets,function(t){t.view&&(i.view.removeView(t.view),t.view=void 0)})},r.prototype.getFieldValues=function(i,t){var e=[],n={};return(0,l.each)(i,function(a){var o=a[t];!(0,l.isNil)(o)&&!n[o]&&(e.push(o),n[o]=!0)}),e},r.prototype.getRegion=function(i,t,e,n){var a=1/(t===0?1:t),o=1/(i===0?1:i),s={x:a*e,y:o*n},u={x:a*(e+1),y:o*(n+1)};return{start:s,end:u}},r.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},r.prototype.getDefaultTitleCfg=function(){var i=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:i}}},r.prototype.processAxis=function(i,t){var e=i.getOptions(),n=e.coordinate,a=i.geometries,o=(0,l.get)(n,"type","rect");if(o==="rect"&&a.length){(0,l.isNil)(e.axes)&&(e.axes={});var s=e.axes,u=a[0].getXYFields(),c=u[0],h=u[1],f=$i(s,c),p=$i(s,h);f!==!1&&(e.axes[c]=this.getXAxisOption(c,s,f,t)),p!==!1&&(e.axes[h]=this.getYAxisOption(h,s,p,t))}},r.prototype.getFacetDataFilter=function(i){return function(t){return(0,l.every)(i,function(e){var n=e.field,a=e.value;return!(0,l.isNil)(a)&&n?t[n]===a:!0})}},r}(),mr={},Br=function(r){return mr[(0,l.lowerCase)(r)]},Ki=function(r,i){mr[(0,l.lowerCase)(r)]=i},Zi=function(){function r(i,t){this.context=i,this.cfg=t,i.addAction(this)}return r.prototype.applyCfg=function(i){(0,l.assign)(this,i)},r.prototype.init=function(){this.applyCfg(this.cfg)},r.prototype.destroy=function(){this.context.removeAction(this),this.context=null},r}(),Ci=Zi,gn=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.execute=function(){this.callback&&this.callback(this.context)},i.prototype.destroy=function(){r.prototype.destroy.call(this),this.callback=null},i}(Ci),en=gn,Kr={};function Tt(r,i){var t=Kr[r],e=null;if(t){var n=t.ActionClass,a=t.cfg;e=new n(i,a),e.name=r,e.init()}return e}function Et(r){var i=Kr[r];return get(i,"ActionClass")}function St(r,i,t){Kr[r]={ActionClass:i,cfg:t}}function Yt(r){delete Kr[r]}function Ut(r,i){var t=new en(i);return t.callback=r,t.name="callback",t}function Qt(r){if((0,l.isEmpty)(r))return null;var i=r[0].x,t=r[0].x,e=r[0].y,n=r[0].y;return(0,l.each)(r,function(a){i=i>a.x?a.x:i,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:i,maxX:t,minY:e,maxY:n,centerX:(i+t)/2,centerY:(e+n)/2}}function fe(r,i,t,e){return{x:r+t*Math.cos(e),y:i+t*Math.sin(e)}}function be(r,i,t,e,n,a){a===void 0&&(a=0);var o=fe(r,i,t,e),s=fe(r,i,t,n),u=fe(r,i,a,e),c=fe(r,i,a,n);if(n-e==Math.PI*2){var h=fe(r,i,t,e+Math.PI),f=fe(r,i,a,e+Math.PI),p=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",u.x,u.y]];return a&&(p.push(["A",a,a,0,1,0,f.x,f.y]),p.push(["A",a,a,0,1,0,c.x,c.y])),p.push(["M",o.x,o.y]),p.push(["Z"]),p}var g=n-e<=Math.PI?0:1,_=[["M",o.x,o.y],["A",t,t,0,g,1,s.x,s.y],["L",c.x,c.y]];return a&&_.push(["A",a,a,0,g,0,u.x,u.y]),_.push(["L",o.x,o.y]),_.push(["Z"]),_}function Ye(r,i,t,e,n){var a=fe(r,i,t,e),o=fe(r,i,t,n);if((0,l.isNumberEqual)(n-e,Math.PI*2)){var s=fe(r,i,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var u=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,u,1,o.x,o.y]]}function _e(r,i){var t=r.points,e=Qt(t),n,a,o=i.startAngle,s=i.endAngle,u=s-o;return i.isTransposed?(n=e.maxY*u,a=e.minY*u):(n=e.maxX*u,a=e.minX*u),n+=o,a+=o,{startAngle:a,endAngle:n}}function Fe(r,i){if((0,l.isNumber)(r)&&(0,l.isNumber)(i))return[r,i];for(var t=-1,e=0,n=0,a,o=r.length-1,s,u=0;++t<r.length;)a=o,o=t,u+=s=r[a]*i[o]-r[o]*i[a],e+=(r[a]+r[o])*s,n+=(i[a]+i[o])*s;return u*=3,[e/u,n/u]}function li(r,i){var t=r.attr(),e=i.attr();return(0,l.each)(t,function(n,a){e[a]===void 0&&(e[a]=void 0)}),e}function bi(r,i,t){var e=Math.min(i,t),n=Math.max(i,t);return r>=e&&r<=n}function Ii(r,i,t){if((0,l.isString)(r))return r.padEnd(i,t);if((0,l.isArray)(r)){var e=r.length;if(e<i)for(var n=i-e,a=0;a<n;a++)r.push(t)}return r}function ti(r,i){return i.forEach(function(t){delete r[t]}),r}function Ei(r,i,t){i===void 0&&(i=[]),t===void 0&&(t={});for(var e=0,n=r;e<n.length;e++){var a=n[e];t[a]||(i.push(a),t[a]=!0)}return i}function Ri(r){if(r.isPolar&&!r.isTransposed)return(r.endAngle-r.startAngle)*r.getRadius();var i=r.convert({x:0,y:0}),t=r.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Qi(r){if(r.isPolar){var i=r.startAngle,t=r.endAngle;return t-i==Math.PI*2}return!1}function hi(r,i){var t=r.getCenter();return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function Wr(r,i){var t=!1;if(r)if(r.type==="theta"){var e=r.start,n=r.end;t=bi(i.x,e.x,n.x)&&bi(i.y,e.y,n.y)}else{var a=r.invert(i);t=bi(a.x,0,1)&&bi(a.y,0,1)}return t}function qi(r,i){var t=r.getCenter();return Math.atan2(i.y-t.y,i.x-t.x)}function xr(r,i){i===void 0&&(i=0);var t=r.start,e=r.end,n=r.getWidth(),a=r.getHeight();if(r.isPolar){var o=r.startAngle,s=r.endAngle,u=r.getCenter(),c=r.getRadius();return{type:"path",startState:{path:be(u.x,u.y,c+i,o,o)},endState:function(f){var p=(s-o)*f+o,g=be(u.x,u.y,c+i,o,p);return{path:g}},attrs:{path:be(u.x,u.y,c+i,o,s)}}}var h;return r.isTransposed?h={height:a+i*2}:h={width:n+i*2},{type:"rect",startState:{x:t.x-i,y:e.y-i,width:r.isTransposed?n+i*2:0,height:r.isTransposed?0:a+i*2},endState:h,attrs:{x:t.x-i,y:e.y-i,width:n+i*2,height:a+i*2}}}function br(r,i){var t=[];if(r.length){t.push(["M",r[0].x,r[0].y]);for(var e=1,n=r.length;e<n;e+=1){var a=r[e];t.push(["L",a.x,a.y])}i&&t.push(["Z"])}return t}function kr(r,i){for(var t=[r[0]],e=1,n=r.length;e<n;e=e+2){var a=i.convert({x:r[e],y:r[e+1]});t.push(a.x,a.y)}return t}function Ji(r,i,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:r[1],y:r[2]},s={x:i[1],y:i[2]},u=[],c=e?"y":"x",h=Math.abs(s[c]-o[c])*(a-n),f=s[c]>=o[c]?1:0,p=h>Math.PI?1:0,g=t.convert(s),_=hi(t,g);if(_>=.5)if(h===Math.PI*2){var H={x:(s.x+o.x)/2,y:(s.y+o.y)/2},lt=t.convert(H);u.push(["A",_,_,0,p,f,lt.x,lt.y]),u.push(["A",_,_,0,p,f,g.x,g.y])}else u.push(["A",_,_,0,p,f,g.x,g.y]);return u}function sr(r){(0,l.each)(r,function(i,t){var e=i;if(e[0].toLowerCase()==="a"){var n=r[t-1],a=r[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var rn=function(r,i,t,e){var n=[],a,o,s=!!e,u,c;if(s){u=[Infinity,Infinity],c=[-Infinity,-Infinity];for(var h=0,f=r.length;h<f;h++){var p=r[h];u=Pe.min([0,0],u,p),c=Pe.max([0,0],c,p)}u=Pe.min([0,0],u,e[0]),c=Pe.max([0,0],c,e[1])}for(var h=0,g=r.length;h<g;h++){var p=r[h];if(t)a=r[h?h-1:g-1],o=r[(h+1)%g];else if(h===0||h===g-1){n.push(p);continue}else a=r[h-1],o=r[h+1];var _=[0,0];_=Pe.sub(_,o,a),_=Pe.scale(_,_,i);var H=Pe.distance(p,a),lt=Pe.distance(p,o),pt=H+lt;pt!==0&&(H/=pt,lt/=pt);var wt=Pe.scale([0,0],_,-H),Ft=Pe.scale([0,0],_,lt),Dt=Pe.add([0,0],p,wt),te=Pe.add([0,0],p,Ft);s&&(Dt=Pe.max([0,0],Dt,u),Dt=Pe.min([0,0],Dt,c),te=Pe.max([0,0],te,u),te=Pe.min([0,0],te,c)),n.push(Dt),n.push(te)}return t&&n.push(n.shift()),n};function _r(r,i,t){for(var e=!!i,n=[],a=0,o=r.length;a<o;a+=2)n.push([r[a],r[a+1]]);for(var s=rn(n,.4,e,t),u=n.length,c=[],h,f,p,a=0;a<u-1;a++)h=s[a*2],f=s[a*2+1],p=n[a+1],c.push(["C",h[0],h[1],f[0],f[1],p[0],p[1]]);return e&&(h=s[u],f=s[u+1],p=n[0],c.push(["C",h[0],h[1],f[0],f[1],p[0],p[1]])),c}function wr(r,i){return br(r,i)}function nn(r,i,t){var e=[],n=r[0],a=null;if(r.length<=2)return wr(r,i);for(var o=0,s=r.length;o<s;o++){var u=r[o];(!a||!(a.x===u.x&&a.y===u.y))&&(e.push(u.x),e.push(u.y),a=u)}var c=t||[[0,0],[1,1]],h=_r(e,i,c);return h.unshift(["M",n.x,n.y]),h}function kn(r,i){var t=[];return(0,l.each)(i,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(kr(e,r));break;case"z":default:t.push(e);break}}),t}function An(r,i){var t=[],e,n,a,o;return(0,l.each)(i,function(s,u){var c=s[0];switch(c.toLowerCase()){case"m":case"c":case"q":t.push(kr(s,r));break;case"l":e=i[u-1],n=s,a=r.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(Ji(e,n,r)):t.push(kr(s,r));break;case"z":default:t.push(s);break}}),sr(t),t}var Nr=function(){function r(i,t,e,n){i===void 0&&(i=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=i,this.y=t,this.height=n,this.width=e}return r.fromRange=function(i,t,e,n){return new r(i,t,e-i,n-t)},Object.defineProperty(r.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),r.prototype.isEqual=function(i){return this.x===i.x&&this.y===i.y&&this.width===i.width&&this.height===i.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.add=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=this.clone();return(0,l.each)(i,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},r.prototype.merge=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=this.clone();return(0,l.each)(i,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},r.prototype.cut=function(i,t){var e=i.width,n=i.height;switch(t){case it.TOP:case it.TOP_LEFT:case it.TOP_RIGHT:return r.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case it.RIGHT:case it.RIGHT_TOP:case it.RIGHT_BOTTOM:return r.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case it.BOTTOM:case it.BOTTOM_LEFT:case it.BOTTOM_RIGHT:return r.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case it.LEFT:case it.LEFT_TOP:case it.LEFT_BOTTOM:return r.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},r.prototype.shrink=function(i){var t=i[0],e=i[1],n=i[2],a=i[3];return new r(this.x+a,this.y+t,this.width-a-e,this.height-t-n)},r.prototype.exceed=function(i){return[Math.max(-this.minY+i.minY,0),Math.max(this.maxX-i.maxX,0),Math.max(this.maxY-i.maxY,0),Math.max(-this.minX+i.minX,0)]},r.prototype.size=function(){return this.width*this.height},r}(),an=function(r,i){var t=i.start,e=i.end;return new Nr(r.x+r.width*t.x,r.y+r.height*t.y,r.width*Math.abs(e.x-t.x),r.height*Math.abs(e.y-t.y))};function on(r){return[[r.minX,r.minY],[r.maxX,r.minY],[r.maxX,r.maxY],[r.minX,r.maxY]]}var _n=S(70146);function Tr(r,i){var t=r.event,e=t.target,n=e.getCanvasBBox();return n.width>=i||n.height>=i?n:null}function Fn(r,i){var t=r.event,e=t.target,n=e.getCanvasBBox();return n.width>=i||n.height>=i?e.attr("path"):null}function Lr(r){var i=r.event,t,e=i.target;return e&&(t=e.get("element")),t}function sn(r){var i=r.event,t=i.target,e;return t&&(e=t.get("delegateObject")),e}function Tn(r){var i=r.event.gEvent;return!(i&&i.fromShape&&i.toShape&&i.fromShape.get("element")===i.toShape.get("element"))}function yn(r){return r&&r.component&&r.component.isList()}function Dn(r){return r&&r.component&&r.component.isSlider()}function Cr(r){var i=r.event,t=i.target;return t&&t.get("name")==="mask"}function ln(r,i){var t=r.event.target;if(t.get("type")==="path"){var e=Fn(r,i);return e?Fr(r.view,e):void 0}var n=Tr(r,i);return n?xn(r.view,n):null}function mn(r,i,t){var e=Tr(r,t);if(!e)return null;var n=r.view,a=Yn(n,i,{x:e.x,y:e.y}),o=Yn(n,i,{x:e.maxX,y:e.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return xn(i,s)}function Bi(r){var i=r.geometries,t=[];return(0,l.each)(i,function(e){var n=e.elements;t=t.concat(n)}),r.views&&r.views.length&&(0,l.each)(r.views,function(e){t=t.concat(Bi(e))}),t}function Rn(r,i,t){var e=Bi(r);return e.filter(function(n){return lr(n,i)===t})}function Ln(r,i){var t=r.geometries,e=[];return(0,l.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(i)});e=e.concat(a)}),e}function lr(r,i){var t=r.getModel(),e=t.data,n;return(0,l.isArray)(e)?n=e[0][i]:n=e[i],n}function En(r,i){return!(i.minX>r.maxX||i.maxX<r.minX||i.minY>r.maxY||i.maxY<r.minY)}function xn(r,i){var t=Bi(r),e=[];return(0,l.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();En(i,o)&&e.push(n)}),e}function Pn(r){var i=[];return(0,l.each)(r,function(t){var e=t[0];if(e!=="A")for(var n=1;n<t.length;n=n+2)i.push([t[n],t[n+1]]);else{var a=t.length;i.push([t[a-2],t[a-1]])}}),i}function Fr(r,i){var t=Bi(r),e=Pn(i),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=Pn(o.attr("path"));else{var u=o.getCanvasBBox();s=on(u)}return(0,_n.default)(e,s)});return n}function Nn(r){return r.getComponents().map(function(i){return i.component})}function Gn(r,i){var t=i.x-r.x,e=i.y-r.y;return Math.sqrt(t*t+e*e)}function wa(r,i){if(r.length<=2)return wr(r,!1);var t=r[0],e=[];(0,l.each)(r,function(a){e.push(a.x),e.push(a.y)});var n=_r(e,i,null);return n.unshift(["M",t.x,t.y]),n}function ta(r,i){return r.x<=i.x&&r.maxX>=i.x&&r.y<=i.y&&r.maxY>i.y}function Dr(r){var i=r.parent,t=null;return i&&(t=i.views.filter(function(e){return e!==r})),t}function On(r,i){var t=r.getCoordinate();return t.invert(i)}function Yn(r,i,t){var e=On(r,t);return i.getCoordinate().convert(e)}function un(r,i,t,e){var n=!1;return(0,l.each)(r,function(a){if(a[t]===i[t]&&a[e]===i[e])return n=!0,!1}),n}function cn(r,i){var t=r.getScaleByField(i);return!t&&r.views&&(0,l.each)(r.views,function(e){if(t=cn(e,i),t)return!1}),t}var bn=function(){function r(i){this.actions=[],this.event=null,this.cacheMap={},this.view=i}return r.prototype.cache=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];if(i.length===1)return this.cacheMap[i[0]];i.length===2&&(this.cacheMap[i[0]]=i[1])},r.prototype.getAction=function(i){return this.actions.find(function(t){return t.name===i})},r.prototype.addAction=function(i){this.actions.push(i)},r.prototype.removeAction=function(i){var t=this.actions,e=this.actions.indexOf(i);e>=0&&t.splice(e,1)},r.prototype.getCurrentPoint=function(){var i=this.event;if(i)if(i.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(i.clientX,i.clientY);return e}else return{x:i.x,y:i.y};return null},r.prototype.getCurrentShape=function(){return(0,l.get)(this.event,["gEvent","shape"])},r.prototype.isInPlot=function(){var i=this.getCurrentPoint();return i?this.view.isPointInPlot(i):!1},r.prototype.isInShape=function(i){var t=this.getCurrentShape();return t?t.get("name")===i:!1},r.prototype.isInComponent=function(i){var t=Nn(this.view),e=this.getCurrentPoint();return e?!!t.find(function(n){var a=n.getBBox();return i?n.get("name")===i&&ta(a,e):ta(a,e)}):!1},r.prototype.destroy=function(){this.view=null,this.event=null,(0,l.each)(this.actions.slice(),function(i){i.destroy()}),this.actions=null,this.cacheMap=null},r}(),hn=bn,ea=function(){function r(i,t){this.view=i,this.cfg=t}return r.prototype.init=function(){this.initEvents()},r.prototype.initEvents=function(){},r.prototype.clearEvents=function(){},r.prototype.destroy=function(){this.clearEvents()},r}(),ia=ea;function Rr(r,i){var t=r.split(":"),e=t[0],n=i.getAction(e)||Tt(e,i);if(!n)throw new Error("There is no action named "+e);var a=t[1];return{action:n,methodName:a}}function In(r){var i=r.action,t=r.methodName;if(i[t])i[t]();else throw new Error("Action("+i.name+") doesn't have a method called "+t)}var tr={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},Ca=function(r){(0,x.__extends)(i,r);function i(t,e){var n=r.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return i.prototype.init=function(){this.initContext(),r.prototype.init.call(this)},i.prototype.destroy=function(){r.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},i.prototype.initEvents=function(){var t=this;(0,l.each)(this.steps,function(e,n){(0,l.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},i.prototype.clearEvents=function(){var t=this;(0,l.each)(this.steps,function(e,n){(0,l.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},i.prototype.initContext=function(){var t=this.view,e=new hn(t);this.context=e;var n=this.steps;(0,l.each)(n,function(a){(0,l.each)(a,function(o){if((0,l.isFunction)(o.action))o.actionObject={action:Ut(o.action,e),methodName:"execute"};else if((0,l.isString)(o.action))o.actionObject=Rr(o.action,e);else if((0,l.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,l.each)(s,function(u){o.actionObject.push(Rr(u,e))})}})})},i.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t||t===tr.SHOW_ENABLE)return!0;if(t===tr.PROCESSING)return e===tr.START;if(t===tr.START)return e!==tr.PROCESSING;if(t===tr.END)return e===tr.PROCESSING||e===tr.START;if(t===tr.ROLLBACK){if(n[tr.END])return e===tr.END;if(e===tr.START)return!0}return!1},i.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},i.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},i.prototype.afterExecute=function(t,e){t!==tr.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},i.prototype.getKey=function(t,e){return t+e.trigger+e.action},i.prototype.getActionCallback=function(t,e){var n=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var u=this.getKey(t,e);if(!o[u]){var c=function(h){a.event=h,n.isAllowExcute(t,e)?((0,l.isArray)(s)?(0,l.each)(s,function(f){a.event=h,In(f)}):(a.event=h,In(s)),n.afterExecute(t,e),e.callback&&(a.event=h,e.callback(a))):a.event=null};e.debounce?o[u]=(0,l.debounce)(c,e.debounce.wait,e.debounce.immediate):e.throttle?o[u]=(0,l.throttle)(c,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[u]=c}return o[u]}return null},i.prototype.bindEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],e):n[0]==="document"?document.addEventListener(n[1],e):this.view.on(t,e)},i.prototype.offEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],e):n[0]==="document"?document.removeEventListener(n[1],e):this.view.off(t,e)},i}(ia),Xn=Ca,Sa={};function jn(r){return Sa[(0,l.lowerCase)(r)]}function Si(r,i){Sa[(0,l.lowerCase)(r)]=i}function Hn(r,i,t){var e=jn(r);if(!e)return null;if((0,l.isPlainObject)(e)){var n=(0,l.mix)((0,l.clone)(e),t);return new Xn(i,n)}else{var a=e;return new a(i,t)}}var hr=S(7755),Pi=S(31506);function ra(r){var i,t={point:{default:{fill:r.pointFillColor,r:r.pointSize,stroke:r.pointBorderColor,lineWidth:r.pointBorder,fillOpacity:r.pointFillOpacity},active:{stroke:r.pointActiveBorderColor,lineWidth:r.pointActiveBorder},selected:{stroke:r.pointSelectedBorderColor,lineWidth:r.pointSelectedBorder},inactive:{fillOpacity:r.pointInactiveFillOpacity,strokeOpacity:r.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:r.hollowPointFillColor,lineWidth:r.hollowPointBorder,stroke:r.hollowPointBorderColor,strokeOpacity:r.hollowPointBorderOpacity,r:r.hollowPointSize},active:{stroke:r.hollowPointActiveBorderColor,strokeOpacity:r.hollowPointActiveBorderOpacity},selected:{lineWidth:r.hollowPointSelectedBorder,stroke:r.hollowPointSelectedBorderColor,strokeOpacity:r.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:r.hollowPointInactiveBorderOpacity}},area:{default:{fill:r.areaFillColor,fillOpacity:r.areaFillOpacity,stroke:null},active:{fillOpacity:r.areaActiveFillOpacity},selected:{fillOpacity:r.areaSelectedFillOpacity},inactive:{fillOpacity:r.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:r.hollowAreaBorderColor,lineWidth:r.hollowAreaBorder,strokeOpacity:r.hollowAreaBorderOpacity},active:{fill:null,lineWidth:r.hollowAreaActiveBorder},selected:{fill:null,lineWidth:r.hollowAreaSelectedBorder},inactive:{strokeOpacity:r.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:r.intervalFillColor,fillOpacity:r.intervalFillOpacity},active:{stroke:r.intervalActiveBorderColor,lineWidth:r.intervalActiveBorder},selected:{stroke:r.intervalSelectedBorderColor,lineWidth:r.intervalSelectedBorder},inactive:{fillOpacity:r.intervalInactiveFillOpacity,strokeOpacity:r.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:r.hollowIntervalFillColor,stroke:r.hollowIntervalBorderColor,lineWidth:r.hollowIntervalBorder,strokeOpacity:r.hollowIntervalBorderOpacity},active:{stroke:r.hollowIntervalActiveBorderColor,lineWidth:r.hollowIntervalActiveBorder,strokeOpacity:r.hollowIntervalActiveBorderOpacity},selected:{stroke:r.hollowIntervalSelectedBorderColor,lineWidth:r.hollowIntervalSelectedBorder,strokeOpacity:r.hollowIntervalSelectedBorderOpacity},inactive:{stroke:r.hollowIntervalInactiveBorderColor,lineWidth:r.hollowIntervalInactiveBorder,strokeOpacity:r.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:r.lineBorderColor,lineWidth:r.lineBorder,strokeOpacity:r.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:r.lineActiveBorder},selected:{lineWidth:r.lineSelectedBorder},inactive:{strokeOpacity:r.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",style:{fill:r.axisTitleTextFillColor,fontSize:r.axisTitleTextFontSize,lineHeight:r.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:r.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:r.axisLabelFillColor,fontSize:r.axisLabelFontSize,lineHeight:r.axisLabelLineHeight,textBaseline:"middle",fontFamily:r.fontFamily}},line:{style:{lineWidth:r.axisLineBorder,stroke:r.axisLineBorderColor}},tickLine:{style:{lineWidth:r.axisTickLineBorder,stroke:r.axisTickLineBorderColor},alignTick:!0,length:r.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:r.axisGridBorderColor,lineWidth:r.axisGridBorder,lineDash:r.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:r.legendCircleMarkerSize,fill:r.legendMarkerColor}},itemName:{spacing:5,style:{fill:r.legendItemNameFillColor,fontFamily:r.fontFamily,fontSize:r.legendItemNameFontSize,lineHeight:r.legendItemNameLineHeight,fontWeight:r.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:r.backgroundColor,defaultColor:r.brandColor,padding:"auto",fontFamily:r.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:r.paletteQualitative10,colors20:r.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var u=_e(o.getModel(),s),c=u.startAngle,h=u.endAngle,f=(c+h)/2,p=7.5,g=p*Math.cos(f),_=p*Math.sin(f);return{matrix:Pi.transform(null,[["t",g,_]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,x.__assign)((0,x.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,x.__assign)((0,x.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,x.__assign)((0,x.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,x.__assign)((0,x.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,x.__assign)((0,x.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,x.__assign)((0,x.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,x.__assign)((0,x.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,x.__assign)((0,x.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,l.deepMix)({},e,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,l.deepMix)({},e,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,l.deepMix)({},e,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,l.deepMix)({},e,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,l.deepMix)({},e,{title:null,label:{offset:8},grid:(0,l.deepMix)({},n,{line:{type:"line"}})}),radius:(0,l.deepMix)({},e,{title:null,label:{offset:8},grid:(0,l.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,l.deepMix)({},a,{layout:"vertical"}),left:(0,l.deepMix)({},a,{layout:"vertical"}),top:(0,l.deepMix)({},a,{layout:"horizontal"}),bottom:(0,l.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:r.sliderRailHeight,defaultLength:r.sliderRailWidth,style:{fill:r.sliderRailFillColor,stroke:r.sliderRailBorderColor,lineWidth:r.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:r.sliderLabelTextFillColor,fontSize:r.sliderLabelTextFontSize,lineHeight:r.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:r.fontFamily}},handler:{size:r.sliderHandlerWidth,style:{fill:r.sliderHandlerFillColor,stroke:r.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:r.tooltipCrosshairsBorderColor,lineWidth:r.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(i={},i[""+hr.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:r.tooltipContainerFillColor,opacity:r.tooltipContainerFillOpacity,boxShadow:r.tooltipContainerShadow,borderRadius:r.tooltipContainerBorderRadius+"px",color:r.tooltipTextFillColor,fontSize:r.tooltipTextFontSize+"px",fontFamily:r.fontFamily,lineHeight:r.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},i[""+hr.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},i[""+hr.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},i[""+hr.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},i[""+hr.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},i[""+hr.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},i)},annotation:{arc:{style:{stroke:r.annotationArcBorderColor,lineWidth:r.annotationArcBorder},animate:!0},line:{style:{stroke:r.annotationLineBorderColor,lineDash:r.annotationLineDash,lineWidth:r.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,textAlign:"start",fontFamily:r.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:r.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:r.annotationRegionBorder,stroke:r.annotationRegionBorderColor,fill:r.annotationRegionFillColor,fillOpacity:r.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:r.brandColor,lineWidth:2}},line:{style:{stroke:r.annotationLineBorderColor,lineWidth:r.annotationLineBorder},length:r.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,fontFamily:r.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:r.annotationRegionFillColor,fillOpacity:r.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,fontFamily:r.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:r.labelFillColor,fontSize:r.labelFontSize,fontFamily:r.fontFamily,stroke:r.labelBorderColor,lineWidth:r.labelBorder},autoRotate:!0},innerLabels:{style:{fill:r.innerLabelFillColor,fontSize:r.innerLabelFontSize,fontFamily:r.fontFamily,stroke:r.innerLabelBorderColor,lineWidth:r.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:r.labelLineBorder}},autoRotate:!0}}}var mi={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},fn={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Er=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Ma=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Vn={backgroundColor:"transparent",brandColor:Er[0],paletteQualitative10:Er,paletteQualitative20:Ma,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:mi[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:mi[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:mi[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:mi[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:mi[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:mi[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:mi[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Er[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:mi[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:mi[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:mi[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:mi[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:mi[25],annotationArcBorderColor:mi[15],annotationArcBorder:.5,annotationLineBorderColor:mi[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:mi[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:fn[95],annotationTextBorder:1.5,annotationRegionFillColor:mi[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:mi[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:mi[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:mi[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:fn[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:mi[25],pointFillColor:Er[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:fn[100],pointBorderOpacity:1,pointActiveBorderColor:mi[100],pointSelectedBorder:2,pointSelectedBorderColor:mi[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Er[0],hollowPointBorderOpacity:.95,hollowPointFillColor:fn[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:mi[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:mi[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Er[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Er[0],areaFillOpacity:.25,areaActiveFillColor:Er[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Er[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Er[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:mi[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:mi[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Er[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:mi[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:mi[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Er[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:fn[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:mi[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:mi[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},Qr=ra(Vn),wn={default:Qr};function zn(r){return(0,l.get)(wn,(0,l.lowerCase)(r),wn.default)}function na(r,i){wn[(0,l.lowerCase)(r)]=(0,l.deepMix)({},wn.default,i)}function mt(r,i,t){var e=t.translate(r),n=t.translate(i);return(0,l.isNumberEqual)(e,n)}function R(r,i){var t=i.coordinate,e=i.getXScale(),n=e.range,a=n[n.length-1],o=n[0],s=t.invert(r),u=s.x;return t.isPolar&&u>(1+a)/2&&(u=o),e.translate(e.invert(u))}function v(r,i,t){var e=t.coordinate,n=t.getYScale(),a=n.field,o=e.invert(i),s=n.invert(o.y),u=(0,l.find)(r,function(c){var h=c[Gt];return h[a][0]<=s&&h[a][1]>=s});return u||r[r.length-1]}var m=(0,l.memoize)(function(r){if(r.isCategory)return 1;for(var i=r.values,t=i.length,e=r.translate(i[0]),n=e,a=0;a<t;a++){var o=i[a],s=r.translate(o);s<e&&(e=s),s>n&&(n=s)}return(n-e)/(t-1)});function L(r,i,t){var e=t;if(!t){var n=i.getAttribute("position"),a=n.getFields();e=a[0]}var o=i.scales;return o[e]?o[e].getText(r[e]):(0,l.hasKey)(r,e)?r[e]:e}function j(r){var i=(0,l.values)(r.attributes);return(0,l.filter)(i,function(t){return(0,l.contains)(Mt,t.type)})}function ut(r){for(var i=j(r),t,e=0,n=i;e<n.length;e++){var a=n[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=r.getXScale(),u=r.getYScale();return t||u||s}function gt(r,i){var t=i.field,e=r[t];if((0,l.isArray)(e)){var n=e.map(function(a){return i.getText(a)});return n.join("-")}return i.getText(e)}function _t(r,i){var t,e=i.getGroupScales();if(e.length&&(t=e[0]),t){var n=t.field;return t.getText(r[n])}var a=ut(i);return Ge(a)}function Lt(r,i,t){if(i.length===0)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,u=null;if(e==="heatmap"||e==="point"){for(var c=t.coordinate,h=c.invert(r),f=n.invert(h.x),p=a.invert(h.y),g=Infinity,_=0;_<i.length;_++){var H=i[_],lt=H[Gt],pt=Math.pow(lt[o]-f,2)+Math.pow(lt[s]-p,2);pt<g&&(g=pt,u=H)}return u}var wt=i[0],Ft=i[i.length-1],Dt=R(r,t),te=wt[Gt][o],ye=wt[Gt][s],Oe=Ft[Gt][o],Re=a.isLinear&&(0,l.isArray)(ye);if((0,l.isArray)(te)){for(var _=0;_<i.length;_++){var we=i[_],lt=we[Gt];if(n.translate(lt[o][0])<=Dt&&n.translate(lt[o][1])>=Dt)if(Re)(0,l.isArray)(u)||(u=[]),u.push(we);else{u=we;break}}(0,l.isArray)(u)&&(u=v(u,r,t))}else{var Xe=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var _=0;_<i.length;_++){var we=i[_],lt=we[Gt];if(mt(lt[o],Dt,n))if(Re)(0,l.isArray)(u)||(u=[]),u.push(we);else{u=we;break}else n.translate(lt[o])<=Dt&&(Ft=we,Xe=i[_+1])}(0,l.isArray)(u)&&(u=v(u,r,t))}else{if((Dt>n.translate(Oe)||Dt<n.translate(te))&&(Dt>n.max||Dt<n.min))return null;for(var $e=0,Mi=i.length-1,fi=void 0;$e<=Mi;){fi=Math.floor(($e+Mi)/2);var xi=i[fi][Gt][o];if(mt(xi,Dt,n))return i[fi];n.translate(xi)<=n.translate(Dt)?($e=fi+1,Ft=i[fi],Xe=i[fi+1]):(Mi===0&&(Ft=i[0]),Mi=fi-1)}}Ft&&Xe&&Math.abs(n.translate(Ft[Gt][o])-Dt)>Math.abs(n.translate(Xe[Gt][o])-Dt)&&(Ft=Xe)}var er=m(t.getXScale());return!u&&Math.abs(n.translate(Ft[Gt][o])-Dt)<=er/2&&(u=Ft),u}function Rt(r,i,t){t===void 0&&(t="");var e=r[Gt],n=L(e,i,t),a=i.tooltipOption,o=i.theme.defaultColor,s=[],u,c;function h(ye,Oe){if(!(0,l.isNil)(Oe)&&Oe!==""){var Re={title:n,data:e,mappingData:r,name:ye,value:Oe,color:r.color||o,marker:!0};s.push(Re)}}if((0,l.isObject)(a)){var f=a.fields,p=a.callback;if(p){var g=f.map(function(ye){return r[Gt][ye]}),_=p.apply(void 0,g),H=(0,x.__assign)({data:r[Gt],mappingData:r,title:n,color:r.color||o,marker:!0},_);s.push(H)}else for(var lt=i.scales,pt=0,wt=f;pt<wt.length;pt++){var Ft=wt[pt];if(!(0,l.isNil)(e[Ft])){var Dt=lt[Ft];u=Ge(Dt),c=Dt.getText(e[Ft]),h(u,c)}}}else{var te=ut(i);(0,l.isNil)(e[te.field])||(c=gt(e,te),u=_t(e,i),h(u,c))}return s}var Ht={};function ae(r,i){Ht[r]=i}function ve(r){delete Ht[r]}function B(){return Object.keys(Ht)}function A(r){return Ht[r]}var b=function(){function r(i){this.option=this.wrapperOption(i)}return r.prototype.update=function(i){return this.option=this.wrapperOption(i),this},r.prototype.hasAction=function(i){var t=this.option.actions;return(0,l.some)(t,function(e){return e[0]===i})},r.prototype.create=function(i,t){var e=this.option,n=e.type,a=e.cfg,o=n==="theta",s=(0,x.__assign)({start:i,end:t},a),u=(0,Wt.getCoordinate)(o?"polar":n);return this.coordinate=new u(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},r.prototype.adjust=function(i,t){return this.coordinate.update({start:i,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},r.prototype.rotate=function(i){return this.option.actions.push(["rotate",i]),this},r.prototype.reflect=function(i){return this.option.actions.push(["reflect",i]),this},r.prototype.scale=function(i,t){return this.option.actions.push(["scale",i,t]),this},r.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},r.prototype.getOption=function(){return this.option},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.wrapperOption=function(i){return(0,x.__assign)({type:"rect",actions:[],cfg:{}},i)},r.prototype.execActions=function(i){var t=this,e=this.option.actions;(0,l.each)(e,function(n){var a,o=n[0],s=n.slice(1),u=(0,l.isNil)(i)?!0:i.includes(o);u&&(a=t.coordinate)[o].apply(a,s)})},r}(),M=b,st=function(){function r(i,t,e){this.view=i,this.gEvent=t,this.data=e,this.type=t.type}return Object.defineProperty(r.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),r.prototype.toString=function(){return"[Event (type="+this.type+")]"},r.prototype.clone=function(){return new r(this.view,this.gEvent,this.data)},r}(),vt=st;function T(r){return!(0,l.isNumber)(r)&&!(0,l.isArray)(r)}function U(r){r===void 0&&(r=0);var i=(0,l.isArray)(r)?r:[r];switch(i.length){case 0:i=[0,0,0,0];break;case 1:i=new Array(4).fill(i[0]);break;case 2:i=(0,x.__spreadArrays)(i,i);break;case 3:i=(0,x.__spreadArrays)(i,[i[1]]);break;default:i=i.slice(0,4);break}return i}var rt=function(){function r(i,t,e,n){i===void 0&&(i=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.top=i,this.right=t,this.bottom=e,this.left=n}return r.prototype.shrink=function(i){var t=i[0],e=i[1],n=i[2],a=i[3];return this.top+=t,this.right+=e,this.bottom+=n,this.left+=a,this},r.prototype.inc=function(i,t){var e=i.width,n=i.height;switch(t){case it.TOP:case it.TOP_LEFT:case it.TOP_RIGHT:this.top+=n;break;case it.RIGHT:case it.RIGHT_TOP:case it.RIGHT_BOTTOM:this.right+=e;break;case it.BOTTOM:case it.BOTTOM_LEFT:case it.BOTTOM_RIGHT:this.bottom+=n;break;case it.LEFT:case it.LEFT_TOP:case it.LEFT_BOTTOM:this.left+=e;break;default:break}return this},r.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},r}();function xt(r){var i=r.padding;if(!T(i))return U(i);var t=r.viewBBox,e=r.autoPadding,n=new rt;(0,l.each)(r.getComponents(),function(s){var u=s.component,c=s.type;if(!(c===nt.GRID||c===nt.TOOLTIP)){var h=u.getLayoutBBox(),f=new Nr(h.x,h.y,h.width,h.height);if(c===nt.AXIS){var p=f.exceed(t);n.shrink(p)}else{var g=s.direction;n.inc(f,g)}}});var a=n.getPadding();if(e){var o=U(r.appendPadding);return[Math.max(e[0]-o[0],a[0]),Math.max(e[1]-o[1],a[1]),Math.max(e[2]-o[2],a[2]),Math.max(e[3]-o[3],a[3])]}return a}function Ot(r){var i=r.getController("axis"),t=r.getController("legend"),e=r.getController("annotation"),n=r.getController("slider"),a=xt(r);r.coordinateBBox=r.viewBBox.shrink(a).shrink(U(r.appendPadding)),r.adjustCoordinate(),[i,n,t,e].forEach(function(o){o&&o.layout()})}var Nt=function(){function r(){this.scales=new Map,this.syncScales=new Map}return r.prototype.createScale=function(i,t,e,n){var a=e,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,u={type:s.type};s.isCategory&&(u.values=s.values),a=(0,l.deepMix)(u,o.scaleDef,e)}var c=Be(i,t,a);return this.cacheScale(c,e,n),c},r.prototype.sync=function(){var i=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,l.each)(t,function(s){var u=i.getScale(s);a=(0,l.isNumber)(u.max)?Math.max(a,u.max):a,n=(0,l.isNumber)(u.min)?Math.min(n,u.min):n,(0,l.each)(u.values,function(c){o.includes(c)||o.push(c)})}),(0,l.each)(t,function(s){var u=i.getScale(s);u.isContinuous?u.change({min:n,max:a,values:o}):u.isCategory&&u.change({values:o})})})},r.prototype.cacheScale=function(i,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===i.type?(Ce(n.scale,i),n.scaleDef=t):(n={key:e,scale:i,scaleDef:t},this.scales.set(e,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(e)}},r.prototype.getScale=function(i){var t=this.getScaleMeta(i);if(!t){var e=(0,l.last)(i.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},r.prototype.deleteScale=function(i){var t=this.getScaleMeta(i);if(t){var e=t.syncKey,n=this.syncScales.get(e);if(n&&n.length){var a=n.indexOf(i);a!==-1&&n.splice(a,1)}}this.scales.delete(i)},r.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},r.prototype.removeFromSyncScales=function(i){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(i);if(a!==-1)return e.splice(a,1),e.length===0&&t.syncScales.delete(n),!1})},r.prototype.getSyncKey=function(i){var t=i.scale,e=i.scaleDef,n=t.field,a=(0,l.get)(e,["sync"]);return a===!0?n:a===!1?void 0:a},r.prototype.getScaleMeta=function(i){return this.scales.get(i)},r}(),le=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this,{visible:t.visible})||this;e.id=(0,l.uniqueId)("view"),e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=B(),e.scalePool=new Nt,e.layoutFunc=Ot,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(lt){var pt=lt.name;if(!pt.includes(":")){var wt=e.createViewEvent(lt);e.doPlotEvent(wt),e.emit(pt,wt)}},e.onDelegateEvents=function(lt){var pt=lt.name;if(!!pt.includes(":")){var wt=e.createViewEvent(lt);e.emit(pt,wt)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,u=t.foregroundGroup,c=t.region,h=c===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:c,f=t.padding,p=t.appendPadding,g=t.theme,_=t.options,H=t.limitInPlot;return e.parent=n,e.canvas=a,e.backgroundGroup=o,e.middleGroup=s,e.foregroundGroup=u,e.region=h,e.padding=f,e.appendPadding=p,e.options=(0,x.__assign)((0,x.__assign)({},e.options),_),e.limitInPlot=H,e.themeObject=(0,l.isObject)(g)?(0,l.deepMix)({},zn("default"),g):zn(g),e.init(),e}return i.prototype.setLayout=function(t){this.layoutFunc=t},i.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new M(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},i.prototype.render=function(t){t===void 0&&(t=!1),this.emit(y.BEFORE_RENDER),this.paint(t),this.emit(y.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},i.prototype.clear=function(){var t=this;this.emit(y.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,u){t.getRootView().scalePool.deleteScale(u)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(y.AFTER_CLEAR)},i.prototype.destroy=function(){this.emit(y.BEFORE_DESTROY);var t=this.interactions;(0,l.each)(t,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),r.prototype.destroy.call(this)},i.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var u=s[n];u.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},i.prototype.data=function(t){return(0,l.set)(this.options,"data",t),this.isDataChanged=!0,this},i.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},i.prototype.filter=function(t,e){return(0,l.isFunction)(e)?((0,l.set)(this.options,["filters",t],e),this):(!e&&(0,l.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},i.prototype.axis=function(t,e){return(0,l.isBoolean)(t)?(0,l.set)(this.options,["axes"],t):(0,l.set)(this.options,["axes",t],e),this},i.prototype.legend=function(t,e){return(0,l.isBoolean)(t)?(0,l.set)(this.options,["legends"],t):(0,l.isString)(t)?(0,l.set)(this.options,["legends",t],e):(0,l.set)(this.options,["legends"],t),this},i.prototype.scale=function(t,e){var n=this;return(0,l.isString)(t)?(0,l.set)(this.options,["scales",t],e):(0,l.isObject)(t)&&(0,l.each)(t,function(a,o){(0,l.set)(n.options,["scales",o],a)}),this},i.prototype.tooltip=function(t){return(0,l.set)(this.options,"tooltip",t),this},i.prototype.annotation=function(){return this.getController("annotation")},i.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},i.prototype.coordinate=function(t,e){return(0,l.isString)(t)?(0,l.set)(this.options,"coordinate",{type:t,cfg:e}):(0,l.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},i.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},i.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=Br(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,x.__assign)((0,x.__assign)({},e),{type:t})),this},i.prototype.animate=function(t){return(0,l.set)(this.options,"animate",t),this},i.prototype.updateOptions=function(t){return this.clear(),(0,l.mix)(this.options,t),this.initOptions(),this},i.prototype.option=function(t,e){if(i.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,l.set)(this.options,t,e),this},i.prototype.theme=function(t){return this.themeObject=(0,l.isObject)(t)?(0,l.deepMix)({},this.themeObject,t):zn(t),this},i.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=Hn(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},i.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},i.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(y.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.changeData(t)}this.emit(y.AFTER_CHANGE_DATA)},i.prototype.createView=function(t){var e={data:this.options.data,scales:(0,l.clone)(this.options.scales),axes:(0,l.clone)(this.options.axes),coordinate:(0,l.clone)(this.coordinateController.getOption()),tooltip:(0,l.clone)(this.options.tooltip),legends:(0,l.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new i((0,x.__assign)((0,x.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:ht.BG}),middleGroup:this.middleGroup.addGroup({zIndex:ht.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:ht.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,x.__assign)((0,x.__assign)({},e),(0,l.get)(t,"options",{}))}));return this.views.push(n),n},i.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},i.prototype.removeView=function(t){var e=(0,l.remove)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},i.prototype.getCoordinate=function(){return this.coordinateInstance},i.prototype.getTheme=function(){return this.themeObject},i.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},i.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var n=e.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},i.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,o=e.length;a<o;a++){var s=e[a],u=t==="x"?s.getXScale():s.getYScale();u&&!n[u.field]&&(n[u.field]=u)}return n},i.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},i.prototype.getOptions=function(){return this.options},i.prototype.getData=function(){return this.filteredData},i.prototype.getLayer=function(t){return t===W.BG?this.backgroundGroup:t===W.MID?this.middleGroup:t===W.FORE?this.foregroundGroup:this.foregroundGroup},i.prototype.isPointInPlot=function(t){return Wr(this.getCoordinate(),t)},i.prototype.getLegendAttributes=function(){return(0,l.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},i.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return Ei((0,l.flatten)(t))},i.prototype.getCanvas=function(){return this.getRootView().canvas},i.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},i.prototype.getXY=function(t){var e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,l.each)(t,function(u,c){n[c]&&(o=n[c].scale(u)),a[c]&&(s=a[c].scale(u))}),!(0,l.isNil)(o)&&!(0,l.isNil)(s))return e.convert({x:o,y:s})},i.prototype.getController=function(t){return(0,l.find)(this.controllers,function(e){return e.name===t})},i.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},i.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},i.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},i.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},i.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},i.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},i.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,o=e.length;a<o;a++){var s=e[a],u=s.dataArray;s.sort(u);for(var c=void 0,h=0,f=u.length;h<f;h++){var p=u[h];c=Lt(t,p,s),c&&n.push(c)}}for(var g=this.views,a=0,o=g.length;a<o;a++){var _=g[a],H=_.getSnapRecords(t);n=n.concat(H)}return n},i.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];t=t.concat(o.getComponents())}return t},i.prototype.filterData=function(t){var e=this.options.filters;return(0,l.size)(e)===0?t:(0,l.filter)(t,function(n,a){var o=Object.keys(e);return o.every(function(s){var u=e[s];return u(n[s],n,a)})})},i.prototype.filterFieldData=function(t,e){var n=this.options.filters,a=(0,l.get)(n,t);return(0,l.isUndefined)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},i.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,l.isEqual)(e,a)&&(0,l.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},i.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(y.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(y.AFTER_PAINT),this.isDataChanged=!1},i.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,l.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,a=e.y,o=e.width,s=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},i.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;T(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var u=a[o];u.renderLayoutRecursive(t)}},i.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=xr(this.coordinateInstance),a=n.type,o=n.attrs;e.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,u=0,c=s.length;u<c;u++){var h=s[u];h.renderPaintRecursive(t)}},i.prototype.createScale=function(t,e,n,a){var o=(0,l.get)(this.options.scales,[t]),s=(0,x.__assign)((0,x.__assign)({},o),n);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},i.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.renderDataRecursive(t)}},i.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,a=o.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,u=s.start,c=s.end,h=new Nr(t+n*u.x,e+a*u.y,n*(c.x-u.x),a*(c.y-u.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new Nr(t+n*u.x,e+a*u.y,n*(c.x-u.x),a*(c.y-u.y)),this.coordinateBBox=this.viewBBox)},i.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},i.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var a=t[e],o=A(a);o&&this.controllers.push(new o(this))}},i.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,o=new vt(this,t,a);return o.type=n,o},i.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(e)){var u=this.isPointInPlot(o);if(u){var c="plot:"+e;t.type=c,this.emit(c,t),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!u?(e==="mousemove"&&(t.type=V.MOUSE_LEAVE,this.emit(V.MOUSE_LEAVE,t)),t.type=V.LEAVE,this.emit(V.LEAVE,t)):!this.isPreMouseInPlot&&u&&(e==="mousemove"&&(t.type=V.MOUSE_ENTER,this.emit(V.MOUSE_ENTER,t)),t.type=V.ENTER,this.emit(V.ENTER,t)),this.isPreMouseInPlot=u):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(t.type=V.MOUSE_LEAVE,this.emit(V.MOUSE_LEAVE,t)),t.type=V.LEAVE,this.emit(V.LEAVE,t),this.isPreMouseInPlot=!1)}},i.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},i.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,l.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var u=a[o];u.scales=this.getGeometryScales();var c={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?u.update(c):u.init(c)}this.adjustScales()},i.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,u=this.filteredData,c=0,h=t.length;c<h;c++){var f=t[c],p=s[f],g=this.getScaleKey(f);this.createScale(f,e.includes(f)?a:u,p,g),this.createdScaleKeys.set(g,!0)}},i.prototype.syncScale=function(){this.getRootView().scalePool.sync()},i.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},i.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();Ei(s,t,e)}return t},i.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();Ei(s,t,e)}return t},i.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},i.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,x.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,l.each)(e,function(o){var s=o.field,u=o.values,c=o.isCategory,h=o.isIdentity;if((c||h)&&u&&!(0,l.get)(a,[s,"range"])){var f=u.length,p=void 0;if(f===1)p=[.5,1];else{var g=1,_=0;Qi(n)?n.isTransposed?(g=(0,l.get)(t.theme,"widthRatio.multiplePie",1/1.3),_=1/f*g,p=[_/2,1-_/2]):p=[0,1-1/f]:(_=1/f/2,p=[_,1-_])}o.range=p}})},i.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},i.prototype.doLayout=function(){this.layoutFunc(this)},i.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},i.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var u=o[s];u.coordinate=n,u.canvasRegion=a,e||u.animate(!1),u.paint(t)}},i.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var n=this.getComponents()[e];n.component.render()}},i.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},i.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=e===void 0?[]:e,a=t.interactions,o=a===void 0?[]:a,s=t.views,u=s===void 0?[]:s,c=t.annotations,h=c===void 0?[]:c,f=0;f<n.length;f++){var p=n[f];this.createGeometry(p)}for(var g=0;g<o.length;g++){var _=o[g],H=_.type,lt=_.cfg;this.interaction(H,lt)}for(var pt=0;pt<u.length;pt++){var wt=u[pt];this.createView(wt)}for(var Ft=this.getController("annotation"),Dt=0;Dt<h.length;Dt++){var te=h[Dt];Ft.annotation(te)}},i.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[e]){var o=this[e](a);(0,l.each)(t,function(s,u){(0,l.isFunction)(o[u])&&o[u](s)})}},i.prototype.getScaleKey=function(t){return this.id+"-"+t},i}(se);function he(r,i){le.prototype[r.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,x.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new i(e);return this.geometries.push(n),n}}var ue=le,Ne=function(r){(0,x.__extends)(i,r);function i(t){var e=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,u=s===void 0?!1:s,c=t.padding,h=t.appendPadding,f=t.renderer,p=f===void 0?"canvas":f,g=t.pixelRatio,_=t.localRefresh,H=_===void 0?!0:_,lt=t.visible,pt=lt===void 0?!0:lt,wt=t.defaultInteractions,Ft=wt===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:wt,Dt=t.options,te=t.limitInPlot,ye=t.theme,Oe=(0,l.isString)(n)?document.getElementById(n):n,Re=(0,xe.Z)('<div style="position:relative;"></div>');Oe.appendChild(Re);var we=Jt(Oe,u,a,o),Xe=ge(p),$e=new Xe.Canvas((0,x.__assign)({container:Re,pixelRatio:g,localRefresh:H},we));return e=r.call(this,{parent:null,canvas:$e,backgroundGroup:$e.addGroup({zIndex:ht.BG}),middleGroup:$e.addGroup({zIndex:ht.MID}),foregroundGroup:$e.addGroup({zIndex:ht.FORE}),padding:c,appendPadding:h,visible:pt,options:Dt,limitInPlot:te,theme:ye})||this,e.onResize=(0,l.debounce)(function(){e.forceFit()},300),e.ele=Oe,e.canvas=$e,e.width=we.width,e.height=we.height,e.autoFit=u,e.localRefresh=H,e.renderer=p,e.wrapperElement=Re,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(Ft),e}return i.prototype.initDefaultInteractions=function(t){var e=this;(0,l.each)(t,function(n){e.interaction(n)})},i.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this)},i.prototype.destroy=function(){r.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),At(this.wrapperElement),this.wrapperElement=null},i.prototype.changeVisible=function(t){return r.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},i.prototype.forceFit=function(){if(!this.destroyed){var t=Jt(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},i.prototype.updateCanvasStyle=function(){(0,de.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},i.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},i}(ue),je=null,Ke=function(){function r(i){this.visible=!0,this.components=[],this.view=i}return r.prototype.clear=function(){(0,l.each)(this.components,function(i){i.component.destroy()}),this.components=[]},r.prototype.destroy=function(){this.clear()},r.prototype.getComponents=function(){return this.components},r.prototype.changeVisible=function(i){this.visible!==i&&(this.components.forEach(function(t){i?t.component.show():t.component.hide()}),this.visible=i)},r}(),ii=0,De=1/2,Me=1/2,qe=.05,ki=function(){function r(i){var t=i.xField,e=i.yField,n=i.adjustNames,a=n===void 0?["x","y"]:n,o=i.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=e,this.dimValuesMap=o}return r.prototype.isAdjust=function(i){return this.adjustNames.indexOf(i)>=0},r.prototype.getAdjustRange=function(i,t,e){var n=this.yField,a=e.indexOf(t),o=e.length,s,u;return!n&&this.isAdjust("y")?(s=0,u=1):o>1?(s=e[a===0?0:a-1],u=e[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(u-t)/2,a!==o-1?u-=(u-t)/2:u+=(t-e[o-2])/2):(s=t===0?0:t-.5,u=t===0?1:t+.5),{pre:s,next:u}},r.prototype.adjustData=function(i,t){var e=this,n=this.getDimValues(t);l.each(i,function(a,o){l.each(n,function(s,u){e.adjustDim(u,s,a,o)})})},r.prototype.groupData=function(i,t){return l.each(i,function(e){e[t]===void 0&&(e[t]=ii)}),l.groupBy(i,t)},r.prototype.adjustDim=function(i,t,e,n){},r.prototype.getDimValues=function(i){var t=this,e=t.xField,n=t.yField,a=l.assign({},this.dimValuesMap),o=[];if(e&&this.isAdjust("x")&&o.push(e),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(u){a&&a[u]||(a[u]=l.valuesOfKey(i,u).sort(function(c,h){return c-h}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[ii,1]}return a},r}(),Xi=ki,Cn={},Na=function(r){return Cn[r.toLowerCase()]},Ga=function(r,i){if(Na(r))throw new Error("Adjust type '"+r+"' existed.");Cn[r.toLowerCase()]=i},Zr=S(99350),As=function(r){(0,Zr.__extends)(i,r);function i(t){var e=r.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,a=n===void 0?De:n,o=t.dodgeRatio,s=o===void 0?Me:o,u=t.dodgeBy,c=t.intervalPadding,h=t.dodgePadding,f=t.xDimensionLength,p=t.groupNum,g=t.defaultSize,_=t.maxColumnWidth,H=t.minColumnWidth,lt=t.columnWidthRatio,pt=t.customOffset;return e.marginRatio=a,e.dodgeRatio=s,e.dodgeBy=u,e.intervalPadding=c,e.dodgePadding=h,e.xDimensionLegenth=f,e.groupNum=p,e.defaultSize=g,e.maxColumnWidth=_,e.minColumnWidth=H,e.columnWidthRatio=lt,e.customOffset=pt,e}return i.prototype.process=function(t){var e=l.clone(t),n=l.flatten(e),a=this.dodgeBy,o=a?l.group(n,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],e},i.prototype.adjustDim=function(t,e,n,a){var o=this,s=this.customOffset,u=this.getDistribution(t),c=this.groupData(n,t);return l.each(c,function(h,f){var p;e.length===1?p={pre:e[0]-1,next:e[0]+1}:p=o.getAdjustRange(t,parseFloat(f),e),l.each(h,function(g){var _=g[t],H=u[_],lt=H.indexOf(a);if(l.isNil(s))g[t]=o.getDodgeOffset(p,lt,H.length);else{var pt=p.pre,wt=p.next;g[t]=l.isFunction(s)?s(g,p):(pt+wt)/2+s}})}),[]},i.prototype.getDodgeOffset=function(t,e,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,u=a.intervalPadding,c=a.dodgePadding,h=t.pre,f=t.next,p=f-h,g;if(!l.isNil(u)&&l.isNil(c)&&u>=0){var _=this.getIntervalOnlyOffset(n,e);g=h+_}else if(!l.isNil(c)&&l.isNil(u)&&c>=0){var _=this.getDodgeOnlyOffset(n,e);g=h+_}else if(!l.isNil(u)&&!l.isNil(c)&&u>=0&&c>=0){var _=this.getIntervalAndDodgeOffset(n,e);g=h+_}else{var H=p*o/n,lt=s*H,_=1/2*(p-n*H-(n-1)*lt)+((e+1)*H+e*lt)-1/2*H-1/2*p;g=(h+f)/2+_}return g},i.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,u=n.groupNum,c=n.dodgeRatio,h=n.maxColumnWidth,f=n.minColumnWidth,p=n.columnWidthRatio,g=o/s,_=(1-(u-1)*g)/u*c/(t-1),H=((1-g*(u-1))/u-_*(t-1))/t;if(H=l.isNil(p)?H:1/u/t*p,!l.isNil(h)){var lt=h/s;H=Math.min(H,lt)}if(!l.isNil(f)){var pt=f/s;H=Math.max(H,pt)}H=a?a/s:H,_=((1-(u-1)*g)/u-t*H)/(t-1);var wt=((1/2+e)*H+e*_+1/2*g)*u-g/2;return wt},i.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,u=n.groupNum,c=n.marginRatio,h=n.maxColumnWidth,f=n.minColumnWidth,p=n.columnWidthRatio,g=o/s,_=1*c/(u-1),H=((1-_*(u-1))/u-g*(t-1))/t;if(H=p?1/u/t*p:H,!l.isNil(h)){var lt=h/s;H=Math.min(H,lt)}if(!l.isNil(f)){var pt=f/s;H=Math.max(H,pt)}H=a?a/s:H,_=(1-(H*t+g*(t-1))*u)/(u-1);var wt=((1/2+e)*H+e*g+1/2*_)*u-_/2;return wt},i.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,u=n.groupNum,c=a/s,h=o/s,f=((1-c*(u-1))/u-h*(t-1))/t,p=((1/2+e)*f+e*h+1/2*c)*u-c/2;return p},i.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},l.each(e,function(o,s){var u=l.valuesOfKey(o,t);u.length||u.push(0),l.each(u,function(c){a[c]||(a[c]=[]),a[c].push(s)})}),n[t]=a),a},i}(Xi),_s=As;function Ts(r,i){return(i-r)*Math.random()+r}var Ls=function(r){(0,Zr.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.process=function(t){var e=l.clone(t),n=l.flatten(e);return this.adjustData(e,n),e},i.prototype.adjustDim=function(t,e,n){var a=this,o=this.groupData(n,t);return l.each(o,function(s,u){return a.adjustGroup(s,t,parseFloat(u),e)})},i.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=(n-e)*qe;return Ts(e+a,n-a)},i.prototype.adjustGroup=function(t,e,n,a){var o=this,s=this.getAdjustRange(e,n,a);return l.each(t,function(u){u[e]=o.getAdjustOffset(s)}),t},i}(Xi),Es=Ls,Ya=l.Cache,wo=function(r){(0,Zr.__extends)(i,r);function i(t){var e=r.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,u=t.size,c=u===void 0?10:u,h=t.reverseOrder,f=h===void 0?!1:h;return e.adjustNames=a,e.height=s,e.size=c,e.reverseOrder=f,e}return i.prototype.process=function(t){var e=this,n=e.yField,a=e.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},i.prototype.reverse=function(t){return t.slice(0).reverse()},i.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,o=e.reverseOrder,s=o?this.reverse(t):t,u=new Ya,c=new Ya;return s.map(function(h){return h.map(function(f){var p,g=l.get(f,n,0),_=l.get(f,[a]),H=g.toString();if(_=l.isArray(_)?_[1]:_,!l.isNil(_)){var lt=_>=0?u:c;lt.has(H)||lt.set(H,0);var pt=lt.get(H),wt=_+pt;return lt.set(H,wt),(0,Zr.__assign)((0,Zr.__assign)({},f),(p={},p[a]=[pt,wt],p))}return f})})},i.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,u="y",c=s?this.reverse(t):t,h=new Ya;return c.map(function(f){return f.map(function(p){var g,_=e.size,H=p[a],lt=_*2/o;h.has(H)||h.set(H,lt/2);var pt=h.get(H);return h.set(H,pt+lt),(0,Zr.__assign)((0,Zr.__assign)({},p),(g={},g[u]=pt,g))})})},i}(Xi),Co=wo,So=function(r){(0,Zr.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.process=function(t){var e=l.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),u=Math.max.apply(Math,Object.keys(s).map(function(c){return s[c]}));return l.map(t,function(c){return l.map(c,function(h){var f,p,g=h[o],_=h[a];if(l.isArray(g)){var H=(u-s[_])/2;return(0,Zr.__assign)((0,Zr.__assign)({},h),(f={},f[o]=l.map(g,function(pt){return H+pt}),f))}var lt=(u-g)/2;return(0,Zr.__assign)((0,Zr.__assign)({},h),(p={},p[o]=[lt,g+lt],p))})})},i.prototype.getXValuesMaxMap=function(t){var e=this,n=this,a=n.xField,o=n.yField,s=l.groupBy(t,function(u){return u[a]});return l.mapValues(s,function(u){return e.getDimMaxValue(u,o)})},i.prototype.getDimMaxValue=function(t,e){var n=l.map(t,function(o){return l.get(o,e,[])}),a=l.flatten(n);return Math.max.apply(Math,a)},i}(Xi),aa=So;Ga("Dodge",_s),Ga("Jitter",Es),Ga("Stack",Co),Ga("Symmetric",aa);var eo={};function io(r){return eo[r.toLowerCase()]}function ji(r,i){eo[r.toLowerCase()]=i}var Gr={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Ps={interval:function(r){return{enter:{animation:r.isRect?r.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:r.isPolar&&r.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},ro={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(r){var i;return r.isRect?i=r.isTransposed?"grow-in-x":"grow-in-y":(i="grow-in-xy",r.isPolar&&r.isTransposed&&(i="wave-in")),{animation:i}},schema:function(r){var i;return r.isRect?i=r.isTransposed?"grow-in-x":"grow-in-y":i="grow-in-xy",{animation:i}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Mo(r,i){return{delay:(0,l.isFunction)(r.delay)?r.delay(i):r.delay,easing:(0,l.isFunction)(r.easing)?r.easing(i):r.easing,duration:(0,l.isFunction)(r.duration)?r.duration(i):r.duration,callback:r.callback}}function Aa(r,i,t){var e=Ps[r];return e&&((0,l.isFunction)(e)&&(e=e(i)),e=(0,l.deepMix)({},Gr,e),t)?e[t]:e}function oa(r,i,t){var e=(0,l.get)(r.get("origin"),"data",Gt),n=i.animation,a=Mo(i,e);if(n){var o=io(n);o&&o(r,a,t)}else r.animate(t.toAttrs,a)}function Os(r,i,t,e,n){if(ro[t]){var a=ro[t](e),o=io((0,l.get)(a,"animation",""));if(o){var s=(0,x.__assign)((0,x.__assign)((0,x.__assign)({},Gr.appear),a),i);r.stopAnimate(),o(r,s,{coordinate:e,minYPoint:n,toAttrs:null})}}}var sg=S(31207),lg=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this,t)||this;e.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,u=s===void 0?!0:s;return e.shapeFactory=n,e.container=a,e.offscreenGroup=o,e.visible=u,e}return i.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},i.prototype.update=function(t){var e=this,n=e.shapeFactory,a=e.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},i.prototype.destroy=function(){var t=this,e=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?oa(n,a,{coordinate:e.coordinate,toAttrs:(0,x.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,r.prototype.destroy.call(this)},i.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},i.prototype.setState=function(t,e){var n=this,a=this,o=a.states,s=a.shapeFactory,u=a.model,c=a.shape,h=a.shapeType,f=o.indexOf(t);if(e){if(f>-1)return;o.push(t),(t==="active"||t==="selected")&&c.toFront()}else{if(f===-1)return;o.splice(f,1),(t==="active"||t==="selected")&&c.toBack()}var p=s.drawShape(h,u,this.getOffscreenGroup());o.length?o.forEach(function(_){n.syncShapeStyle(c,p,_,null)}):this.syncShapeStyle(c,p,"reset",null),p.remove(!0);var g={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",g),(0,sg.propagationDelegate)(this.shape,"statechange",g)},i.prototype.clearStates=function(){var t=this,e=this.states;(0,l.each)(e,function(n){t.setState(n,!1)}),this.states=[]},i.prototype.hasState=function(t){return this.states.includes(t)},i.prototype.getStates=function(){return this.states},i.prototype.getData=function(){return this.data},i.prototype.getModel=function(){return this.model},i.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},i.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,u=a.theme[e]||a.theme[s];this.statesStyle=(0,l.deepMix)({},u,o)}return this.statesStyle},i.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,l.get)(n,[t,"style"],{}),o=a[e]||a;return(0,l.isFunction)(o)?o(this):o},i.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},i.prototype.drawShape=function(t,e){e===void 0&&(e=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var u=this.shape.cfg.name;u?(0,l.isString)(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var c=e?"enter":"appear",h=this.getAnimateCfg(c);h&&oa(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,x.__assign)({},this.shape.attr())})}},i.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},i.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,e)})}},i.prototype.syncShapeStyle=function(t,e,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),u=e.get("children"),c=0;c<s.length;c++)this.syncShapeStyle(s[c],u[c],n,a,o+c);else{if(n&&n!=="reset"){var h=t.get("name");(0,l.isArray)(h)&&(h=h[1]);var f=this.getStateStyle(n,h||o);e.attr(f)}var p=li(t,e);this.animate?a?oa(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:p,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(p,{duration:300})):t.attr(p):t.attr(p)}},i.prototype.getShapeType=function(t){var e=(0,l.get)(t,"shape");return(0,l.isArray)(e)?e[0]:e},i}(se),fu=lg,vu={},pu={};function ug(r){return vu[r.toLowerCase()]}function Ao(r,i){vu[r.toLowerCase()]=i}function cg(r){return pu[r.toLowerCase()]}function Xa(r,i){pu[r.toLowerCase()]=i}var hg=S(32093),fg={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(r,i){var t=this.getShape(r);return t.getPoints?t.getPoints(i):this.getDefaultPoints(i)},getShape:function(r){var i=this[r]||this[this.defaultShapeType];return i.coordinate=this.coordinate,i},getDefaultPoints:function(){return[]},getMarker:function(r,i){var t=this.getShape(r);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var n=this.theme,a=(0,l.get)(n,[r,"default"],{}),o=t.getMarker(i);return(0,l.deepMix)({},a,o)},drawShape:function(r,i,t){var e=this.getShape(r);return e.draw(i,t)}},vg={coordinate:null,parsePath:function(r){var i=this.coordinate,t=(0,hg.tr)(r);return i.isPolar?t=An(i,t):t=kn(i,t),t},parsePoint:function(r){var i=this.coordinate;return i.convert(r)},parsePoints:function(r){var i=this.coordinate;return r.map(function(t){return i.convert(t)})},draw:function(r,i){}},Is={};function _a(r,i){var t=(0,l.upperFirst)(r),e=(0,x.__assign)((0,x.__assign)((0,x.__assign)({},fg),i),{geometryType:r});return Is[t]=e,e}function vi(r,i,t){var e=(0,l.upperFirst)(r),n=Is[e],a=(0,x.__assign)((0,x.__assign)({},vg),t);return n[i]=a,a}function du(r){var i=(0,l.upperFirst)(r);return Is[i]}function pg(r,i,t){if(t===void 0&&(t={}),!i)return[r];var e=(0,l.groupToMap)(r,i),n=[];if(i.length===1&&t[i[0]])for(var a=t[i[0]],o=0,s=a;o<s.length;o++){var u=s[o],c=e["_"+u];c&&n.push(c)}else for(var h in e)if(e.hasOwnProperty(h)){var f=e[h];n.push(f)}return n}function gu(r,i){return(0,l.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,l.isEqual)(r[t],i[t])})}function no(r){return(0,l.isArray)(r)?r:r.split("*")}function dg(r,i){var t=[];return(0,l.each)(i,function(e,n){var a=n.split(" ")[0];a===r&&t.push(e)}),t}var gg=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,u=t.sortable,c=u===void 0?!1:u,h=t.visible,f=h===void 0?!0:h,p=t.theme,g=t.scales,_=g===void 0?{}:g,H=t.scaleDefs,lt=H===void 0?{}:H;return e.container=n,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=c,e.visible=f,e.userTheme=p,e.scales=_,e.scaleDefs=lt,e}return i.prototype.position=function(t){var e=t;(0,l.isPlainObject)(t)||(e={fields:no(t)});var n=(0,l.get)(e,"fields");return n.length===1&&(n.unshift("1"),(0,l.set)(e,"fields",n)),(0,l.set)(this.attributeOption,"position",e),this},i.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},i.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},i.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},i.prototype.adjust=function(t){var e=t;return((0,l.isString)(t)||(0,l.isPlainObject)(t))&&(e=[t]),(0,l.each)(e,function(n,a){(0,l.isObject)(n)||(e[a]={type:n})}),this.adjustOption=e,this},i.prototype.style=function(t,e){if((0,l.isString)(t)){var n=no(t);this.styleOption={fields:n,callback:e}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},i.prototype.tooltip=function(t,e){if((0,l.isString)(t)){var n=no(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},i.prototype.animate=function(t){return this.animateOption=t,this},i.prototype.label=function(t,e,n){if((0,l.isString)(t)){var a={},o=no(t);a.fields=o,(0,l.isFunction)(e)?a.callback=e:(0,l.isPlainObject)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},i.prototype.state=function(t){return this.stateOption=t,this},i.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},i.prototype.update=function(t){t===void 0&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,u=o.lastAttributeOption;(0,l.isEqual)(s,u)?e&&(n||!(0,l.isEqual)(e,this.data))?(this.setCfg(t),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},i.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,l.deepMix)({},Aa(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],u=0,c=o.length;u<c;u++){var h=o[u],f=this.mapping(h);s.push(f),this.createElements(f,u,t)}if(this.canDoGroupAnimation(t)){var p=this.container,g=this.type,_=this.coordinate,H=(0,l.get)(this.animateOption,"appear"),lt=this.getYScale(),pt=_.convert({x:0,y:lt.scale(this.getYMinValue())});Os(p,H,g,_,pt)}this.labelOption&&this.renderLabels((0,l.flatten)(s),t),this.dataArray=s,(0,l.each)(this.lastElementsMap,function(wt){wt.animate=e.animateOption,wt.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,x.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},i.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},i.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,r.prototype.destroy.call(this)},i.prototype.getGroupScales=function(){return this.groupScales},i.prototype.getAttribute=function(t){return this.attributes[t]},i.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},i.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},i.prototype.getGroupAttributes=function(){var t=[];return(0,l.each)(this.attributes,function(e){Mt.includes(e.type)&&t.push(e)}),t},i.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,l.isEmpty)(n.scales)&&(e=n.values[0]),e},i.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var u=a[o],c=u.field;u.isIdentity?n.push(u.values):n.push(e[c])}return t.mapping.apply(t,n)},i.prototype.getAdjust=function(t){return this.adjusts[t]},i.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},i.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},i.prototype.getElementId=function(t){t=(0,l.isArray)(t)?t[0]:t;var e=t[Gt];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),u=this.getYScale(),c=s.field||"x",h=u.field||"y",f=e[h],p;s.type==="identity"?p=s.values[0]:p=e[c];var g;o==="interval"||o==="schema"?g=p:o==="line"||o==="area"||o==="path"?g=o:g=p+"-"+f;for(var _=this.groupScales,a=0,H=_.length;a<H;a++){var lt=_[a],pt=lt.field;g=g+"-"+e[pt]}var wt=this.getAdjust("dodge");if(wt){var Ft=wt.dodgeBy;Ft&&(g=g+"-"+e[Ft])}return this.getAdjust("jitter")&&(g=g+"-"+t.x+"-"+t.y),g},i.prototype.getScaleFields=function(){var t=[],e={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var u in a)if(a.hasOwnProperty(u)){var c=a[u];c.fields?Ei(c.fields,t,e):c.values&&Ei(c.values,t,e)}return o&&o.fields&&Ei(o.fields,t,e),(0,l.isObject)(s)&&s.fields&&Ei(s.fields,t,e),t},i.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},i.prototype.getGroupFields=function(){for(var t=[],e={},n=0,a=Mt.length;n<a;n++){var o=Mt[n],s=this.attributeOption[o];s&&s.fields&&Ei(s.fields,t,e)}return t},i.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},i.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},i.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},i.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,u){return e.translate(s[Gt][n])-e.translate(u[Gt][n])})}this.hasSorted=!0},i.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},i.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!du(t))return this.shapeFactory||(this.shapeFactory=(0,l.clone)(du(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},i.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[e.field],e),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},i.prototype.createElement=function(t,e){e===void 0&&(e=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new fu({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},i.prototype.getDrawCfg=function(t){var e=t[Gt],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,l.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},i.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,u=a.elements,c=0,h=t.length;c<h;c++){var f=t[c],p=this.getElementId(f);s[p]&&(p=p+"-"+e+"-"+c);var g=o[p];if(!g)g=this.createElement(f,n);else{var _=this.getDrawCfg(f),H=g.getModel();(this.isCoordinateChanged||gu(_,H))&&(g.animate=this.animateOption,g.update(_)),delete o[p]}u.push(g),s[p]=g}return u},i.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,l.get)(e,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},i.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,a;return e>=0?a=e:n<=0?a=n:a=0,a},i.prototype.createAttrOption=function(t,e,n){if((0,l.isNil)(e)||(0,l.isObject)(e))(0,l.isObject)(e)&&(0,l.isEqual)(Object.keys(e),["values"])?(0,l.set)(this.attributeOption,t,{fields:e.values}):(0,l.set)(this.attributeOption,t,e);else{var a={};(0,l.isNumber)(e)?a.values=[e]:a.fields=no(e),n&&((0,l.isFunction)(n)?a.callback=n:a.values=n),(0,l.set)(this.attributeOption,t,a)}},i.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var u={},c=function(p){if(a.hasOwnProperty(p)){var g=a[p];if(!g)return{value:void 0};var _=(0,x.__assign)({},g),H=_.callback,lt=_.values,pt=_.fields,wt=pt===void 0?[]:pt,Ft=wt.map(function(te){var ye=t.scales[te];return ye.isCategory&&!u[te]&&Mt.includes(p)&&(t.groupScales.push(ye),u[te]=!0),ye});_.scales=Ft,p!=="position"&&Ft.length===1&&Ft[0].type==="identity"?_.values=Ft[0].values:!H&&!lt&&(p==="size"?_.values=o.sizes:p==="shape"?_.values=o.shapes[s]||[]:p==="color"&&(Ft.length?_.values=Ft[0].values.length<=10?o.colors10:o.colors20:_.values=o.colors10));var Dt=(0,Bt.getAttribute)(p);n[p]=new Dt(_)}};for(var h in a){var f=c(h);if(typeof f=="object")return f.value}},i.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter(function(te){return te.isCategory}),a=this.groupData(t),o=[],s=0,u=a.length;s<u;s++){for(var c=a[s],h=[],f=0,p=c.length;f<p;f++){var g=c[f],_={};for(var H in g)_[H]=g[H];_[Gt]=g;for(var lt=0,pt=n;lt<pt.length;lt++){var wt=pt[lt],Ft=wt.field;_[Ft]=wt.translate(_[Ft])}h.push(_)}o.push(h)}var Dt=this.adjustData(o);return this.beforeMappingData=Dt,Dt},i.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,u=o?o.field:null,c=0,h=e.length;c<h;c++){var f=e[c],p=(0,x.__assign)({xField:s,yField:u},f),g=f.type;if(g==="dodge"){var _=[];if(a.isCategory||a.type==="identity")_.push("x");else if(!o)_.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");p.adjustNames=_,p.dodgeRatio=this.theme.columnWidthRatio}else if(g==="stack"){var H=this.coordinate;if(!o){p.height=H.getHeight();var lt=this.getDefaultValue("size")||3;p.size=lt}!H.isTransposed&&(0,l.isNil)(p.reverseOrder)&&(p.reverseOrder=!0)}var pt=Na(g),wt=new pt(p);n=wt.process(n),this.adjusts[g]=wt}return n},i.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var u=e[s],c=u.field;o.push(c),(0,l.get)(n,[c,"values"])&&(a[c]=n[c].values)}return pg(t,o,a)},i.prototype.updateStackRange=function(t,e){for(var n=(0,l.flatten)(e),a=t.field,o=t.min,s=t.max,u=0;u<n.length;u++){var c=n[u],h=Math.min.apply(null,c[a]),f=Math.max.apply(null,c[a]);h<o&&(o=h),f>s&&(s=f)}var p=this.scaleDefs,g={};o<t.min&&!(0,l.get)(p,[a,"min"])&&(g.min=o),s>t.max&&!(0,l.get)(p,[a,"max"])&&(g.max=s),t.change(g)},i.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var o=e[n];this.generateShapePoints(o);var s=e[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},i.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),u=n?this.getAttributeValues(n,o):null,c=e.getShapePoints(u,s);o.points=c}},i.prototype.normalizeValues=function(t,e){var n=[];if((0,l.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(e.scale(o))}else n=e.scale(t);return n},i.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[Gt],points:o.points,nextPoints:o.nextPoints};for(var u in e)if(e.hasOwnProperty(u)){var c=e[u],h=c.names,f=this.getAttributeValues(c,o);if(h.length>1)for(var p=0;p<f.length;p+=1){var g=f[p],_=h[p];s[_]=(0,l.isArray)(g)&&g.length===1?g[0]:g}else s[h[0]]=f.length===1?f[0]:f}this.convertPoint(s),n.push(s)}return n},i.prototype.convertPoint=function(t){var e=t.x,n=t.y,a,o,s,u=this.coordinate;if((0,l.isArray)(e)&&(0,l.isArray)(n)){a=[],o=[];for(var c=0,h=0,f=e.length,p=n.length;c<f&&h<p;c+=1,h+=1)s=u.convert({x:e[c],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,l.isArray)(n)){o=[];for(var g=0;g<n.length;g++){var _=n[g];s=u.convert({x:e,y:_}),a&&a!==s.x?((0,l.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,l.isArray)(e)){a=[];for(var g=0;g<e.length;g++){var H=e[g];s=u.convert({x:H,y:n}),o&&o!==s.y?((0,l.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var lt=u.convert({x:e,y:n});a=lt.x,o=lt.y}t.x=a,t.y=o},i.prototype.getStyleCfg=function(t,e){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var u=a.map(function(c){return e[c]});return o.apply(void 0,u)},i.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,l.each)(s,function(u,c){u&&u.key&&e.idFields.push(c)})),o&&(this.theme=this.userTheme?(0,l.deepMix)({},o,this.userTheme):o)},i.prototype.renderLabels=function(t,e){e===void 0&&(e=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=ug(a);n=new o(this),this.geometryLabel=n}n.render(t,e);var s=n.labelsRenderer.shapesMap;(0,l.each)(this.elementsMap,function(u,c){var h=dg(c,s);if(h.length){u.labelShape=h;for(var f=0;f<h.length;f++)for(var p=h[f],g=p.getChildren(),_=0;_<g.length;_++){var H=g[_];H.cfg.name=["element","label"],H.cfg.element=u}}})},i.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,l.get)(this.animateOption,"appear")===void 0||(0,l.get)(this.animateOption,"appear")&&(0,l.get)(this.animateOption,["appear","animation"])===void 0)},i}(se),sa=gg,_o=Pi.transform;function Bs(r,i,t){var e=_o(r.getMatrix(),[["t",i,t]]);r.setMatrix(e)}function yu(r,i){var t=r.attr(),e=t.x,n=t.y,a=_o(r.getMatrix(),[["t",-e,-n],["r",i],["t",e,n]]);r.setMatrix(a)}function JO(){return[1,0,0,0,1,0,0,0,1]}function yg(r,i){var t=r.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;r.applyToMatrix([e,n,1]);var a=_o(r.getMatrix(),[["t",-e,-n],["s",i,i],["t",e,n]]);r.setMatrix(a)}var mg=function(){function r(i){this.shapesMap={},this.lastShapesMap={};var t=i.layout,e=i.container;this.layout=t,this.container=e}return r.prototype.render=function(i,t,e){var n=this;e===void 0&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(i.length){for(var s=0,u=i;s<u.length;s++){var c=u[s];c&&this.renderLabel(c,o)}this.doLayout(i,t),this.renderLabelLine(i),this.adjustLabel(i)}var h=this.lastShapesMap,f=this.shapesMap;(0,l.each)(f,function(p,g){if(p.destroyed)delete f[g];else{if(h[g]){var _=p.get("data"),H=p.get("origin"),lt=p.get("coordinate"),pt=h[g],wt=p.get("animateCfg");pt.set("data",_),pt.set("origin",H),pt.set("animateCfg",wt),pt.set("coordinate",lt);var Ft=(0,l.get)(wt,"update"),Dt=pt.getChildren();p.getChildren().map(function(ye,Oe){var Re=Dt[Oe];Re.set("data",_),Re.set("origin",H),Re.set("animateCfg",wt),Re.set("coordinate",lt);var we=li(Re,ye);Ft?oa(Re,Ft,{toAttrs:we,coordinate:lt}):Re.attr(we)}),n.shapesMap[g]=pt}else{a.add(p);var te=(0,l.get)(p.get("animateCfg"),e?"enter":"appear");te&&oa(p,te,{toAttrs:(0,x.__assign)({},p.attr()),coordinate:p.get("coordinate")})}delete h[g]}}),(0,l.each)(h,function(p){var g=(0,l.get)(p.get("animateCfg"),"leave");g?oa(p,g,{toAttrs:null,coordinate:p.get("coordinate")}):p.remove(!0)}),this.lastShapesMap=f,o.destroy()},r.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},r.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},r.prototype.renderLabel=function(i,t){var e=i.id,n=i.data,a=i.mappingData,o=i.coordinate,s=i.animate,u=i.content,c={id:e,data:n,origin:a,coordinate:o},h=t.addGroup((0,x.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,l.deepMix)({},this.animate,s)},c)),f;if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var p=u.getCanvasBBox(),g=p.width,_=p.height,H=(0,l.get)(i,"textAlign","left"),lt=i.x,pt=i.y-_/2;H==="center"?lt=lt-g/2:(H==="right"||H==="end")&&(lt=lt-g),Bs(u,lt,pt),f=u,h.add(u)}else f=h.addShape("text",(0,x.__assign)({attrs:(0,x.__assign)({x:i.x,y:i.y,textAlign:i.textAlign,textBaseline:(0,l.get)(i,"textBaseline","middle"),text:i.content},i.style)},c));i.rotate&&yu(f,i.rotate),this.shapesMap[e]=h},r.prototype.doLayout=function(i,t){var e=this;if(this.layout){var n=(0,l.isArray)(this.layout)?this.layout:[this.layout];(0,l.each)(n,function(a){var o=cg((0,l.get)(a,"type",""));if(o){var s=[],u=[];(0,l.each)(e.shapesMap,function(c,h){s.push(c),u.push(t[h])}),o(i,s,u,e.region,a.cfg)}})}},r.prototype.renderLabelLine=function(i){var t=this;(0,l.each)(i,function(e){var n=(0,l.get)(e,"coordinate");if(!(!e||!n)){var a=n.getCenter(),o=n.getRadius();if(!!e.labelLine){var s=(0,l.get)(e,"labelLine",{}),u=e.id,c=s.path;if(!c){var h=fe(a.x,a.y,o,e.angle);c=[["M",h.x,h.y],["L",e.x,e.y]]}var f=t.shapesMap[u];f.destroyed||f.addShape("path",{capture:!1,attrs:(0,x.__assign)({path:c,stroke:e.color?e.color:(0,l.get)(e,["style","fill"],"#000"),fill:null},s.style),id:u,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},r.prototype.createOffscreenGroup=function(){var i=this.container,t=i.getGroupBase(),e=new t({});return e},r.prototype.adjustLabel=function(i){var t=this;(0,l.each)(i,function(e){if(e){var n=e.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(e.offsetX&&o.attr("x",o.attr("x")+e.offsetX),e.offsetY&&o.attr("y",o.attr("y")+e.offsetY))}}})},r}(),xg=mg;function bg(r){var i=0;return(0,l.each)(r,function(t){i+=t}),i/r.length}var wg=function(){function r(i){this.geometry=i}return r.prototype.getLabelItems=function(i){var t=this,e=[],n=this.getLabelCfgs(i);return(0,l.each)(i,function(a,o){var s=n[o];if(!s||(0,l.isNil)(a.x)||(0,l.isNil)(a.y)){e.push(null);return}var u=(0,l.isArray)(s.content)?s.content:[s.content];s.content=u;var c=u.length;(0,l.each)(u,function(h,f){if((0,l.isNil)(h)||h===""){e.push(null);return}var p=(0,x.__assign)((0,x.__assign)({},s),t.getLabelPoint(s,a,f));p.textAlign||(p.textAlign=t.getLabelAlign(p,f,c)),p.offset<=0&&(p.labelLine=null),e.push(p)})}),e},r.prototype.render=function(i,t){t===void 0&&(t=!1);var e=this.getLabelItems(i),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(e,a,t)},r.prototype.clear=function(){var i=this.labelsRenderer;i&&i.clear()},r.prototype.destroy=function(){var i=this.labelsRenderer;i&&i.destroy(),this.labelsRenderer=null},r.prototype.getCoordinate=function(){return this.geometry.coordinate},r.prototype.getDefaultLabelCfg=function(){return(0,l.get)(this.geometry.theme,"labels",{})},r.prototype.setLabelPosition=function(i,t,e,n){},r.prototype.getDefaultOffset=function(i){var t=this.getCoordinate(),e=this.getOffsetVector(i);return t.isTransposed?e[0]:e[1]},r.prototype.getLabelOffset=function(i,t,e){var n=this.getDefaultOffset(i.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",u=o?1:-1,c={x:0,y:0};return t>0||e===1?c[s]=n*u:c[s]=n*u*-1,c},r.prototype.getLabelPoint=function(i,t,e){var n=this.getCoordinate(),a=i.content.length;function o(H,lt){var pt=H;return(0,l.isArray)(pt)&&(i.content.length===1?pt.length<=2?pt=pt[H.length-1]:pt=bg(pt):pt=pt[lt]),pt}var s={content:i.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var u=Fe(t.x,t.y);s.x=u[0],s.y=u[1]}else s.x=o(t.x,e),s.y=o(t.y,e);var c=(0,l.isArray)(t.shape)?t.shape[0]:t.shape;if(c==="funnel"||c==="pyramid"){var h=(0,l.get)(t,"nextPoints"),f=(0,l.get)(t,"points");if(h){var p=n.convert(f[1]),g=n.convert(h[1]);s.x=(p.x+g.x)/2,s.y=(p.y+g.y)/2}else if(c==="pyramid"){var p=n.convert(f[1]),g=n.convert(f[2]);s.x=(p.x+g.x)/2,s.y=(p.y+g.y)/2}}i.position&&this.setLabelPosition(s,t,e,i.position);var _=this.getLabelOffset(i,e,a);return s.start={x:s.x,y:s.y},s.x+=_.x,s.y+=_.y,s.color=t.color,s},r.prototype.getLabelAlign=function(i,t,e){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(i.offset);o<0?n="right":o===0?n="center":n="left",e>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},r.prototype.getLabelId=function(i){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),o=i[Gt],s=t.getElementId(i);return e==="line"||e==="area"?s+=" "+o[n.field]:e==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},r.prototype.getLabelsRenderer=function(){var i=this.geometry,t=i.labelsContainer,e=i.labelOption,n=i.canvasRegion,a=i.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new xg({container:t,layout:(0,l.get)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?Aa("label",o):!1,s},r.prototype.getLabelCfgs=function(i){var t=this,e=this.geometry,n=this.getDefaultLabelCfg(),a=e.type,o=e.theme,s=e.labelOption,u=e.scales,c=e.coordinate,h=s,f=h.fields,p=h.callback,g=h.cfg,_=f.map(function(lt){return u[lt]}),H=[];return(0,l.each)(i,function(lt,pt){var wt=lt[Gt],Ft=t.getLabelText(wt,_),Dt;if(p){var te=f.map(function(Re){return wt[Re]});if(Dt=p.apply(void 0,te),(0,l.isNil)(Dt)){H.push(null);return}}var ye=(0,x.__assign)((0,x.__assign)({id:t.getLabelId(lt),data:wt,mappingData:lt,coordinate:c},g),Dt),Oe=ye.content;(0,l.isFunction)(Oe)?ye.content=Oe(wt,lt,pt):(0,l.isUndefined)(Oe)&&(ye.content=Ft[0]),(0,l.isFunction)(ye.position)&&(ye.position=ye.position(wt,lt,pt)),a==="polygon"||ye.offset<0&&!["line","point","path"].includes(a)?ye=(0,l.deepMix)({},n,o.innerLabels,ye):ye=(0,l.deepMix)({},n,o.labels,ye),H.push(ye)}),H},r.prototype.getLabelText=function(i,t){var e=[];return(0,l.each)(t,function(n){var a=i[n.field];(0,l.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,l.isNil)(a)||a===""?e.push(null):e.push(a)}),e},r.prototype.getOffsetVector=function(i){i===void 0&&(i=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(i,0):t.applyMatrix(0,i)},r.prototype.getGeometryShapes=function(){var i=this.geometry,t={};return(0,l.each)(i.elementsMap,function(e,n){t[n]=e.shape}),(0,l.each)(i.getOffscreenGroup().getChildren(),function(e){var n=i.getElementId(e.get("origin").mappingData);t[n]=e}),t},r}(),ks=wg,tI="4.0.15",Ta={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Fi={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},vn=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Cg=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Sg={backgroundColor:"#141414",brandColor:vn[0],paletteQualitative10:vn,paletteQualitative20:Cg,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:Fi[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:Fi[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Fi[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:Fi[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:Fi[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:Fi[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:Fi[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:vn[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Fi[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:Fi[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Fi[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Ta[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Ta[25],annotationArcBorderColor:Fi[15],annotationArcBorder:.5,annotationLineBorderColor:Fi[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:Fi[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Ta[95],annotationTextBorder:1.5,annotationRegionFillColor:Fi[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Fi[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Fi[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Fi[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ta[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Fi[25],pointFillColor:vn[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ta[100],pointBorderOpacity:1,pointActiveBorderColor:Fi[100],pointSelectedBorder:2,pointSelectedBorderColor:Fi[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:vn[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Ta[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Fi[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Fi[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:vn[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:vn[0],areaFillOpacity:.25,areaActiveFillColor:vn[0],areaActiveFillOpacity:.5,areaSelectedFillColor:vn[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:vn[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Fi[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Fi[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:vn[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Fi[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Fi[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:vn[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ta[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Fi[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Fi[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},la=S(73890),To=S(21830),Mg=S(46812),Ag=S(66631),Fs=S(27154),_g=S(9217),Tg=S(5253),eI=S(39984),Lg=S(98229),Eg=S(35755);function Pg(){return window?window.devicePixelRatio:1}function mu(r,i,t,e){var n=r-t,a=i-e;return Math.sqrt(n*n+a*a)}function La(r,i,t,e,n,a){return n>=r&&n<=r+t&&a>=i&&a<=i+e}function Ds(r,i){return!(i.minX>r.maxX||i.maxX<r.minX||i.minY>r.maxY||i.maxY<r.minY)}function Og(r,i){return!r||!i?r||i:{minX:Math.min(r.minX,i.minX),minY:Math.min(r.minY,i.minY),maxX:Math.max(r.maxX,i.maxX),maxY:Math.max(r.maxY,i.maxY)}}function xu(r,i){return r[0]===i[0]&&r[1]===i[1]}var iI=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,rI=/[^\s\,]+/gi,Ig=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Bg=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,kg=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,bu=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function wu(r,i){var t=r.match(bu);(0,Fs.default)(t,function(e){var n=e.split(":");i.addColorStop(n[0],n[1])})}function Fg(r,i,t){var e=Ig.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=i.getBBox(),s,u;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},u={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},u={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},u={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},u={x:o.maxX,y:o.minY});var c=Math.tan(n),h=c*c,f=(u.x-s.x+c*(u.y-s.y))/(h+1)+s.x,p=c*(u.x-s.x+c*(u.y-s.y))/(h+1)+s.y,g=r.createLinearGradient(s.x,s.y,f,p);return wu(a,g),g}function Dg(r,i,t){var e=Bg.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(o===0){var u=s.match(bu);return u[u.length-1].split(":")[1]}var c=i.getBBox(),h=c.maxX-c.minX,f=c.maxY-c.minY,p=Math.sqrt(h*h+f*f)/2,g=r.createRadialGradient(c.minX+h*n,c.minY+f*a,0,c.minX+h/2,c.minY+f/2,o*p);return wu(s,g),g}function Rg(r,i,t){if(i.get("patternSource")&&i.get("patternSource")===t)return i.get("pattern");var e,n,a=kg.exec(t),o=a[1],s=a[2];function u(){e=r.createPattern(n,o),i.set("pattern",e),i.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?u():(n.onload=u,n.src=n.src),e}function Ng(r,i,t){if((0,To.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return Fg(r,i,t);if(t[0]==="r")return Dg(r,i,t);if(t[0]==="p")return Rg(r,i,t)}return t}}function Gg(r){var i=0,t=0,e=0,n=0;return(0,Ag.default)(r)?r.length===1?i=t=e=n=r[0]:r.length===2?(i=e=r[0],t=n=r[1]):r.length===3?(i=r[0],t=n=r[1],e=r[2]):(i=r[0],t=r[1],e=r[2],n=r[3]):i=t=e=n=r,[i,t,e,n]}function Lo(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Rs(r,i){return Lo(r)*Lo(i)?(r[0]*i[0]+r[1]*i[1])/(Lo(r)*Lo(i)):1}function Cu(r,i){return(r[0]*i[1]<r[1]*i[0]?-1:1)*Math.acos(Rs(r,i))}function Su(r,i){var t=i[1],e=i[2],n=(0,Tg.default)((0,_g.default)(i[3]),Math.PI*2),a=i[4],o=i[5],s=r[0],u=r[1],c=i[6],h=i[7],f=Math.cos(n)*(s-c)/2+Math.sin(n)*(u-h)/2,p=-1*Math.sin(n)*(s-c)/2+Math.cos(n)*(u-h)/2,g=f*f/(t*t)+p*p/(e*e);g>1&&(t*=Math.sqrt(g),e*=Math.sqrt(g));var _=t*t*(p*p)+e*e*(f*f),H=_?Math.sqrt((t*t*(e*e)-_)/_):1;a===o&&(H*=-1),isNaN(H)&&(H=0);var lt=e?H*t*p/e:0,pt=t?H*-e*f/t:0,wt=(s+c)/2+Math.cos(n)*lt-Math.sin(n)*pt,Ft=(u+h)/2+Math.sin(n)*lt+Math.cos(n)*pt,Dt=[(f-lt)/t,(p-pt)/e],te=[(-1*f-lt)/t,(-1*p-pt)/e],ye=Cu([1,0],Dt),Oe=Cu(Dt,te);return Rs(Dt,te)<=-1&&(Oe=Math.PI),Rs(Dt,te)>=1&&(Oe=0),o===0&&Oe>0&&(Oe=Oe-2*Math.PI),o===1&&Oe<0&&(Oe=Oe+2*Math.PI),{cx:wt,cy:Ft,rx:xu(r,[c,h])?0:t,ry:xu(r,[c,h])?0:e,startAngle:ye,endAngle:ye+Oe,xRotation:n,arcFlag:a,sweepFlag:o}}var Eo=Math.sin,Po=Math.cos,Ns=Math.atan2,Oo=Math.PI;function Mu(r,i,t,e,n,a,o){var s=i.stroke,u=i.lineWidth,c=t-n,h=e-a,f=Ns(h,c),p=new zs({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Po(Oo/6)+","+10*Eo(Oo/6)+" L0,0 L"+10*Po(Oo/6)+",-"+10*Eo(Oo/6),stroke:s,lineWidth:u}});p.translate(n,a),p.rotateAtPoint(n,a,f),r.set(o?"startArrowShape":"endArrowShape",p)}function Au(r,i,t,e,n,a,o){var s=i.startArrow,u=i.endArrow,c=i.stroke,h=i.lineWidth,f=o?s:u,p=f.d,g=f.fill,_=f.stroke,H=f.lineWidth,lt=(0,x.__rest)(f,["d","fill","stroke","lineWidth"]),pt=t-n,wt=e-a,Ft=Ns(wt,pt);p&&(n=n-Po(Ft)*p,a=a-Eo(Ft)*p);var Dt=new zs({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:(0,x.__assign)((0,x.__assign)({},lt),{stroke:_||c,lineWidth:H||h,fill:g})});Dt.translate(n,a),Dt.rotateAtPoint(n,a,Ft),r.set(o?"startArrowShape":"endArrowShape",Dt)}function Ea(r,i,t,e,n){var a=Ns(e-i,t-r);return{dx:Po(a)*n,dy:Eo(a)*n}}function Gs(r,i,t,e,n,a){typeof i.startArrow=="object"?Au(r,i,t,e,n,a,!0):i.startArrow?Mu(r,i,t,e,n,a,!0):r.set("startArrowShape",null)}function Ys(r,i,t,e,n,a){typeof i.endArrow=="object"?Au(r,i,t,e,n,a,!1):i.endArrow?Mu(r,i,t,e,n,a,!1):r.set("startArrowShape",null)}var _u={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function ja(r,i){var t=i.attr();for(var e in t){var n=t[e],a=_u[e]?_u[e]:e;a==="matrix"&&n?r.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&r.setLineDash?(0,l.isArray)(n)&&r.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=Ng(r,i,n):a==="globalAlpha"&&(n=n*r.globalAlpha),r[a]=n)}}function Xs(r,i,t){for(var e=0;e<i.length;e++){var n=i[e];n.get("visible")?n.draw(r,t):n.skipDraw()}}function Tu(r,i,t,e){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],u=[0,0],c={dx:0,dy:0};i.beginPath();for(var h=0;h<n.length;h++){var f=n[h],p=f[0];if(h===0&&a&&a.d){var g=r.getStartTangent();c=Ea(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var _=n[h+1];if(_[0]==="Z"){var g=r.getEndTangent();c=Ea(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var g=r.getEndTangent();c=Ea(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}var H=c.dx,lt=c.dy;switch(p){case"M":i.moveTo(f[1]-H,f[2]-lt),u=[f[1],f[2]];break;case"L":i.lineTo(f[1]-H,f[2]-lt);break;case"Q":i.quadraticCurveTo(f[1],f[2],f[3]-H,f[4]-lt);break;case"C":i.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-H,f[6]-lt);break;case"A":{var pt=void 0;e?(pt=e[h],pt||(pt=Su(s,f),e[h]=pt)):pt=Su(s,f);var wt=pt.cx,Ft=pt.cy,Dt=pt.rx,te=pt.ry,ye=pt.startAngle,Oe=pt.endAngle,Re=pt.xRotation,we=pt.sweepFlag;if(i.ellipse)i.ellipse(wt,Ft,Dt,te,Re,ye,Oe,1-we);else{var Xe=Dt>te?Dt:te,$e=Dt>te?1:Dt/te,Mi=Dt>te?te/Dt:1;i.translate(wt,Ft),i.rotate(Re),i.scale($e,Mi),i.arc(0,0,Xe,ye,Oe,1-we),i.scale(1/$e,1/Mi),i.rotate(-Re),i.translate(-wt,-Ft)}break}case"Z":i.closePath();break;default:break}if(p==="Z")s=u;else{var fi=f.length;s=[f[fi-2],f[fi-1]]}}}function Lu(r,i){var t=r.get("canvas");t&&(i==="remove"&&(r._cacheCanvasBBox=r.get("cacheCanvasBBox")),r.get("hasChanged")||(t.refreshElement(r,i,t),t.get("autoDraw")&&t.draw(),r.set("hasChanged",!0)))}function Yg(r){var i;if(r.destroyed)i=r._cacheCanvasBBox;else{var t=r.get("cacheCanvasBBox"),e=t&&!!(t.width&&t.height),n=r.getCanvasBBox(),a=n&&!!(n.width&&n.height);e&&a?i=Og(t,n):e?i=t:a&&(i=n)}return i}function Eu(r){if(!r.length)return null;var i=[],t=[],e=[],n=[];return(0,l.each)(r,function(a){var o=Yg(a);o&&(i.push(o.minX),t.push(o.minY),e.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,i),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,e),maxY:Math.max.apply(null,n)}}function Xg(r,i){return!r||!i||!Ds(r,i)?null:{minX:Math.max(r.minX,i.minX),minY:Math.max(r.minY,i.minY),maxX:Math.min(r.maxX,i.maxX),maxY:Math.min(r.maxY,i.maxY)}}var Pu=S(41056),jg=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.onCanvasChange=function(t){Lu(this,t)},i.prototype.getShapeBase=function(){return N},i.prototype.getGroupBase=function(){return i},i.prototype._applyClip=function(t,e){e&&(t.save(),ja(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},i.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),ja(t,this),this._applyClip(t,this.getClip()),Xs(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},i.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},i}(dt.AbstractGroup),js=jg,Hg=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},i.prototype.getShapeBase=function(){return N},i.prototype.getGroupBase=function(){return js},i.prototype.onCanvasChange=function(t){Lu(this,t)},i.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,Pu.b)(t),a=n(this),o=e/2,s=a.x-o,u=a.y-o,c=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:u,minY:u,width:a.width+e,height:a.height+e,maxX:c,maxY:h}},i.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},i.prototype.isStroke=function(){return!!this.attrs.stroke},i.prototype._applyClip=function(t,e){e&&(t.save(),ja(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},i.prototype.draw=function(t,e){var n=this.getClip();if(e){var a=n?Eu([this,n]):this.getCanvasBBox();if(!Ds(e,a)){this.set("hasChanged",!1);return}}t.save(),ja(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},i.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",Ds(t,n))}this.set("hasChanged",!1)},i.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},i.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},i.prototype.fill=function(t){t.fill()},i.prototype.stroke=function(t){t.stroke()},i.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&(!(0,la.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,la.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},i.prototype.createPath=function(t){},i.prototype.afterDrawPath=function(t){},i.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,o)},i.prototype.isInStrokeOrPath=function(t,e,n,a,o){return!1},i.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},i}(dt.AbstractShape),Sn=Hg,Vg=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{x:0,y:0,r:0})},i.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),u=s.x,c=s.y,h=s.r,f=o/2,p=mu(u,c,t,e);return a&&n?p<=h+f:a?p<=h:n?p>=h-f&&p<=h+f:!1},i.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},i}(Sn),zg=Vg;function Io(r,i,t,e){return r/(t*t)+i/(e*e)}var Wg=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{x:0,y:0,rx:0,ry:0})},i.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),u=o/2,c=s.x,h=s.y,f=s.rx,p=s.ry,g=(t-c)*(t-c),_=(e-h)*(e-h);return a&&n?Io(g,_,f+u,p+u)<=1:a?Io(g,_,f,p)<=1:n?Io(g,_,f-u,p-u)>=1&&Io(g,_,f+u,p+u)<=1:!1},i.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var u=o>s?o:s,c=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(c,h),t.arc(0,0,u,0,Math.PI*2),t.restore(),t.closePath()}},i}(Sn),Zg=Wg;function Ou(r){return r instanceof HTMLElement&&(0,To.default)(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS"}var Ug=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{x:0,y:0,width:0,height:0})},i.prototype.initAttrs=function(t){this._setImage(t.img)},i.prototype.isStroke=function(){return!1},i.prototype.isOnlyHitBox=function(){return!0},i.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},i.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,To.default)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Ou(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},i.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),t==="img"&&this._setImage(e)},i.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,u=e.sx,c=e.sy,h=e.swidth,f=e.sheight,p=e.img;(p instanceof Image||Ou(p))&&(!(0,la.default)(u)&&!(0,la.default)(c)&&!(0,la.default)(h)&&!(0,la.default)(f)?t.drawImage(p,u,c,h,f,n,a,o,s):t.drawImage(p,n,a,o,s))},i}(Sn),$g=Ug,Wn=S(23646);function ua(r,i,t,e,n,a,o){var s=Math.min(r,t),u=Math.max(r,t),c=Math.min(i,e),h=Math.max(i,e),f=n/2;return a>=s-f&&a<=u+f&&o>=c-f&&o<=h+f?Wn.default.pointToLine(r,i,t,e,a,o)<=n/2:!1}var Kg=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},i.prototype.initAttrs=function(t){this.setArrow()},i.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},i.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,u=t.endArrow;s&&Gs(this,t,a,o,e,n),u&&Ys(this,t,e,n,a,o)},i.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr(),u=s.x1,c=s.y1,h=s.x2,f=s.y2;return ua(u,c,h,f,o,t,e)},i.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2,u=e.startArrow,c=e.endArrow,h={dx:0,dy:0},f={dx:0,dy:0};u&&u.d&&(h=Ea(n,a,o,s,e.startArrow.d)),c&&c.d&&(f=Ea(n,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-f.dx,s-f.dy)},i.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},i.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Wn.default.length(e,n,a,o)},i.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Wn.default.pointAt(n,a,o,s,t)},i}(Sn),Qg=Kg,Iu=S(74479),qg={circle:function(r,i,t){return[["M",r-t,i],["A",t,t,0,1,0,r+t,i],["A",t,t,0,1,0,r-t,i]]},square:function(r,i,t){return[["M",r-t,i-t],["L",r+t,i-t],["L",r+t,i+t],["L",r-t,i+t],["Z"]]},diamond:function(r,i,t){return[["M",r-t,i],["L",r,i-t],["L",r+t,i],["L",r,i+t],["Z"]]},triangle:function(r,i,t){var e=t*Math.sin(1/3*Math.PI);return[["M",r-t,i+e],["L",r,i-e],["L",r+t,i+e],["Z"]]},"triangle-down":function(r,i,t){var e=t*Math.sin(1/3*Math.PI);return[["M",r-t,i-e],["L",r+t,i-e],["L",r,i+e],["Z"]]}},Jg=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.initAttrs=function(t){this._resetParamsCache()},i.prototype._resetParamsCache=function(){this.set("paramsCache",{})},i.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},i.prototype.isOnlyHitBox=function(){return!0},i.prototype._getR=function(t){return(0,l.isNil)(t.r)?t.radius:t.r},i.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,u;return(0,Mg.default)(a)?(s=a,u=s(e,n,o),u=(0,Iu.Z)(u)):(s=i.Symbols[a],u=s(e,n,o)),s?u:(console.warn(a+" marker is not supported."),null)},i.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");Tu(this,t,{path:e},n)},i.Symbols=qg,i}(Sn),ty=Jg,Bo=S(15730),ey=S(49274),iy=S(26632);function Bu(r,i,t){var e=(0,iy.getOffScreenContext)();return r.createPath(e),e.isPointInPath(i,t)}var ry=1e-6;function Hs(r){return Math.abs(r)<ry?0:r<0?-1:1}function ny(r,i,t){return(t[0]-r[0])*(i[1]-r[1])==(i[0]-r[0])*(t[1]-r[1])&&Math.min(r[0],i[0])<=t[0]&&t[0]<=Math.max(r[0],i[0])&&Math.min(r[1],i[1])<=t[1]&&t[1]<=Math.max(r[1],i[1])}function ku(r,i,t){var e=!1,n=r.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=r[a],s=r[(a+1)%n];if(ny(o,s,[i,t]))return!0;Hs(o[1]-t)>0!=Hs(s[1]-t)>0&&Hs(i-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}var ay=S(2879);function ao(r,i,t,e,n,a,o,s){var u=(Math.atan2(s-i,o-r)+Math.PI*2)%(Math.PI*2);if(u<e||u>n)return!1;var c={x:r+t*Math.cos(u),y:i+t*Math.sin(u)};return mu(c.x,c.y,o,s)<=a/2}var Vs=S(35600),Fu=S(77160);function oy(r){for(var i=!1,t=r.length,e=0;e<t;e++){var n=r[e],a=n[0];if(a==="C"||a==="A"||a==="Q"){i=!0;break}}return i}function sy(r,i,t,e){for(var n=!1,a=i/2,o=0;o<r.length;o++){var s=r[o],u=s.currentPoint,c=s.params,h=s.prePoint,f=s.box;if(!(f&&!La(f.x-a,f.y-a,f.width+i,f.height+i,t,e))){switch(s.command){case"L":case"Z":n=ua(h[0],h[1],u[0],u[1],i,t,e);break;case"Q":var p=ay.default.pointDistance(h[0],h[1],c[1],c[2],c[3],c[4],t,e);n=p<=i/2;break;case"C":var g=Bo.default.pointDistance(h[0],h[1],c[1],c[2],c[3],c[4],c[5],c[6],t,e);n=g<=i/2;break;case"A":var _=s.arcParams,H=_.cx,lt=_.cy,pt=_.rx,wt=_.ry,Ft=_.startAngle,Dt=_.endAngle,te=_.xRotation,ye=[t,e,1],Oe=[1,0,0,0,1,0,0,0,1],Re=pt>wt?pt:wt,we=pt>wt?1:pt/wt,Xe=pt>wt?wt/pt:1;Vs.translate(Oe,Oe,[-H,-lt]),Vs.rotate(Oe,Oe,-te),Vs.scale(Oe,Oe,[1/we,1/Xe]),Fu.transformMat3(ye,ye,Oe),n=ao(0,0,Re,Ft,Dt,i,ye[0],ye[1]);break;default:break}if(n)break}}return n}function ly(r){for(var i=r.length,t=[],e=[],n=[],a=0;a<i;a++){var o=r[a],s=o[0];s==="M"?(n.length&&(e.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}}var ko=(0,x.__assign)({hasArc:oy,extractPolygons:ly,isPointInStroke:sy},dt.PathUtil);function Du(r,i,t){for(var e=!1,n=0;n<r.length;n++){var a=r[n];if(e=ku(a,i,t),e)break}return e}var uy=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{startArrow:!1,endArrow:!1})},i.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},i.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),t==="path"&&this._setPathArr(e),this.setArrow()},i.prototype._setPathArr=function(t){this.attrs.path=(0,Iu.Z)(t);var e=ko.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},i.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,ey.default)(this.attr("path")),this.set("segments",t)),t},i.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var a=this.getStartTangent();Gs(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();Ys(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},i.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.getSegments(),u=this.get("hasArc"),c=!1;if(n&&(c=ko.isPointInStroke(s,o,t,e)),!c&&a)if(u)c=Bu(this,t,e);else{var h=this.attr("path"),f=ko.extractPolygons(h);c=Du(f.polygons,t,e)||Du(f.polylines,t,e)}return c},i.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");Tu(this,t,e,n)},i.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},i.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,l.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},i.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,o=this.get("curve");if(!e||e.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,l.each)(e,function(h,f){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=f)});var s=o[a];if((0,l.isNil)(s)||(0,l.isNil)(a))return null;var u=s.length,c=o[a+1];return Bo.default.pointAt(s[u-2],s[u-1],c[1],c[2],c[3],c[4],c[5],c[6],n)},i.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",ko.pathToCurve(t))},i.prototype._setTcache=function(){var t=0,e=0,n=[],a,o,s,u,c=this.get("curve");if(!!c){if((0,l.each)(c,function(h,f){s=c[f+1],u=h.length,s&&(t+=Bo.default.length(h[u-2],h[u-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,l.each)(c,function(h,f){s=c[f+1],u=h.length,s&&(a=[],a[0]=e/t,o=Bo.default.length(h[u-2],h[u-1],s[1],s[2],s[3],s[4],s[5],s[6]),e+=o||0,a[1]=e/t,n.push(a))}),this.set("tCache",n)}},i.prototype.getStartTangent=function(){var t=this.getSegments(),e;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},i.prototype.getEndTangent=function(){var t=this.getSegments(),e=t.length,n;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},i}(Sn),zs=uy;function Ru(r,i,t,e,n){var a=r.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=r[o][0],u=r[o][1],c=r[o+1][0],h=r[o+1][1];if(ua(s,u,c,h,i,t,e))return!0}if(n){var f=r[0],p=r[a-1];if(ua(f[0],f[1],p[0],p[1],i,t,e))return!0}return!1}var cy=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr().points,u=!1;return n&&(u=Ru(s,o,t,e,!0)),!u&&a&&(u=ku(s,t,e)),u},i.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},i}(Sn),hy=cy,Nu=S(65386),fy=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{startArrow:!1,endArrow:!1})},i.prototype.initAttrs=function(t){this.setArrow()},i.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},i.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},i.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,a=e.startArrow,o=e.endArrow,s=n.length,u=n[0][0],c=n[0][1],h=n[s-1][0],f=n[s-1][1];a&&Gs(this,t,n[1][0],n[1][1],u,c),o&&Ys(this,t,n[s-2][0],n[s-2][1],h,f)},i.prototype.isFill=function(){return!1},i.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Ru(s,o,t,e,!1)},i.prototype.isStroke=function(){return!0},i.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,o=e.endArrow,s=n.length;if(!(n.length<2)){var u=n[0][0],c=n[0][1],h=n[s-1][0],f=n[s-1][1];if(a&&a.d){var p=Ea(u,c,n[1][0],n[1][1],a.d);u+=p.dx,c+=p.dy}if(o&&o.d){var p=Ea(n[s-2][0],n[s-2][1],h,f,o.d);h-=p.dx,f-=p.dy}t.beginPath(),t.moveTo(u,c);for(var g=0;g<s-1;g++){var _=n[g];t.lineTo(_[0],_[1])}t.lineTo(h,f)}},i.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},i.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,l.isNil)(e)?(this.set("totalLength",Nu.Z.length(t)),this.get("totalLength")):e},i.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,l.each)(n,function(s,u){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=u)}),Wn.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},i.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,l.each)(t,function(u,c){t[c+1]&&(o=[],o[0]=n/e,s=Wn.default.length(u[0],u[1],t[c+1][0],t[c+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},i.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},i.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},i}(Sn),vy=fy;function py(r,i,t,e,n,a,o){var s=n/2;return La(r-s,i-s,t,n,a,o)||La(r+t-s,i-s,n,e,a,o)||La(r+s,i+e-s,t,n,a,o)||La(r-s,i+s,n,e,a,o)}function dy(r,i,t,e,n,a,o,s){var u=a/2;return ua(r+n,i,r+t-n,i,a,o,s)||ua(r+t,i+n,r+t,i+e-n,a,o,s)||ua(r+t-n,i+e,r+n,i+e,a,o,s)||ua(r,i+e-n,r,i+n,a,o,s)||ao(r+t-n,i+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||ao(r+t-n,i+e-n,n,0,.5*Math.PI,a,o,s)||ao(r+n,i+e-n,n,.5*Math.PI,Math.PI,a,o,s)||ao(r+n,i+n,n,Math.PI,1.5*Math.PI,a,o,s)}var gy=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},i.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),u=s.x,c=s.y,h=s.width,f=s.height,p=s.radius;if(p){var _=!1;return n&&(_=dy(u,c,h,f,p,o,t,e)),!_&&a&&(_=Bu(this,t,e)),_}else{var g=o/2;if(a&&n)return La(u-g,c-g,h+g,f+g,t,e);if(a)return La(u,c,h,f,t,e);if(n)return py(u,c,h,f,o,t,e)}},i.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,u=e.radius;if(t.beginPath(),u===0)t.rect(n,a,o,s);else{var c=Gg(u),h=c[0],f=c[1],p=c[2],g=c[3];t.moveTo(n+h,a),t.lineTo(n+o-f,a),f!==0&&t.arc(n+o-f,a+f,f,-Math.PI/2,0),t.lineTo(n+o,a+s-p),p!==0&&t.arc(n+o-p,a+s-p,p,0,Math.PI/2),t.lineTo(n+g,a+s),g!==0&&t.arc(n+g,a+s-g,g,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},i}(Sn),yy=gy,Gu=S(8914),my=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},i.prototype.isOnlyHitBox=function(){return!0},i.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},i.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,Gu.assembleFont)(t)},i.prototype._setText=function(t){var e=null;(0,To.default)(t)&&t.indexOf(`
`)!==-1&&(e=t.split(`
`)),this.set("textArr",e)},i.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(e)},i.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=t.fontSize*1;return e?e-n:n*.14},i.prototype._drawTextArr=function(t,e,n){var a=this.attrs,o=a.textBaseline,s=a.x,u=a.y,c=a.fontSize*1,h=this._getSpaceingY(),f=(0,Gu.getTextHeight)(a.text,a.fontSize,a.lineHeight),p;(0,Fs.default)(e,function(g,_){p=u+_*(h+c)-f+c,o==="middle"&&(p+=f-c-(f-c)/2),o==="top"&&(p+=f-c),n?t.fillText(g,s,p):t.strokeText(g,s,p)})},i.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var u=n.text;e?t.fillText(u,a,o):t.strokeText(u,a,o)}},i.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&n>0&&(!(0,la.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,la.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},i.prototype.fill=function(t){this._drawText(t,!0)},i.prototype.stroke=function(t){this._drawText(t,!1)},i}(Sn),xy=my,by=S(4555),nI=S(85424),wy=S(22487),Yu=S(6052);function Cy(r,i){if(i){var t=(0,Yu.U_)(i);return(0,Yu.rG)(t,r)}return r}function Xu(r,i,t){var e=r.getTotalMatrix();if(e){var n=Cy([i,t,1],e),a=n[0],o=n[1];return[a,o]}return[i,t]}function ju(r,i,t){if(r.isCanvas&&r.isCanvas())return!0;if(!(0,wy.isAllowCapture)(r)&&r.cfg.isInView===!1)return!1;if(r.cfg.clipShape){var e=Xu(r,i,t),n=e[0],a=e[1];if(r.isClipped(n,a))return!1}var o=r.cfg.cacheCanvasBBox;return o||(o=r.getCanvasBBox()),i>=o.minX&&i<=o.maxX&&t>=o.minY&&t<=o.maxY}function Hu(r,i,t){if(!ju(r,i,t))return null;for(var e=null,n=r.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())e=Hu(s,i,t);else if(ju(s,i,t)){var u=s,c=Xu(s,i,t),h=c[0],f=c[1];u.isInShape(h,f)&&(e=s)}if(e)break}return e}var Sy=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},i.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},i.prototype.getShapeBase=function(){return N},i.prototype.getGroupBase=function(){return js},i.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Pg();return t>=1?Math.ceil(t):1},i.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},i.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},i.prototype.setDOMSize=function(t,e){r.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&n.scale(o,o)},i.prototype.clear=function(){r.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},i.prototype.getShape=function(t,e){return this.get("quickHit")?Hu(this,t,e):r.prototype.getShape.call(this,t,e,null)},i.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),e=this.getViewRange(),n;if(t.length&&t[0]===this)n=e;else if(n=Eu(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=Xg(n,e))}return n},i.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},i.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,Eg.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},i.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},i.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),ja(t,this),Xs(t,n),this.set("refreshElements",[])},i.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),ja(t,this),Xs(t,n,a),t.restore()),(0,Fs.default)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},i.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,Lg.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},i.prototype.skipDraw=function(){},i}(dt.AbstractCanvas),Vu=Sy,My=S(71270),Ay=My.version,Ws={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},pi={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},aI=null;function pn(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function zu(r){var i=Ws[r.type],t=r.getParent();if(!i)throw new Error("the type "+r.type+" is not supported by svg");var e=pn(i);if(r.get("id")&&(e.id=r.get("id")),r.set("el",e),r.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function Wu(r,i){var t=r.get("el"),e=(0,l.toArray)(t.children).sort(i),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function _y(r,i){var t=r.parentNode,e=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=e[i],a=e.indexOf(r);if(n){if(a>i)t.insertBefore(r,n);else if(a<i){var o=e[i+1];o?t.insertBefore(r,o):t.appendChild(r)}}else t.appendChild(r)}function Ty(r,i){var t=r.cfg.el,e=r.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=i.find("filter",n);a||(a=i.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function oo(r){var i=r.attr().matrix;if(i){for(var t=r.cfg.el,e=[],n=0;n<9;n+=3)e.push(i[n]+","+i[n+1]);e=e.join(","),e.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",i)}}function so(r,i){var t=r.getClip(),e=r.get("el");if(!t)e.removeAttribute("clip-path");else if(t&&!e.hasAttribute("clip-path")){zu(t),t.createPath(i);var n=i.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}function Zu(r,i){i.forEach(function(t){t.draw(r)})}function Uu(r,i){var t=r.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=r.getParent(),a=n?n.getChildren():[t],o=r.get("el");if(i==="remove"){var s=r.get("isClipShape");if(s){var u=o&&o.parentNode,c=u&&u.parentNode;u&&c&&c.removeChild(u)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(i==="show")o.setAttribute("visibility","visible");else if(i==="hide")o.setAttribute("visibility","hidden");else if(i==="zIndex")_y(o,a.indexOf(r));else if(i==="sort"){var h=r.get("children");h&&h.length&&Wu(r,function(f,p){return h.indexOf(f)-h.indexOf(p)?1:0})}else i==="clear"?o&&(o.innerHTML=""):i==="matrix"?oo(r):i==="clip"?so(r,e):i==="attr"||i==="add"&&r.draw(e)}}var Ly=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.isEntityGroup=function(){return!0},i.prototype.createDom=function(){var t=pn("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},i.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},i.prototype.onCanvasChange=function(t){Uu(this,t)},i.prototype.getShapeBase=function(){return Q},i.prototype.getGroupBase=function(){return i},i.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),so(this,t),this.createPath(t),e.length&&Zu(t,e))},i.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,l.each)(e||n,function(o,s){pi[s]&&a.setAttribute(pi[s],o)}),oo(this)},i}(dt.AbstractGroup),Zs=Ly,Ey=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},i.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},i.prototype.getShapeBase=function(){return Q},i.prototype.getGroupBase=function(){return Zs},i.prototype.onCanvasChange=function(t){Uu(this,t)},i.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,Pu.b)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,o=e.y,s=e.width,u=e.height,c=this.getHitLineWidth(),h=c/2,f=a-h,p=o-h,g=a+s+h,_=o+u+h;return{x:f,y:p,minX:f,minY:p,maxX:g,maxY:_,width:s+c,height:u+c}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},i.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},i.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},i.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||zu(this),so(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},i.prototype.createPath=function(t,e){},i.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,u=n.strokeStyle,c=n.fillOpacity,h=n.strokeOpacity,f=n.lineWidth,p=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),c&&p.setAttribute(pi.fillOpacity,c)),this.canStroke&&f>0&&(e?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",u):this._setColor(t,"stroke",s||u),h&&p.setAttribute(pi.strokeOpacity,h),f&&p.setAttribute(pi.lineWidth,f))},i.prototype._setColor=function(t,e,n){var a=this.get("el");if(!n){a.setAttribute(pi[e],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(pi[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(pi[e],"url(#"+o+")")}else a.setAttribute(pi[e],n)},i.prototype.shadow=function(t,e){var n=this.attr(),a=e||n,o=a.shadowOffsetX,s=a.shadowOffsetY,u=a.shadowBlur,c=a.shadowColor;(o||s||u||c)&&Ty(this,t)},i.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&oo(this)},i.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},i.prototype.isPointInPath=function(t,e){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,u=e+o.top,c=document.elementFromPoint(s,u);return!!(c&&c.isEqualNode(n))},i.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},i}(dt.AbstractShape),dn=Ey,Py=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{x:0,y:0,r:0})},i.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,l.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):pi[s]&&a.setAttribute(pi[s],o)})},i}(dn),Oy=Py,Iy=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return i.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,l.each)(e||n,function(o,s){pi[s]&&a.setAttribute(pi[s],o)}),a.innerHTML=n.html},i}(dn),By=Iy,ky=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{x:0,y:0,rx:0,ry:0})},i.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,l.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):pi[s]&&a.setAttribute(pi[s],o)})},i}(dn),Fy=ky,Dy=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{x:0,y:0,width:0,height:0})},i.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,l.each)(e||a,function(s,u){u==="img"?n._setImage(a.img):pi[u]&&o.setAttribute(pi[u],s)})},i.prototype.setAttr=function(t,e){this.attrs[t]=e,t==="img"&&this._setImage(e)},i.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,l.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,l.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},i}(dn),Ry=Dy,Ny=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},i.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,l.each)(e||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var u=(0,l.isObject)(o)?t.addArrow(n,pi[s]):t.getDefaultArrow(n,pi[s]);a.setAttribute(pi[s],"url(#"+u+")")}else a.removeAttribute(pi[s]);else pi[s]&&a.setAttribute(pi[s],o)})},i.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Wn.default.length(e,n,a,o)},i.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Wn.default.pointAt(n,a,o,s,t)},i}(dn),Gy=Ny,Fo={circle:function(r,i,t){return[["M",r,i],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(r,i,t){return[["M",r-t,i-t],["L",r+t,i-t],["L",r+t,i+t],["L",r-t,i+t],["Z"]]},diamond:function(r,i,t){return[["M",r-t,i],["L",r,i-t],["L",r+t,i],["L",r,i+t],["Z"]]},triangle:function(r,i,t){var e=t*Math.sin(1/3*Math.PI);return[["M",r-t,i+e],["L",r,i-e],["L",r+t,i+e],["z"]]},triangleDown:function(r,i,t){var e=t*Math.sin(1/3*Math.PI);return[["M",r-t,i-e],["L",r+t,i-e],["L",r,i+e],["Z"]]}},$u={get:function(r){return Fo[r]},register:function(r,i){Fo[r]=i},remove:function(r){delete Fo[r]},getAll:function(){return Fo}},Yy=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return i.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},i.prototype._assembleMarker=function(){var t=this._getPath();return(0,l.isArray)(t)?t.map(function(e){return e.join(" ")}).join(""):t},i.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,l.isFunction)(o)?s=o:s=$u.get(o),s?s(e,n,a):(console.warn(s+" symbol is not exist."),null)},i.symbolsFactory=$u,i}(dn),Xy=Yy,jy=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{startArrow:!1,endArrow:!1})},i.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,l.each)(e||a,function(s,u){if(u==="path"&&(0,l.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(u==="startArrow"||u==="endArrow")if(s){var c=(0,l.isObject)(s)?t.addArrow(a,pi[u]):t.getDefaultArrow(a,pi[u]);o.setAttribute(pi[u],"url(#"+c+")")}else o.removeAttribute(pi[u]);else pi[u]&&o.setAttribute(pi[u],s)})},i.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},i.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},i.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},i}(dn),Hy=jy,Vy=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return i.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,l.each)(e||n,function(o,s){s==="points"&&(0,l.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):pi[s]&&a.setAttribute(pi[s],o)})},i}(dn),zy=Vy,Wy=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{startArrow:!1,endArrow:!1})},i.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),["points"].indexOf(t)!==-1&&this._resetCache()},i.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},i.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,l.each)(e||n,function(o,s){s==="points"&&(0,l.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):pi[s]&&a.setAttribute(pi[s],o)})},i.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,l.isNil)(e)?(this.set("totalLength",Nu.Z.length(t)),this.get("totalLength")):e},i.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,l.each)(n,function(s,u){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=u)}),Wn.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},i.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,l.each)(t,function(u,c){t[c+1]&&(o=[],o[0]=n/e,s=Wn.default.length(u[0],u[1],t[c+1][0],t[c+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},i.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},i.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},i}(dn),Zy=Wy,Uy=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,$y=/[^\s\,]+/gi;function Ky(r){var i=0,t=0,e=0,n=0;return(0,l.isArray)(r)?r.length===1?i=t=e=n=r[0]:r.length===2?(i=e=r[0],t=n=r[1]):r.length===3?(i=r[0],t=n=r[1],e=r[2]):(i=r[0],t=r[1],e=r[2],n=r[3]):i=t=e=n=r,{r1:i,r2:t,r3:e,r4:n}}function oI(r){if(r=r||[],isArray(r))return r;if(isString(r))return r=r.match(Uy),each(r,function(i,t){if(i=i.match($y),i[0].length>1){var e=i[0].charAt(0);i.splice(1,0,i[0].substr(1)),i[0]=e}each(i,function(n,a){isNaN(n)||(i[a]=+n)}),r[t]=i}),r}var Qy=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},i.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el"),s=!1,u=["x","y","width","height","radius"];(0,l.each)(e||a,function(c,h){u.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):u.indexOf(h)===-1&&pi[h]&&o.setAttribute(pi[h],c)})},i.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var u=Ky(s);(0,l.isArray)(s)?s.length===1?u.r1=u.r2=u.r3=u.r4=s[0]:s.length===2?(u.r1=u.r3=s[0],u.r2=u.r4=s[1]):s.length===3?(u.r1=s[0],u.r2=u.r4=s[1],u.r3=s[2]):(u.r1=s[0],u.r2=s[1],u.r3=s[2],u.r4=s[3]):u.r1=u.r2=u.r3=u.r4=s;var c=[["M "+(e+u.r1)+","+n],["l "+(a-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(o-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-a)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-o)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]];return c.join(" ")},i}(dn),qy=Qy,Jy=S(82701),Ku=.3,tm={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},em={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},im={left:"left",start:"left",center:"middle",right:"end",end:"end"},rm=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return i.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return(0,x.__assign)((0,x.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},i.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,l.each)(e||a,function(s,u){u==="text"?n._setText(""+s):u==="matrix"&&s?oo(n):pi[u]&&o.setAttribute(pi[u],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},i.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,o=(0,Jy.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",em[n]||"alphabetic"):t.setAttribute("alignment-baseline",tm[n]||"baseline"),t.setAttribute("text-anchor",im[a]||"left")},i.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)e.innerHTML="";else if(~t.indexOf(`
`)){var u=t.split(`
`),c=u.length-1,h="";(0,l.each)(u,function(f,p){p===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-c+'em">'+f+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+f+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(c-1)/2+'em">'+f+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(c+Ku)+'em">'+f+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(c-1)-Ku)+'em">'+f+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+f+"</tspan>"}),e.innerHTML=h}else e.innerHTML=t},i}(dn),nm=rm,am=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,om=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,sm=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Qu(r){var i=r.match(sm);if(!i)return"";var t="";return i.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,l.each)(i,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}function lm(r,i){var t=am.exec(r),e=(0,l.mod)((0,l.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),u=s*s,c=(o.x-a.x+s*(o.y-a.y))/(u+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(u+1)+a.y;i.setAttribute("x1",a.x),i.setAttribute("y1",a.y),i.setAttribute("x2",c),i.setAttribute("y2",h),i.innerHTML=Qu(n)}function um(r,i){var t=om.exec(r),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];i.setAttribute("cx",e),i.setAttribute("cy",n),i.setAttribute("r",a),i.innerHTML=Qu(o)}var cm=function(){function r(i){this.cfg={};var t=null,e=(0,l.uniqueId)("gradient_");return i.toLowerCase()[0]==="l"?(t=pn("linearGradient"),lm(i,t)):(t=pn("radialGradient"),um(i,t)),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=i,this}return r.prototype.match=function(i,t){return this.cfg===t},r}(),hm=cm,fm={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},vm={x:"-40%",y:"-40%",width:"200%",height:"200%"},pm=function(){function r(i){this.type="filter",this.cfg={},this.type="filter";var t=pn("filter");return(0,l.each)(vm,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,l.uniqueId)("filter_"),this.el.id=this.id,this.cfg=i,this._parseShadow(i,t),this}return r.prototype.match=function(i,t){if(this.type!==i)return!1;var e=!0,n=this.cfg;return(0,l.each)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},r.prototype.update=function(i,t){var e=this.cfg;return e[fm[i]]=t,this._parseShadow(e,this.el),this},r.prototype._parseShadow=function(i,t){var e=`<feDropShadow
      dx="`+(i.dx||0)+`"
      dy="`+(i.dy||0)+`"
      stdDeviation="`+(i.blur?i.blur/10:0)+`"
      flood-color="`+(i.color?i.color:"#000")+`"
      flood-opacity="`+(i.opacity?i.opacity:1)+`"
      />`;t.innerHTML=e},r}(),dm=pm,gm=function(){function r(i,t){this.cfg={};var e=pn("marker"),n=(0,l.uniqueId)("marker_");e.setAttribute("id",n);var a=pn("path");a.setAttribute("stroke",i.stroke||"none"),a.setAttribute("fill",i.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var o=i[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=i.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(i.lineWidth,a)),this}return r.prototype.match=function(){return!1},r.prototype._setDefaultPath=function(i,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY",""+5)},r.prototype._setMarker=function(i,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,l.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/i)},r.prototype.update=function(i){var t=this.child;t.attr?t.attr("fill",i):t.setAttribute("fill",i)},r}(),qu=gm,ym=function(){function r(i){this.type="clip",this.cfg={};var t=pn("clipPath");this.el=t,this.id=(0,l.uniqueId)("clip_"),t.id=this.id;var e=i.cfg.el;return t.appendChild(e),this.cfg=i,this}return r.prototype.match=function(){return!1},r.prototype.remove=function(){var i=this.el;i.parentNode.removeChild(i)},r}(),mm=ym,xm=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,bm=function(){function r(i){this.cfg={};var t=pn("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=pn("image");t.appendChild(e);var n=(0,l.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=i;var a=xm.exec(i),o=a[2];e.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function u(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?u():(s.onload=u,s.src=s.src),this}return r.prototype.match=function(i,t){return this.cfg===t},r}(),wm=bm,Cm=function(){function r(i){var t=pn("defs"),e=(0,l.uniqueId)("defs_");t.id=e,i.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=i}return r.prototype.find=function(i,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(i,t)){n=e[a].id;break}return n},r.prototype.findById=function(i){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===i){e=t[n];break}return e},r.prototype.add=function(i){this.children.push(i),i.canvas=this.canvas,i.parent=this},r.prototype.getDefaultArrow=function(i,t){var e=i.stroke||i.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new qu(i,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},r.prototype.addGradient=function(i){var t=new hm(i);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addArrow=function(i,t){var e=new qu(i,t);return this.el.appendChild(e.el),this.add(e),e.id},r.prototype.addShadow=function(i){var t=new dm(i);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addPattern=function(i){var t=new wm(i);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addClip=function(i){var t=new mm(i);return this.el.appendChild(t.el),this.add(t),t.id},r}(),Sm=Cm,Mm=function(r){(0,x.__extends)(i,r);function i(t){return r.call(this,(0,x.__assign)((0,x.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return i.prototype.getShapeBase=function(){return Q},i.prototype.getGroupBase=function(){return Zs},i.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!Ws[a.tagName]){for(var o=a.parentNode;o&&!Ws[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},i.prototype.createDom=function(){var t=pn("svg"),e=new Sm(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},i.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Wu(this,function(s,u){return a.indexOf(s)-a.indexOf(u)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?oo(this):t==="clip"?so(this,e):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},i.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();so(this,t),e.length&&Zu(t,e)},i}(dt.AbstractCanvas),Ju=Mm,Am=S(23231),_m=Am.version;function Us(r){return r?!1:r==null||isNaN(r)}function tc(r){if((0,l.isArray)(r))return Us(r[1].y);var i=r.y;return(0,l.isArray)(i)?Us(i[0]):Us(i)}function $s(r,i,t){if(i===void 0&&(i=!1),t===void 0&&(t=!0),!r.length||r.length===1&&!t)return[];if(i){for(var e=[],n=0,a=r.length;n<a;n++){var o=r[n];tc(o)||e.push(o)}return[e]}for(var s=[],u=[],n=0,a=r.length;n<a;n++){var o=r[n];tc(o)?u.length&&(u.length===1&&!t||s.push(u),u=[]):u.push(o)}return u.length&&s.push(u),s}function fr(r,i,t,e){e===void 0&&(e="");var n=r.style,a=n===void 0?{}:n,o=r.defaultStyle,s=r.color,u=r.size,c=(0,x.__assign)((0,x.__assign)({},o),a);return s&&(i&&(a.stroke||(c.stroke=s)),t&&(a.fill||(c.fill=s))),e&&(0,l.isNil)(a[e])&&!(0,l.isNil)(u)&&(c[e]=u),c}function Ks(r){var i=r.x,t=(0,l.isArray)(r.y)?r.y:[r.y];return t.map(function(e,n){return{x:(0,l.isArray)(i)?i[n]:i,y:e}})}var Tm={line:function(r,i,t){return[["M",r-t,i],["L",r+t,i]]},dot:function(r,i,t){return[["M",r-t,i],["L",r+t,i]]},dash:function(r,i,t){return[["M",r-t,i],["L",r+t,i]]},smooth:function(r,i,t){return[["M",r-t,i],["A",t/2,t/2,0,1,1,r,i],["A",t/2,t/2,0,1,0,r+t,i]]},hv:function(r,i,t){return[["M",r-t-1,i-2.5],["L",r,i-2.5],["L",r,i+2.5],["L",r+t+1,i+2.5]]},vh:function(r,i,t){return[["M",r-t-1,i+2.5],["L",r,i+2.5],["L",r,i-2.5],["L",r+t+1,i-2.5]]},hvh:function(r,i,t){return[["M",r-(t+1),i+2.5],["L",r-t/2,i+2.5],["L",r-t/2,i-2.5],["L",r+t/2,i-2.5],["L",r+t/2,i+2.5],["L",r+t+1,i+2.5]]},vhv:function(r,i){return[["M",r-5,i+2.5],["L",r-5,i],["L",r,i],["L",r,i-3],["L",r,i+3],["L",r+6.5,i+3]]}};function ec(r,i){var t=r.color;return{symbol:Tm[i],style:{lineWidth:2,r:6,stroke:t}}}function Lm(r,i,t){for(var e=r.isStack,n=r.connectNulls,a=r.isInCircle,o=r.showSinglePoint,s=fr(r,!0,!1,"lineWidth"),u=$s(r.points,n,o),c=[],h=0,f=u.length;h<f;h++){var p=u[h];c=c.concat(Pm(p,a,e,i,t,s))}return s.path=c,s}function Qs(r,i,t,e,n){if(r.length===1)return[["M",r[0].x,r[0].y-n.lineWidth/2],["L",r[0].x,r[0].y],["L",r[0].x,r[0].y+n.lineWidth/2]];var a;return t?(i&&r.length&&r.push({x:r[0].x,y:r[0].y}),a=nn(r,!1,e)):(a=wr(r,!1),i&&a.push(["Z"])),a}function Em(r,i,t,e,n,a){var o=[],s=[];(0,l.each)(r,function(h){var f=Ks(h);o.push(f[1]),s.push(f[0])});var u=Qs(o,i,e,n,a),c=Qs(s,i,e,n,a);return t?u:u.concat(c)}function Pm(r,i,t,e,n,a){if(r.length){var o=r[0];return(0,l.isArray)(o.y)?Em(r,i,t,e,n,a):Qs(r,i,e,n,a)}return[]}var sI=_a("line",{defaultShapeType:"line"});(0,l.each)(["line","dot","dash","smooth"],function(r){vi("line",r,{draw:function(i,t){var e=r==="smooth",n;if(e){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var u=Lm(i,e,n),c=t.addShape({type:"path",attrs:u,name:"line"});return c},getMarker:function(i){return ec(i,r)}})});var lI=null,Om=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return e.connectNulls=a,e.showSinglePoint=s,e}return i.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,u=a.elements,c=a.container,h=this.getElementId(t),f=this.getShapeInfo(t),p=o[h];if(p){var _=p.getModel();(this.isCoordinateChanged||gu(_,f))&&(p.animate=this.animateOption,p.update(f)),delete o[h]}else{var g=this.getShapeFactory();p=new fu({shapeFactory:g,container:c,offscreenGroup:this.getOffscreenGroup()}),p.geometry=this,p.animate=this.animateOption,p.draw(f,n)}return u.push(p),s[h]=p,u},i.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),n.push(s[Gt])}return{points:e,data:n}},i.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},i}(sa),qs=Om;function Im(r,i,t,e,n){var a=[];if(r.length){for(var o=[],s=[],u=0,c=r.length;u<c;u++){var h=r[u];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,l.each)([o,s],function(f,p){var g=[],_=e.parsePoints(f),H=_[0];o.length===1&&s.length===1?g=p===0?[["M",H.x-.5,H.y],["L",H.x+.5,H.y]]:[["L",H.x+.5,H.y],["L",H.x-.5,H.y]]:(i&&_.push({x:H.x,y:H.y}),t?g=nn(_,!1,n):g=wr(_,!1),p>0&&(g[0][0]="L")),a=a.concat(g)}),a.push(["Z"])}return a}function Do(r,i,t,e,n){for(var a=fr(r,i,!i,"lineWidth"),o=r.connectNulls,s=r.isInCircle,u=r.points,c=r.showSinglePoint,h=$s(u,o,c),f=[],p=0,g=h.length;p<g;p++){var _=h[p];f=f.concat(Im(_,s,t,e,n))}return a.path=f,a}function ic(r){var i=r.start,t=r.end;return[[i.x,t.y],[t.x,i.y]]}var uI=_a("area",{defaultShapeType:"area",getDefaultPoints:function(r){var i=r.x,t=r.y0,e=(0,l.isArray)(r.y)?r.y:[t,r.y];return e.map(function(n){return{x:i,y:n}})}});vi("area","area",{draw:function(r,i){var t=Do(r,!1,!1,this),e=i.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(r){var i=r.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:i}}}});var cI=null,Bm=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,u=t.showSinglePoint,c=u===void 0?!1:u;return e.startOnZero=a,e.sortable=s,e.showSinglePoint=c,e}return i.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),n.push(s[Gt])}return{points:e,data:n}},i.prototype.getYMinValue=function(){if(this.startOnZero)return r.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},i}(qs),km=Bm,hI=_a("edge",{defaultShapeType:"line",getDefaultPoints:function(r){return Ks(r)}});vi("edge","line",{draw:function(r,i){var t=fr(r,!0,!1,"lineWidth"),e=wr(this.parsePoints(r.points),this.coordinate.isPolar);return i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:e})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});var fI=null,Fm=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return i}(sa),Dm=Fm,Rm=S(55223),Nm=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return i.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,l.get)(this.styleOption,["style","shadowBlur"]);return(0,l.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},i.prototype.clear=function(){r.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},i.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var u=s[Gt][n];u>o&&(o=u),u<a&&(a=u)}),a===o&&(a=o-1),[a,o]},i.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,l.isNumber)(t)||(t=this.getDefaultSize()),t},i.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},i.prototype.drawWithRange=function(t,e,n,a){var o=this.coordinate,s=o.start,u=o.end,c=this.coordinate.getWidth(),h=this.coordinate.getHeight(),f=this.getAttribute("color"),p=f.getFields()[0];this.clearShadowCanvasCtx();var g=this.getShadowCanvasCtx();e&&(t=t.filter(function(Re){return Re[Gt][p]<=e[1]&&Re[Gt][p]>=e[0]}));for(var _=this.scales[p],H=0,lt=t;H<lt.length;H++){var pt=lt[H],wt=this.getDrawCfg(pt),Ft=wt.x,Dt=wt.y,te=_.scale(pt[Gt][p]);this.drawGrayScaleBlurredCircle(Ft-s.x,Dt-u.y,n+a,te,g)}var ye=g.getImageData(0,0,c,h);this.clearShadowCanvasCtx(),this.colorize(ye),g.putImageData(ye,0,0);var Oe=this.getImageShape();Oe.attr("x",s.x),Oe.attr("y",u.y),Oe.attr("width",c),Oe.attr("height",h),Oe.attr("img",g.canvas),Oe.set("origin",this.getShapeInfo(t))},i.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},i.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},i.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},i.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},i.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,e-n)},i.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,l.isNumber)(s)){var u=a[s]?a[s]:Rm.default.rgb2arr(e.gradient(s/256));n[o-3]=u[0],n[o-2]=u[1],n[o-1]=u[2],n[o]=s}}},i.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},i.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,x.__assign)((0,x.__assign)({},e),{mappingData:t,data:this.getData(t)})},i.prototype.getData=function(t){return t.map(function(e){return e[Gt]})},i}(sa),Gm=Nm;function Js(r,i){i===void 0&&(i=!1);var t=r.x,e=r.y,n=r.y0,a=r.size,o,s;(0,l.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var u,c;(0,l.isArray)(t)?(u=t[0],c=t[1]):(u=t-a/2,c=t+a/2);var h=[{x:u,y:o},{x:u,y:s}];return i?h.push({x:c,y:(s+o)/2}):h.push({x:c,y:s},{x:c,y:o}),h}function tl(r,i){i===void 0&&(i=!0);var t=[],e=r[0];t.push(["M",e.x,e.y]);for(var n=1,a=r.length;n<a;n++)t.push(["L",r[n].x,r[n].y]);return i&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function rc(r,i,t){var e=[];return(0,l.isNil)(i)?t?e.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[2].x,r[2].y],["Z"]):e.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[3].x,r[3].y],["Z"]):e.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",i[1].x,i[1].y],["L",i[0].x,i[0].y],["Z"]),e}var vI=_a("interval",{defaultShapeType:"rect",getDefaultPoints:function(r){return Js(r)}});vi("interval","rect",{draw:function(r,i){var t=fr(r,!1,!0),e=this.parsePath(tl(r.points)),n=i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(r){var i=r.color,t=r.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:i}}:{symbol:"square",style:{r:4,fill:i}}}});var pI=null;function Ym(r,i){var t=r.length,e=r;(0,l.isString)(e[0])&&(e=r.map(function(s){return i.translate(s)}));for(var n=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];n>o&&(n=o)}return n}function Xm(r,i){if(i){var t=(0,l.flatten)(r),e=(0,l.valuesOfKey)(t,i);return e.length}return r.length}function nc(r){var i=r.theme,t=r.coordinate,e=r.getXScale(),n=e.values,a=r.beforeMappingData,o=n.length;if(e.isLinear&&n.length>1){n.sort();var s=Ym(n,e);o=(e.max-e.min)/s,n.length>o&&(o=n.length)}var u=e.range,c=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=i.multiplePieWidthRatio:h=i.roseWidthRatio:(e.isLinear&&(c*=u[1]-u[0]),h=i.columnWidthRatio),c*=h,r.getAdjust("dodge")){var f=r.getAdjust("dodge"),p=f.dodgeBy,g=Xm(a,p);c=c/g}var _=i.maxColumnWidth,H=i.minColumnWidth,lt=Ri(r.coordinate);if(_){var pt=_/lt;c>pt&&(c=pt)}if(H){var wt=H/lt;c<wt&&(c=wt)}return c}var jm=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return i.prototype.createShapePointsCfg=function(t){var e=r.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Ri(o);n=n/s}else this.defaultSize||(this.defaultSize=nc(this)),n=this.defaultSize;return e.size=n,e},i.prototype.adjustScale=function(){r.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,l.get)(e,[n,"min"])&&t.change({min:0}),o<=0&&!(0,l.get)(e,[n,"max"])&&t.change({max:0}))}},i}(sa),Hm=jm,Vm=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this,t)||this;e.type="line";var n=t.sortable,a=n===void 0?!0:n;return e.sortable=a,e}return i}(qs),zm=Vm,Pa={hexagon:function(r,i,t){var e=t/2*Math.sqrt(3);return[["M",r,i-t],["L",r+e,i-t/2],["L",r+e,i+t/2],["L",r,i+t],["L",r-e,i+t/2],["L",r-e,i-t/2],["Z"]]},bowtie:function(r,i,t){var e=t-1.5;return[["M",r-t,i-e],["L",r+t,i+e],["L",r+t,i-e],["L",r-t,i+e],["Z"]]},cross:function(r,i,t){return[["M",r-t,i-t],["L",r+t,i+t],["M",r+t,i-t],["L",r-t,i+t]]},tick:function(r,i,t){return[["M",r-t/2,i-t],["L",r+t/2,i-t],["M",r,i-t],["L",r,i+t],["M",r-t/2,i+t],["L",r+t/2,i+t]]},plus:function(r,i,t){return[["M",r-t,i],["L",r+t,i],["M",r,i-t],["L",r,i+t]]},hyphen:function(r,i,t){return[["M",r-t,i],["L",r+t,i]]},line:function(r,i,t){return[["M",r,i-t],["L",r,i+t]]}},ac=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],Wm=["cross","tick","plus","hyphen","line"];function el(r,i,t,e,n){var a=fr(i,n,!n,"r"),o=r.parsePoints(i.points),s=o[0];if(i.isStack)s=o[1];else if(o.length>1){for(var u=t.addGroup(),c=0,h=o;c<h.length;c++){var f=h[c];u.addShape({type:"marker",attrs:(0,x.__assign)((0,x.__assign)((0,x.__assign)({},a),{symbol:Pa[e]||e}),f)})}return u}return t.addShape({type:"marker",attrs:(0,x.__assign)((0,x.__assign)((0,x.__assign)({},a),{symbol:Pa[e]||e}),s)})}var dI=_a("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(r){return Ks(r)}});(0,l.each)(ac,function(r){vi("point","hollow-"+r,{draw:function(i,t){return el(this,i,t,r,!0)},getMarker:function(i){var t=i.color;return{symbol:Pa[r]||r,style:{r:4.5,stroke:t,fill:null}}}})});var gI=null,Zm=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return i.prototype.getDrawCfg=function(t){var e=r.prototype.getDrawCfg.call(this,t);return(0,x.__assign)((0,x.__assign)({},e),{isStack:!!this.getAdjust("stack")})},i}(sa),Um=Zm;function $m(r){for(var i=r[0],t=1,e=[["M",i.x,i.y]];t<r.length;){var n=r[t];(n.x!==r[t-1].x||n.y!==r[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===i.x&&n.y===i.y&&t<r.length-1&&(i=r[t+1],e.push(["Z"]),e.push(["M",i.x,i.y]),t++)),t++}return(0,l.isEqual)((0,l.last)(e),i)||e.push(["L",i.x,i.y]),e.push(["Z"]),e}var yI=_a("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(r){var i=[];return(0,l.each)(r.x,function(t,e){var n=r.y[e];i.push({x:t,y:n})}),i}});vi("polygon","polygon",{draw:function(r,i){if(!(0,l.isEmpty)(r.points)){var t=fr(r,!0,!0),e=this.parsePath($m(r.points));return i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:e}),name:"polygon"})}},getMarker:function(r){var i=r.color;return{symbol:"square",style:{r:4,fill:i}}}});var mI=null,Km=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return i.prototype.createShapePointsCfg=function(t){var e=r.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y,o;if(!((0,l.isArray)(n)&&(0,l.isArray)(a))){var s=this.getXScale(),u=this.getYScale(),c=s.values.length,h=u.values.length,f=.5*1/c,p=.5*1/h;s.isCategory&&u.isCategory?(n=[n-f,n-f,n+f,n+f],a=[a-p,a+p,a+p,a-p]):(0,l.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-p/2,a+p/2,a+p/2,a-p/2]):(0,l.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-f/2,n-f/2,n+f/2,n+f/2]),e.x=n,e.y=a}return e},i}(sa),Qm=Km,xI=_a("schema",{defaultShapeType:""}),bI=null,qm=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return i.prototype.createShapePointsCfg=function(t){var e=r.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Ri(o);n=n/s}else this.defaultSize||(this.defaultSize=nc(this)),n=this.defaultSize;return e.size=n,e},i}(sa),Jm=qm;vi("area","line",{draw:function(r,i){var t=Do(r,!0,!1,this),e=i.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(r){var i=r.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:i,fill:null}}}}),vi("area","smooth",{draw:function(r,i){var t=this.coordinate,e=Do(r,!1,!0,this,ic(t)),n=i.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(r){var i=r.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:i}}}}),vi("area","smooth-line",{draw:function(r,i){var t=this.coordinate,e=Do(r,!0,!0,this,ic(t)),n=i.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(r){var i=r.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:i,fill:null}}}});function il(r,i){var t=[];t.push({x:r.x,y:r.y*1/2+i.y*1/2}),t.push({x:i.x,y:r.y*1/2+i.y*1/2}),t.push(i);var e=["C"];return(0,l.each)(t,function(n){e.push(n.x,n.y)}),e}function rl(r,i){var t=[];t.push({x:i.x,y:i.y}),t.push(r);var e=["Q"];return(0,l.each)(t,function(n){e.push(n.x,n.y)}),e}function t0(r,i,t){var e=rl(i,t),n=[["M",r.x,r.y]];return n.push(e),n}function e0(r,i){var t=rl(r[1],i),e=rl(r[3],i),n=[["M",r[0].x,r[0].y]];return n.push(e),n.push(["L",r[3].x,r[3].y]),n.push(["L",r[2].x,r[2].y]),n.push(t),n.push(["L",r[1].x,r[1].y]),n.push(["L",r[0].x,r[0].y]),n.push(["Z"]),n}vi("edge","arc",{draw:function(r,i){var t=fr(r,!0,!1,"lineWidth"),e=r.points,n=e.length>2?"weight":"normal",a;if(r.isInCircle){var o={x:0,y:1};return n==="normal"?a=t0(e[0],e[1],o):(t.fill=t.stroke,a=e0(e,o)),a=this.parsePath(a),i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:a})})}else{if(n==="normal")return e=this.parsePoints(e),a=Ye((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:a})});var s=il(e[1],e[3]),u=il(e[2],e[0]);return a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],u,["Z"]],a=this.parsePath(a),t.fill=t.stroke,i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:a})})}},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});function i0(r,i){var t=il(r,i),e=[["M",r.x,r.y]];return e.push(t),e}vi("edge","smooth",{draw:function(r,i){var t=fr(r,!0,!1,"lineWidth"),e=r.points,n=this.parsePath(i0(e[0],e[1]));return i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:n})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});var Ro=1/3;function r0(r,i){var t=[];t.push({x:r.x,y:r.y*(1-Ro)+i.y*Ro}),t.push({x:i.x,y:r.y*(1-Ro)+i.y*Ro}),t.push(i);var e=[["M",r.x,r.y]];return(0,l.each)(t,function(n){e.push(["L",n.x,n.y])}),e}vi("edge","vhv",{draw:function(r,i){var t=fr(r,!0,!1,"lineWidth"),e=r.points,n=this.parsePath(r0(e[0],e[1]));return i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:n})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}}),vi("interval","funnel",{getPoints:function(r){return r.size=r.size*2,Js(r)},draw:function(r,i){var t=fr(r,!1,!0),e=this.parsePath(rc(r.points,r.nextPoints,!1)),n=i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(r){var i=r.color;return{symbol:"square",style:{r:4,fill:i}}}}),vi("interval","hollow-rect",{draw:function(r,i){var t=fr(r,!0,!1),e=this.parsePath(tl(r.points)),n=i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(r){var i=r.color,t=r.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:i,fill:null}}:{symbol:"square",style:{r:4,stroke:i,fill:null}}}});function n0(r){var i=r.x,t=r.y,e=r.y0;return(0,l.isArray)(t)?t.map(function(n,a){return{x:(0,l.isArray)(i)?i[a]:i,y:n}}):[{x:i,y:e},{x:i,y:t}]}vi("interval","line",{getPoints:function(r){return n0(r)},draw:function(r,i){var t=fr(r,!0,!1,"lineWidth"),e=this.parsePath(tl(r.points,!1)),n=i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(r){var i=r.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:i}}}}),vi("interval","pyramid",{getPoints:function(r){return r.size=r.size*2,Js(r,!0)},draw:function(r,i){var t=fr(r,!1,!0),e=this.parsePath(rc(r.points,r.nextPoints,!0)),n=i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(r){var i=r.color;return{symbol:"square",style:{r:4,fill:i}}}});function a0(r){var i=r.x,t=r.y,e=r.y0,n=r.size,a,o;(0,l.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=i+n/2,u=i-n/2;return[{x:i,y:a},{x:i,y:o},{x:u,y:a},{x:s,y:a},{x:u,y:o},{x:s,y:o}]}function o0(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y]]}vi("interval","tick",{getPoints:function(r){return a0(r)},draw:function(r,i){var t=fr(r,!0,!1),e=this.parsePath(o0(r.points)),n=i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(r){var i=r.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:i}}}});var s0=function(r,i,t){var e=r.x,n=r.y,a=i.x,o=i.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var u=(a+e)/2;s=[{x:u,y:n},{x:u,y:o}];break;case"vhv":var c=(n+o)/2;s=[{x:e,y:c},{x:a,y:c}];break;default:break}return s};function l0(r,i){var t=[];return(0,l.each)(r,function(e,n){var a=r[n+1];if(t.push(e),a){var o=s0(e,a,i);t=t.concat(o)}}),t}function u0(r){return r.map(function(i,t){return t===0?["M",i.x,i.y]:["L",i.x,i.y]})}function c0(r,i){var t=$s(r.points,r.connectNulls,r.showSinglePoint),e=[];return(0,l.each)(t,function(n){var a=l0(n,i);e=e.concat(u0(a))}),(0,x.__assign)((0,x.__assign)({},fr(r,!0,!1,"lineWidth")),{path:e})}(0,l.each)(["hv","vh","hvh","vhv"],function(r){vi("line",r,{draw:function(i,t){var e=c0(i,r),n=t.addShape({type:"path",attrs:e,name:"line"});return n},getMarker:function(i){return ec(i,r)}})}),(0,l.each)(Wm,function(r){vi("point",r,{draw:function(i,t){return el(this,i,t,r,!0)},getMarker:function(i){var t=i.color;return{symbol:Pa[r],style:{r:4.5,stroke:t,fill:null}}}})}),vi("point","image",{draw:function(r,i){var t=fr(r,!1,!1,"r").r,e=this.parsePoints(r.points),n=e[0];if(r.isStack)n=e[1];else if(e.length>1){for(var a=i.addGroup(),o=0,s=e;o<s.length;o++){var u=s[o];a.addShape("image",{attrs:{x:u.x-t/2,y:u.y-t,width:t,height:t,img:r.shape[1]}})}return a}return i.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:r.shape[1]}})},getMarker:function(r){var i=r.color;return{symbol:"circle",style:{r:4.5,fill:i}}}}),(0,l.each)(ac,function(r){vi("point",r,{draw:function(i,t){return el(this,i,t,r,!1)},getMarker:function(i){var t=i.color;return{symbol:Pa[r]||r,style:{r:4.5,fill:t}}}})});function oc(r){var i=(0,l.isArray)(r)?r:[r],t=i[0],e=i[i.length-1],n=i.length>1?i[1]:t,a=i.length>3?i[3]:e,o=i.length>2?i[2]:n;return{min:t,max:e,min1:n,max1:a,median:o}}function sc(r,i,t){var e=t/2,n;if((0,l.isArray)(i)){var a=oc(i),o=a.min,s=a.max,u=a.median,c=a.min1,h=a.max1,f=r-e,p=r+e;n=[[f,s],[p,s],[r,s],[r,h],[f,c],[f,h],[p,h],[p,c],[r,c],[r,o],[f,o],[p,o],[f,u],[p,u]]}else{i=(0,l.isNil)(i)?.5:i;var g=oc(r),o=g.min,s=g.max,u=g.median,c=g.min1,h=g.max1,_=i-e,H=i+e;n=[[o,_],[o,H],[o,i],[c,i],[c,_],[c,H],[h,H],[h,_],[h,i],[s,i],[s,_],[s,H],[u,_],[u,H]]}return n.map(function(lt){return{x:lt[0],y:lt[1]}})}function h0(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x,r[10].y],["L",r[11].x,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]}vi("schema","box",{getPoints:function(r){var i=r.x,t=r.y,e=r.size;return sc(i,t,e)},draw:function(r,i){var t=fr(r,!0,!1),e=this.parsePath(h0(r.points)),n=i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(r){var i=r.color;return{symbol:function(t,e,n){var a=[e-6,e-3,e,e+3,e+6],o=sc(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:i}}}});function f0(r){var i=(0,l.isArray)(r)?r:[r],t=i.sort(function(e,n){return n-e});return Ii(t,4,t[t.length-1])}function lc(r,i,t){var e=f0(i);return[{x:r,y:e[0]},{x:r,y:e[1]},{x:r-t/2,y:e[2]},{x:r-t/2,y:e[1]},{x:r+t/2,y:e[1]},{x:r+t/2,y:e[2]},{x:r,y:e[2]},{x:r,y:e[3]}]}function v0(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]}vi("schema","candle",{getPoints:function(r){var i=r.x,t=r.y,e=r.size;return lc(i,t,e)},draw:function(r,i){var t=fr(r,!0,!0),e=this.parsePath(v0(r.points)),n=i.addShape("path",{attrs:(0,x.__assign)((0,x.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(r){var i=r.color;return{symbol:function(t,e,n){var a=[e+7.5,e+3,e-3,e-7.5],o=lc(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:i,fill:i,r:6}}}});function p0(r,i){var t=Math.abs(r[0].x-r[2].x),e=Math.abs(r[0].y-r[2].y),n=Math.min(t,e);i&&(n=(0,l.clamp)(i,0,Math.min(t,e))),n=n/2;var a=(r[0].x+r[2].x)/2,o=(r[0].y+r[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}vi("polygon","square",{draw:function(r,i){if(!(0,l.isEmpty)(r.points)){var t=fr(r,!0,!0),e=this.parsePoints(r.points);return i.addShape("rect",{attrs:(0,x.__assign)((0,x.__assign)({},t),p0(e,r.size)),name:"polygon"})}},getMarker:function(r){var i=r.color;return{symbol:"square",style:{r:4,fill:i}}}});var d0=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.setLabelPosition=function(t,e,n,a){var o=this.getCoordinate(),s=o.isTransposed,u=e.points,c=o.convert(u[0]),h=o.convert(u[2]),f=s?-1:1,p=(c.x-h.x)/2*f,g=(c.y-h.y)/2*f;switch(a){case"right":s||(t.x-=p,t.y+=g),t.textAlign=(0,l.get)(t,"textAlign","left");break;case"left":s?t.x-=p*2:(t.x+=p,t.y+=g),t.textAlign=(0,l.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=p,t.y-=g):t.y+=g*2,t.textAlign=(0,l.get)(t,"textAlign","center"),t.textBaseline=(0,l.get)(t,"textBaseline","top");break;case"middle":s?t.x-=p:t.y+=g,t.textAlign=(0,l.get)(t,"textAlign","center");break;case"top":s&&(t.x-=p,t.y+=g),t.textAlign=(0,l.get)(t,"textAlign","center"),t.textBaseline=(0,l.get)(t,"textBaseline","bottom");break;default:break}},i}(ks),g0=d0,No=Math.PI/2,y0=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},i.prototype.getLabelPoint=function(t,e,n){var a=1,o,s=t.content[n];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(e,n));var u=this.getDefaultOffset(t.offset)*a,c=this.getPointAngle(o),h=t.labelEmit,f=this.getCirclePoint(c,u,o,h);return f.r===0?f.content="":(f.content=s,f.angle=c,f.color=e.color),f.rotate=t.autoRotate?this.getLabelRotate(c,u,h):t.rotate,f.start={x:o.x,y:o.y},f},i.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,l.isArray)(t.x)&&!(0,l.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,l.isArray)(t.x)?t.x[e]:t.x,y:(0,l.isArray)(t.y)?t.y[e]:t.y}},i.prototype.getPointAngle=function(t){return qi(this.getCoordinate(),t)},i.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),u=hi(o,n);if(u===0)return(0,x.__assign)((0,x.__assign)({},s),{r:u});var c=t;if(o.isTransposed&&u>e&&!a){var h=Math.asin(e/(2*u));c=t+h*2}else u=u+e;return{x:s.x+u*Math.cos(c),y:s.y+u*Math.sin(c),r:u}},i.prototype.getLabelRotate=function(t,e,n){var a=t+No;return n&&(a-=No),a&&(a>No?a=a-Math.PI:a<-No&&(a=a+Math.PI)),a},i.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,l.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=e.convert(a),a},i.prototype.isToMiddle=function(t){return t.x.length>2},i}(ks),uc=y0,m0=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this,t)||this;return e.defaultLayout="distribute",e}return i.prototype.getDefaultLabelCfg=function(){return(0,l.get)(this.geometry.theme,"pieLabels",{})},i.prototype.getDefaultOffset=function(t){return t||0},i.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},i.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n=e.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},i.prototype.getArcPoint=function(t){return t},i.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:(0,l.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,l.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=qi(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var u=qi(e,a);s>=u&&(u=u+Math.PI*2),o=s+(u-s)/2}return o},i.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+e;return(0,x.__assign)((0,x.__assign)({},fe(o.x,o.y,s,t)),{angle:t,r:s})},i}(uc),x0=m0,cc=4;function b0(r,i,t,e,n,a){var o=!0,s=e.start,u=e.end,c=Math.min(s.y,u.y),h=Math.abs(s.y-u.y),f,p=0,g=Number.MIN_VALUE,_=i.map(function(te){return te.y>p&&(p=te.y),te.y<g&&(g=te.y),{size:t,targets:[te.y-c]}});for(g-=c,p-c>h&&(h=p-c);o;)for(_.forEach(function(te){var ye=(Math.min.apply(g,te.targets)+Math.max.apply(g,te.targets))/2;te.pos=Math.min(Math.max(g,ye-te.size/2),h-te.size)}),o=!1,f=_.length;f--;)if(f>0){var H=_[f-1],lt=_[f];H.pos+H.size>lt.pos&&(H.size+=lt.size,H.targets=H.targets.concat(lt.targets),H.pos+H.size>h&&(H.pos=h-H.size),_.splice(f,1),o=!0)}f=0,_.forEach(function(te){var ye=c+t/2;te.targets.forEach(function(){i[f].y=te.pos+ye,ye+=t,f++})});for(var pt={},wt=0,Ft=r;wt<Ft.length;wt++){var Dt=Ft[wt];pt[Dt.get("id")]=Dt}i.forEach(function(te){var ye=te.r*te.r,Oe=Math.pow(Math.abs(te.y-n.y),2);if(ye<Oe)te.x=n.x;else{var Re=Math.sqrt(ye-Oe);a?te.x=n.x+Re:te.x=n.x-Re}var we=pt[te.id];we.attr("x",te.x),we.attr("y",te.y);var Xe=(0,l.find)(we.getChildren(),function($e){return $e.get("type")==="text"});Xe&&(Xe.attr("y",te.y),Xe.attr("x",te.x))})}function w0(r,i,t,e){var n=r[0]?r[0].offset:0,a=i[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var u=14,c=o+n,h=c*2+u*2,f={start:a.start,end:a.end},p=[[],[]];r.forEach(function(g){!g||(g.textAlign==="right"?p[0].push(g):p[1].push(g))}),p.forEach(function(g,_){var H=h/u;g.length>H&&(g.sort(function(lt,pt){return pt["..percent"]-lt["..percent"]}),g.splice(H,g.length-H)),g.sort(function(lt,pt){return lt.y-pt.y}),b0(i,g,u,f,s,_)})}(0,l.each)(r,function(g){if(g&&g.labelLine){var _=g.offset,H=g.angle,lt=fe(s.x,s.y,o,H),pt=fe(s.x,s.y,o+_/2,H),wt=g.x+(0,l.get)(g,"offsetX",0),Ft=g.y+(0,l.get)(g,"offsetY",0),Dt={x:wt-Math.cos(H)*cc,y:Ft-Math.sin(H)*cc};(0,l.isObject)(g.labelLine)||(g.labelLine={}),g.labelLine.path=["M "+lt.x,lt.y+" Q"+pt.x,pt.y+" "+Dt.x,Dt.y].join(",")}})}var hc=4;function C0(r,i,t,e,n,a,o){i.sort(function(we,Xe){return we.y-Xe.y});var s=e.start,u=e.end,c=Math.min(s.y,u.y),h=Math.max(s.y,u.y),f,p=i.map(function(we){return{content:we.content,size:t,pos:we.y,targets:[we.y]}}),g=Math.max.apply(Math,p.map(function(we){return we.pos})),_=Math.min.apply(Math,p.map(function(we){return we.pos}));if(o){for(var H=Math.min(_,h-(p.length-1)*t),lt=Math.max(H+p.length*t,g+t),pt=!0;pt;)for(pt=!1,f=p.length;f--;)if(f>0){var wt=p[f-1],Ft=p[f];wt.pos+wt.size>Ft.pos&&(Ft.pos+f*t<lt?(wt.size+=Ft.size,wt.targets=wt.targets.concat(Ft.targets),p.splice(f,1)):wt.pos=Ft.pos-wt.size,pt=!0)}}else for(var lt=Math.max(c+(p.length-1)*t,g),H=Math.min(_,lt-(p.length-1)*t),pt=!0;pt;)for(pt=!1,f=p.length;f--;)if(f>0){var wt=p[f-1],Ft=p[f];wt.pos+wt.size>Ft.pos&&(wt.pos-H>f*t?wt.pos-=wt.size:(wt.size+=Ft.size,wt.targets=wt.targets.concat(Ft.targets),p.splice(f,1)),pt=!0)}f=0,p.forEach(function(we){var Xe=we.pos;we.targets.forEach(function(){i[f].y=Xe,Xe+=t,f++})});for(var Dt={},te=0,ye=r;te<ye.length;te++){var Oe=ye[te];Dt[Oe.get("id")]=Oe}var Re=(Math.max.apply(Math,i.map(function(we){return we.y}))-Math.min.apply(Math,i.map(function(we){return we.y})))/2;Re=Math.max(Re,a),i.forEach(function(we){var Xe=Dt[we.id],$e=Xe.find(function(er){return er.get("type")==="text"});if($e&&$e.attr("y")!==we.y){var Mi=Re*Re,fi=Math.pow(Math.abs(we.y-n.y),2);if(Mi<fi)we.x=n.x;else{var xi=Math.sqrt(Mi-fi);o?we.x=n.x+xi:we.x=n.x-xi}}Xe.attr("x",we.x),Xe.attr("y",we.y),$e&&($e.attr("y",we.y),$e.attr("x",we.x))})}function S0(r,i,t,e){var n=r[0]?r[0].offset:0,a=i[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var u=(0,l.get)(r[0],"labelHeight",14),c=o+n,h=c*2+u*2,f={start:a.start,end:a.end},p=[[],[]];r.forEach(function(g){!g||(g.x<s.x?p[0].push(g):p[1].push(g))}),p.forEach(function(g,_){var H=h/u;if(g.length>H){g.sort(function(pt,wt){return wt["data.percent"]-pt["data.percent"]});var lt=g.splice(H,g.length-H+1);lt.forEach(function(pt){var wt=i.findIndex(function(Ft){return Ft.get("id")===pt.id});i[wt]&&(i[wt].remove(!0),i.splice(wt,1))})}C0(i,g,u,f,s,c,_===1)})}(0,l.each)(r,function(g){if(g&&g.labelLine){var _=g.angle,H=fe(s.x,s.y,o,_),lt=g.x+(0,l.get)(g,"offsetX",0)*(Math.cos(_)>0?1:-1),pt=g.y+(0,l.get)(g,"offsetY",0)*(Math.sin(_)>0?1:-1),wt={x:lt-Math.cos(_)*hc,y:pt-Math.sin(_)*hc},Ft=g.labelLine.smooth,Dt=[],te=wt.x-s.x,ye=wt.y-s.y,Oe=Math.atan(ye/te);if(te<0&&(Oe+=Math.PI),Ft===!1){(0,l.isObject)(g.labelLine)||(g.labelLine={});var Re=0;(_<0&&_>-Math.PI/2||_>Math.PI*1.5)&&wt.y>H.y&&(Re=1),_>=0&&_<Math.PI/2&&wt.y>H.y&&(Re=1),_>=Math.PI/2&&_<Math.PI&&H.y>wt.y&&(Re=1),(_<-Math.PI/2||_>=Math.PI&&_<Math.PI*1.5)&&H.y>wt.y&&(Re=1);var we=n/2>4?4:Math.max(n/2-1,0),Xe=fe(s.x,s.y,o+we,_),$e=fe(s.x,s.y,o+n/2,Oe),Mi=0;Dt.push("M "+H.x+" "+H.y),Dt.push("L "+Xe.x+" "+Xe.y),Dt.push("A "+s.x+" "+s.y+" 0 "+Mi+" "+Re+" "+$e.x+" "+$e.y),Dt.push("L "+wt.x+" "+wt.y)}else{var Xe=fe(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),_),fi=H.x<s.x?1:-1;Dt.push("M "+wt.x+" "+wt.y);var xi=(H.y-s.y)/(H.x-s.x),er=(wt.y-s.y)/(wt.x-s.x);Math.abs(xi-er)>Math.pow(Math.E,-16)&&Dt.push.apply(Dt,["C",wt.x+fi*4,wt.y,2*Xe.x-H.x,2*Xe.y-H.y,H.x,H.y]),Dt.push("L "+H.x+" "+H.y)}g.labelLine.path=Dt.join(" ")}})}function M0(r,i,t,e){(0,l.each)(i,function(n){var a=e.minX,o=e.minY,s=e.maxX,u=e.maxY,c=n.getCanvasBBox(),h=c.minX,f=c.minY,p=c.maxX,g=c.maxY,_=c.x,H=c.y,lt=c.width,pt=c.height,wt=_,Ft=H;(h<a||p<a)&&(wt=a),(f<o||g<o)&&(Ft=o),h>s?wt=s-lt:p>s&&(wt=wt-(p-s)),f>u?Ft=u-pt:g>u&&(Ft=Ft-(g-u)),(wt!==_||Ft!==H)&&Bs(n,wt-_,Ft-H)})}function A0(r,i,t,e){(0,l.each)(i,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var _0=100,fc=function(){function r(i){i===void 0&&(i={}),this.bitmap={};var t=i.xGap,e=t===void 0?1:t,n=i.yGap,a=n===void 0?8:n;this.xGap=e,this.yGap=a}return r.prototype.hasGap=function(i){for(var t=!0,e=this.bitmap,n=Math.round(i.minX),a=Math.round(i.maxX),o=Math.round(i.minY),s=Math.round(i.maxY),u=n;u<=a;u+=1){if(!e[u]){e[u]={};continue}if(u===n||u===a){for(var c=o;c<=s;c++)if(e[u][c]){t=!1;break}}else if(e[u][o]||e[u][s]){t=!1;break}}return t},r.prototype.fillGap=function(i){for(var t=this.bitmap,e=Math.round(i.minX),n=Math.round(i.maxX),a=Math.round(i.minY),o=Math.round(i.maxY),s=e;s<=n;s+=1)t[s]||(t[s]={});for(var s=e;s<=n;s+=this.xGap){for(var u=a;u<=o;u+=this.yGap)t[s][u]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[e][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=e;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},r.prototype.destroy=function(){this.bitmap={}},r}();function T0(r,i,t){t===void 0&&(t=_0);var e=-1,n=r.attr(),a=n.x,o=n.y,s=r.getCanvasBBox(),u=Math.sqrt(s.width*s.width+s.height*s.height),c,h=-e,f=0,p=0,g=function(pt){var wt=pt*.1;return[wt*Math.cos(wt),wt*Math.sin(wt)]};if(i.hasGap(s))return i.fillGap(s),!0;for(var _=!1,H=0,lt={};Math.min(Math.abs(f),Math.abs(p))<u&&H<t;)if(c=g(h+=e),f=~~c[0],p=~~c[1],!(!f&&!p||lt[f+"-"+p])&&(r.attr({x:a+f,y:o+p}),f+p<0&&r.attr("textAlign","right"),H++,i.hasGap(r.getCanvasBBox()))){i.fillGap(r.getCanvasBBox()),_=!0,lt[f+"-"+p]=!0;break}return _}function L0(r,i,t,e){var n=r.getCanvasBBox(),a=n.width,o=n.height,s={x:i,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return r.attr(s),r.getCanvasBBox()}function E0(r,i,t,e){var n=new fc;(0,l.each)(i,function(a){var o=a.find(function(s){return s.get("type")==="text"});T0(o,n)||a.remove(!0)}),n.destroy()}function P0(r,i,t,e){var n=new fc;(0,l.each)(i,function(a){for(var o=a.find(function(g){return g.get("type")==="text"}),s=o.attr(),u=s.x,c=s.y,h=!1,f=0;f<=8;f++){var p=L0(o,u,c,f);if(n.hasGap(p)){n.fillGap(p),h=!0;break}}h||a.remove(!0)}),n.destroy()}function O0(r,i,t){var e={fillOpacity:(0,l.isNil)(r.attr("fillOpacity"))?1:r.attr("fillOpacity"),strokeOpacity:(0,l.isNil)(r.attr("strokeOpacity"))?1:r.attr("strokeOpacity"),opacity:(0,l.isNil)(r.attr("opacity"))?1:r.attr("opacity")};r.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),r.animate(e,i)}function I0(r,i,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},n=i.easing,a=i.duration,o=i.delay;r.animate(e,a,n,function(){r.remove(!0)},o)}function B0(r,i,t){var e,n=i[0],a=i[1];return r.applyToMatrix([n,a,1]),t==="x"?(r.setMatrix(Pi.transform(r.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),e=Pi.transform(r.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(r.setMatrix(Pi.transform(r.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),e=Pi.transform(r.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(r.setMatrix(Pi.transform(r.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),e=Pi.transform(r.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),e}function nl(r,i,t,e,n){var a=t.start,o=t.end,s=t.getWidth(),u=t.getHeight(),c,h;n==="y"?(c=a.x+s/2,h=e.y<a.y?e.y:a.y):n==="x"?(c=e.x>a.x?e.x:a.x,h=a.y+u/2):n==="xy"&&(t.isPolar?(c=t.getCenter().x,h=t.getCenter().y):(c=(a.x+o.x)/2,h=(a.y+o.y)/2));var f=B0(r,[c,h],n);r.animate({matrix:f},i)}function k0(r,i,t){var e=t.coordinate,n=t.minYPoint;nl(r,i,e,n,"x")}function F0(r,i,t){var e=t.coordinate,n=t.minYPoint;nl(r,i,e,n,"y")}function D0(r,i,t){var e=t.coordinate,n=t.minYPoint;nl(r,i,e,n,"xy")}function R0(r,i,t){var e=r.getTotalLength();r.attr("lineDash",[e]),r.animate(function(n){return{lineDashOffset:(1-n)*e}},i)}function N0(r,i,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,r.attr(e),r.animate({x:n,y:a},i)}function G0(r,i,t){var e=r.getBBox(),n=r.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;r.applyToMatrix([o,s,1]);var u=Pi.transform(r.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);r.setMatrix(u),r.animate({matrix:Pi.transform(r.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},i)}function Y0(r,i,t){var e=r.getBBox(),n=r.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;r.applyToMatrix([a,s,1]);var u=Pi.transform(r.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);r.setMatrix(u),r.animate({matrix:Pi.transform(r.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},i)}var X0=S(84909);function vc(r,i){var t,e=(0,X0.Z)(r,i),n=e.startAngle,a=e.endAngle;return!(0,l.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,l.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),i[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,l.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,l.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function pc(r){var i;return r[0]==="M"||r[0]==="L"?i=[r[1],r[2]]:(r[0]==="a"||r[0]==="A")&&(i=[r[r.length-2],r[r.length-1]]),i}function dc(r){var i,t,e,n=r.filter(function(Ft){return Ft[0]==="A"||Ft[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=r.indexOf(a),u=r.indexOf(o),c=pc(r[s-1]),h=pc(r[u-1]),f=vc(c,a),p=f.startAngle,g=f.endAngle,_=vc(h,o),H=_.startAngle,lt=_.endAngle;(0,l.isNumberEqual)(p,H)&&(0,l.isNumberEqual)(g,lt)?(t=p,e=g):(t=Math.min(p,H),e=Math.max(g,lt));var pt=a[1],wt=n[n.length-1][1];return pt<wt?(i=[wt,pt],pt=i[0],wt=i[1]):pt===wt&&(wt=0),{startAngle:t,endAngle:e,radius:pt,innerRadius:wt}}function j0(r,i,t){var e=t.toAttrs,n=t.coordinate,a=e.path,o=a.map(function(wt){return wt[0]}),s=dc(a),u=s.startAngle,c=s.endAngle,h=s.radius,f=s.innerRadius,p=dc(r.attr("path")),g=p.startAngle,_=p.endAngle,H=n.getCenter(),lt=u-g,pt=c-_;r.animate(function(wt){var Ft=g+wt*lt,Dt=_+wt*pt;return(0,x.__assign)((0,x.__assign)({},e),{path:(0,l.isEqual)(o,["M","A","A","Z"])?Ye(H.x,H.y,h,Ft,Dt):be(H.x,H.y,h,Ft,Dt,f)})},(0,x.__assign)((0,x.__assign)({},i),{callback:function(){r.attr("path",a)}}))}function H0(r,i,t){var e=xr(t.coordinate,20),n=e.type,a=e.startState,o=e.endState,s=r.setClip({type:n,attrs:a});s.animate(o,(0,x.__assign)((0,x.__assign)({},i),{callback:function(){r&&!r.get("destroyed")&&r.set("clipShape",null),s.remove(!0)}}))}function al(r,i,t){if(r.isGroup())(0,l.each)(r.getChildren(),function(s){al(s,i,t)});else{var e=r.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(r.applyToMatrix([n,a,1]),t==="zoomIn"){var o=Pi.transform(r.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);r.setMatrix(o),r.animate({matrix:Pi.transform(r.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},i)}else r.animate({matrix:Pi.transform(r.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,x.__assign)((0,x.__assign)({},i),{callback:function(){r.remove(!0)}}))}}function V0(r,i,t){al(r,i,"zoomIn")}function z0(r,i,t){al(r,i,"zoomOut")}function Zn(r){return[it.TOP,it.BOTTOM].includes(r)?{offsetX:0,offsetY:r===it.TOP?-8:8,style:{textAlign:"center",textBaseline:r===it.TOP?"bottom":"top"}}:[it.LEFT,it.RIGHT].includes(r)?{offsetX:r===it.LEFT?-8:8,offsetY:0,style:{textAlign:r===it.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function ol(r,i,t){return{x:r.x+i*Math.cos(t),y:r.y+i*Math.sin(t)}}var W0=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultCfg=function(){return(0,l.deepMix)({},r.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},i.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},i.prototype.getRegion=function(t,e){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*e,u=n/(1+1/Math.sin(o/2)),c=ol(a,n-u,s),h=Math.PI*5/4,f=Math.PI*1/4;return{start:ol(c,u,h),end:ol(c,u,f)}},i.prototype.afterEachView=function(t,e){this.processAxis(t,e)},i.prototype.beforeEachView=function(t,e){},i.prototype.generateFacets=function(t){var e=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var u=this.getFieldValues(t,s),c=u.length,h=[];return u.forEach(function(f,p){var g=[{field:s,value:f,values:u}],_=(0,l.filter)(t,e.getFacetDataFilter(g)),H={type:o,data:_,region:e.getRegion(c,p),columnValue:f,columnField:s,columnIndex:p,columnValuesLength:c,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(H)}),h},i.prototype.getXAxisOption=function(t,e,n,a){return n},i.prototype.getYAxisOption=function(t,e,n,a){return n},i.prototype.renderTitle=function(){var t=this;(0,l.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,l.get)(t.cfg.title,"formatter"),s=(0,l.deepMix)({position:["50%","0%"],content:o?o(n):n},Zn(it.TOP),t.cfg.title);a.annotation().text(s)})},i}(Wi),Z0=W0,U0=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultCfg=function(){return(0,l.deepMix)({},r.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},i.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},i.prototype.afterEachView=function(t,e){this.processAxis(t,e)},i.prototype.beforeEachView=function(t,e){},i.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),u=s.length;a=a||u;var c=this.getPageCount(u,a),h=[];return s.forEach(function(f,p){var g=e.getRowCol(p,a),_=g.row,H=g.col,lt=[{field:o,value:f,values:s}],pt=(0,l.filter)(t,e.getFacetDataFilter(lt)),wt={type:e.cfg.type,data:pt,region:e.getRegion(c,a,H,_),columnValue:f,rowValue:f,columnField:o,rowField:null,columnIndex:H,rowIndex:_,columnValuesLength:a,rowValuesLength:c,total:u};h.push(wt)}),h},i.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,x.__assign)((0,x.__assign)({},n),{label:null,title:null}):n},i.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,x.__assign)((0,x.__assign)({},n),{title:null,label:null}):n},i.prototype.renderTitle=function(){var t=this;(0,l.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,l.get)(t.cfg.title,"formatter"),s=(0,l.deepMix)({position:["50%","0%"],content:o?o(n):n},Zn(it.TOP),t.cfg.title);a.annotation().text(s)})},i.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},i.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),a=t%e;return{row:n,col:a}},i}(Wi),$0=U0,K0=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultCfg=function(){return(0,l.deepMix)({},r.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,x.__assign)({},r.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,x.__assign)({},r.prototype.getDefaultTitleCfg.call(this))})},i.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},i.prototype.afterEachView=function(t,e){this.processAxis(t,e)},i.prototype.beforeEachView=function(t,e){},i.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,o=n.length,s=o,u=[],c=0;c<s;c++)for(var h=n[c],f=0;f<o;f++){var p=n[f],g={type:a,data:t,region:this.getRegion(o,s,c,f),columnValue:h,rowValue:p,columnField:h,rowField:p,columnIndex:c,rowIndex:f,columnValuesLength:s,rowValuesLength:o};u.push(g)}return u},i.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,x.__assign)((0,x.__assign)({},n),{label:null,title:null}):n},i.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,x.__assign)((0,x.__assign)({},n),{title:null,label:null}):n},i.prototype.renderTitle=function(){var t=this;(0,l.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,u=e.rowValuesLength,c=e.columnValue,h=e.rowValue,f=e.view;if(o===0){var p=(0,l.get)(t.cfg.columnTitle,"formatter"),g=(0,l.deepMix)({position:["50%","0%"],content:p?p(c):c},Zn(it.TOP),t.cfg.columnTitle);f.annotation().text(g)}if(a===s-1){var p=(0,l.get)(t.cfg.rowTitle,"formatter"),g=(0,l.deepMix)({position:["100%","50%"],content:p?p(h):h},Zn(it.RIGHT),t.cfg.rowTitle);f.annotation().text(g)}})},i}(Wi),Q0=K0,q0=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultCfg=function(){return(0,l.deepMix)({},r.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this),transpose:!1})},i.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},i.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},i.prototype.afterEachView=function(t,e){this.processAxis(t,e)},i.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields[0],a=[],o=1,s=1,u=[""],c=[""],h,f;return this.cfg.transpose?(h=n,u=this.getFieldValues(t,h).slice(0,2),o=u.length):(f=n,c=this.getFieldValues(t,f).slice(0,2),s=c.length),u.forEach(function(p,g){c.forEach(function(_,H){var lt=[{field:h,value:p,values:u},{field:f,value:_,values:c}],pt=(0,l.filter)(t,e.getFacetDataFilter(lt)),wt={type:e.cfg.type,data:pt,region:e.getRegion(s,o,g,H),columnValue:p,rowValue:_,columnField:h,rowField:f,columnIndex:g,rowIndex:H,columnValuesLength:o,rowValuesLength:s};a.push(wt)})}),a},i.prototype.getXAxisOption=function(t,e,n,a){return a.columnIndex===1||a.rowIndex===1?(0,x.__assign)((0,x.__assign)({},n),{label:null,title:null}):n},i.prototype.getYAxisOption=function(t,e,n,a){return n},i.prototype.renderTitle=function(){var t=this;(0,l.each)(this.facets,function(e,n){var a=e.columnValue,o=e.rowValue,s=e.view,u=(0,l.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var c=(0,l.deepMix)({position:["50%","0%"],content:u?u(a):a},Zn(it.TOP),t.cfg.title);s.annotation().text(c)}else{var c=(0,l.deepMix)({position:["100%","50%"],content:u?u(o):o},Zn(it.RIGHT),t.cfg.title);s.annotation().text(c)}})},i}(Wi),J0=q0,tx=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.afterEachView=function(t,e){this.processAxis(t,e)},i.prototype.beforeEachView=function(t,e){},i.prototype.getDefaultCfg=function(){return(0,l.deepMix)({},r.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,x.__assign)({},r.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,x.__assign)({},r.prototype.getDefaultTitleCfg.call(this))})},i.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},i.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],u=1,c=1,h=[""],f=[""];return a&&(h=this.getFieldValues(t,a),u=h.length),o&&(f=this.getFieldValues(t,o),c=f.length),h.forEach(function(p,g){f.forEach(function(_,H){var lt=[{field:a,value:p,values:h},{field:o,value:_,values:f}],pt=(0,l.filter)(t,e.getFacetDataFilter(lt)),wt={type:e.cfg.type,data:pt,region:e.getRegion(c,u,g,H),columnValue:p,rowValue:_,columnField:a,rowField:o,columnIndex:g,rowIndex:H,columnValuesLength:u,rowValuesLength:c};s.push(wt)})}),s},i.prototype.renderTitle=function(){var t=this;(0,l.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,u=e.columnValue,c=e.rowValue,h=e.view;if(o===0){var f=(0,l.get)(t.cfg.columnTitle,"formatter"),p=(0,l.deepMix)({position:["50%","0%"],content:f?f(u):u},Zn(it.TOP),t.cfg.columnTitle);h.annotation().text(p)}if(a===s-1){var f=(0,l.get)(t.cfg.rowTitle,"formatter"),p=(0,l.deepMix)({position:["100%","50%"],content:f?f(c):c},Zn(it.RIGHT),t.cfg.rowTitle);h.annotation().text(p)}})},i.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,x.__assign)((0,x.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,x.__assign)((0,x.__assign)({},n),{title:null}):n},i.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,x.__assign)((0,x.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,x.__assign)((0,x.__assign)({},n),{title:null}):n},i}(Wi),ex=tx,ix=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return i.prototype.afterEachView=function(t,e){this.processAxis(t,e)},i.prototype.beforeEachView=function(t,e){},i.prototype.init=function(){r.prototype.init.call(this),this.view.on(y.AFTER_RENDER,this.afterChartRender)},i.prototype.getDefaultCfg=function(){return(0,l.deepMix)({},r.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},i.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},i.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},i.prototype.getRegion=function(t,e,n,a){var o=1/e,s=1/t,u={x:o*n,y:s*a},c={x:u.x+o,y:u.y+s*2/3};return{start:u,end:c}},i.prototype.forceColIndex=function(t){var e=this,n=[],a=0;t.forEach(function(p){e.isLeaf(p)&&(n.push(p),p.columnIndex=a,a++)}),n.forEach(function(p){p.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var u=this.getFacetsByLevel(t,s),c=0,h=u;c<h.length;c++){var f=h[c];this.isLeaf(f)||(f.originColIndex=f.columnIndex,f.columnIndex=this.getRegionIndex(f.children),f.columnValuesLength=n.length)}},i.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},i.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},i.prototype.isLeaf=function(t){return!t.children||!t.children.length},i.prototype.getRows=function(){return this.cfg.fields.length+1},i.prototype.getChildFacets=function(t,e,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<e)){var u=[],c=o[e-1],h=this.getFieldValues(t,c);return h.forEach(function(f,p){var g=[{field:c,value:f,values:h}],_=t.filter(a.getFacetDataFilter(g));if(_.length){var H={type:a.cfg.type,data:_,region:null,columnValue:f,rowValue:"",columnField:c,rowField:"",columnIndex:p,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(_,e+1,n)};u.push(H),n.push(H)}}),u}},i.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},i.prototype.renderTitle=function(){var t=this;(0,l.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,l.get)(t.cfg.title,"formatter"),s=(0,l.deepMix)({position:["50%","0%"],content:o?o(n):n},Zn(it.TOP),t.cfg.title);a.annotation().text(s)})},i.prototype.drawLines=function(t){var e=this;t.forEach(function(n){if(!e.isLeaf(n)){var a=n.children;e.addFacetLines(n,a)}})},i.prototype.addFacetLines=function(t,e){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(u){var c=u.view.coordinateBBox,h={x:c.bl.x+(c.tr.x-c.bl.x)/2,y:c.tr.y},f={x:s.x,y:s.y+(h.y-s.y)/2},p={x:h.x,y:f.y};n.drawLine([s,f,p,h])})},i.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e},i.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,l.assign)({path:e},n)})},i.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,x.__assign)((0,x.__assign)({},n),{title:null,label:null}):n},i.prototype.getYAxisOption=function(t,e,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,x.__assign)((0,x.__assign)({},n),{title:null,label:null}):n},i}(Wi),rx=ix,nx=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(W.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(W.BG).addGroup(),e.option=[],e}return Object.defineProperty(i.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),i.prototype.init=function(){},i.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(o){var s=o.component,u=o.extra,c=u.type,h=t.getAnnotationTheme(c);s.update(t.getAnnotationCfg(c,u,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};e.length?(0,l.each)(e,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(y.AFTER_RENDER,function(){n(o)}):n(o)}):(0,l.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(y.AFTER_RENDER,function(){a(o)}):a(o)})},i.prototype.render=function(){},i.prototype.update=function(){var t=this,e=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),u=t.getAnnotationCfg(o,a,s),c=t.cache.get(a);if(c)ti(u,["container"]),c.component.update(u),e.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),e.set(a,!0))}};this.view.once(y.AFTER_RENDER,function(){(0,l.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){e.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,l.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},i.prototype.clear=function(t){t===void 0&&(t=!1),r.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},i.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},i.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},i.prototype.createAnnotation=function(t){var e=t.type,n=Zt.Annotation[(0,l.upperFirst)(e)];if(n){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?W.FORE:W.BG,direction:it.NONE,type:nt.ANNOTATION,extra:t}}},i.prototype.annotation=function(t){this.option.push(t)},i.prototype.arc=function(t){return this.annotation((0,x.__assign)({type:"arc"},t)),this},i.prototype.image=function(t){return this.annotation((0,x.__assign)({type:"image"},t)),this},i.prototype.line=function(t){return this.annotation((0,x.__assign)({type:"line"},t)),this},i.prototype.region=function(t){return this.annotation((0,x.__assign)({type:"region"},t)),this},i.prototype.text=function(t){return this.annotation((0,x.__assign)({type:"text"},t)),this},i.prototype.dataMarker=function(t){return this.annotation((0,x.__assign)({type:"dataMarker"},t)),this},i.prototype.dataRegion=function(t){this.annotation((0,x.__assign)({type:"dataRegion"},t))},i.prototype.regionFilter=function(t){this.annotation((0,x.__assign)({type:"regionFilter"},t))},i.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,l.isFunction)(t)?t.call(null,e,n):t,o=0,s=0;if((0,l.isArray)(a)){var u=a[0],c=a[1];if((0,l.isString)(u)&&u.indexOf("%")!==-1&&!isNaN(u.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(u,e),s=this.getNormalizedValue(c,Object.values(n)[0])}else if(!(0,l.isNil)(a))for(var h=0,f=(0,l.keys)(a);h<f.length;h++){var p=f[h],g=a[p];p===e.field&&(o=this.getNormalizedValue(g,e)),n[p]&&(s=this.getNormalizedValue(g,n[p]))}return this.view.getCoordinate().convert({x:o,y:s})},i.prototype.getRegionPoints=function(t,e){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],u=a.field,c=this.view.getData(),h=(0,l.isArray)(t)?t[0]:t[u],f=(0,l.isArray)(e)?e[0]:e[u],p=[],g;return(0,l.each)(c,function(_,H){if(_[u]===h&&(g=H),H>=g){var lt=n.parsePosition([_[u],_[s.field]]);lt&&p.push(lt)}if(_[u]===f)return!1}),p},i.prototype.getNormalizedValue=function(t,e){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(a);break}case"min":case"max":e.isCategory?a=t==="min"?0:e.values.length-1:a=e[t],n=e.scale(a);break;default:n=e.scale(t)}return n},i.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,u={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},c=a.getWidth()*e+u.x,h=a.getHeight()*n+u.y;return{x:c,y:h}},i.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},i.prototype.getAnnotationCfg=function(t,e,n){var a=this.view.getCoordinate(),o={};if((0,l.isNil)(e))return null;if(t==="arc"){var s=e,u=s.start,c=s.end,h=this.parsePosition(u),f=this.parsePosition(c),p=qi(a,h),g=qi(a,f);p>g&&(g=Math.PI*2+g),o={center:a.getCenter(),radius:hi(a,h),startAngle:p,endAngle:g}}else if(t==="image"){var _=e,u=_.start,c=_.end;o={start:this.parsePosition(u),end:this.parsePosition(c),src:e.src}}else if(t==="line"){var H=e,u=H.start,c=H.end;o={start:this.parsePosition(u),end:this.parsePosition(c),text:(0,l.get)(e,"text",null)}}else if(t==="region"){var lt=e,u=lt.start,c=lt.end;o={start:this.parsePosition(u),end:this.parsePosition(c)}}else if(t==="text"){var pt=this.view.getData(),wt=e,Ft=wt.position,Dt=wt.content,te=(0,x.__rest)(wt,["position","content"]),ye=Dt;(0,l.isFunction)(Dt)&&(ye=Dt(pt)),o=(0,x.__assign)((0,x.__assign)((0,x.__assign)({},this.parsePosition(Ft)),te),{content:ye})}else if(t==="dataMarker"){var Oe=e,Ft=Oe.position,Re=Oe.point,we=Oe.line,Xe=Oe.text,$e=Oe.autoAdjust,Mi=Oe.direction;o=(0,x.__assign)((0,x.__assign)({},this.parsePosition(Ft)),{coordinateBBox:this.getCoordinateBBox(),point:Re,line:we,text:Xe,autoAdjust:$e,direction:Mi})}else if(t==="dataRegion"){var fi=e,u=fi.start,c=fi.end,xi=fi.region,Xe=fi.text,er=fi.lineLength;o={points:this.getRegionPoints(u,c),region:xi,text:Xe,lineLength:er}}else if(t==="regionFilter"){var Mr=e,u=Mr.start,c=Mr.end,pr=Mr.apply,dr=Mr.color,Di=this.view.geometries,gi=[],ir=function(gr){!gr||(gr.isGroup()?gr.getChildren().forEach(function(jr){return ir(jr)}):gi.push(gr))};(0,l.each)(Di,function(gr){pr?(0,l.contains)(pr,gr.type)&&(0,l.each)(gr.elements,function(jr){ir(jr.shape)}):(0,l.each)(gr.elements,function(jr){ir(jr.shape)})}),o={color:dr,shapes:gi,start:this.parsePosition(u),end:this.parsePosition(c)}}var Oi=(0,l.deepMix)({},n,(0,x.__assign)((0,x.__assign)({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return Oi.container=this.getComponentContainer(Oi),Oi.animate=this.view.getOptions().animate&&Oi.animate&&(0,l.get)(e,"animate",Oi.animate),Oi.animateOption=(0,l.deepMix)({},Gr,Oi.animateOption,e.animateOption),Oi},i.prototype.isTop=function(t){return(0,l.get)(t,"top",!0)},i.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},i.prototype.getAnnotationTheme=function(t){return(0,l.get)(this.view.getTheme(),["components","annotation",t],{})},i}(Ke),ax=nx;function gc(r,i){return(0,l.get)(r,["components","axis",i,"grid"],{})}function Go(r,i,t,e){var n=[],a=i.getTicks();return r.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,u){var c=s.value;if(e)n.push({points:[r.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),r.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]});else if(u){var h=o.value,f=(h+c)/2;n.push({points:[r.convert(t==="y"?{x:0,y:f}:{x:f,y:0}),r.convert(t==="y"?{x:1,y:f}:{x:f,y:1})]})}return s},a[0]),n}function sl(r,i,t,e,n){var a=i.values.length,o=[],s=t.getTicks();return s.reduce(function(u,c){var h=u?u.value:c.value,f=c.value,p=(h+f)/2;return n==="x"?o.push({points:[r.convert({x:e?f:p,y:0}),r.convert({x:e?f:p,y:1})]}):o.push({points:(0,l.map)(Array(a+1),function(g,_){return r.convert({x:_/a,y:e?f:p})})}),c},s[0]),o}function yc(r,i){var t=(0,l.get)(i,"grid");if(t===null)return!1;var e=(0,l.get)(r,"grid");return!(t===void 0&&e===null)}var ca=["container"],mc=(0,x.__assign)((0,x.__assign)({},Gr),{appear:null}),ox=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(W.BG).addGroup(),e.axisContainer=e.view.getLayer(W.BG).addGroup(),e}return Object.defineProperty(i.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),i.prototype.init=function(){},i.prototype.render=function(){this.update()},i.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,l.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,u=n.extra,c=u.dim,h=u.scale,f=u.alignTick,p;if(s===nt.AXIS)e.isPolar?c==="x"?p=e.isTransposed?Je(e,o):yr(e):c==="y"&&(p=e.isTransposed?yr(e):Je(e,o)):p=Je(e,o);else if(s===nt.GRID)if(e.isPolar){var g=void 0;e.isTransposed?g=c==="x"?sl(e,t.view.getYScales()[0],h,f,c):Go(e,h,c,f):g=c==="x"?Go(e,h,c,f):sl(e,t.view.getXScale(),h,f,c),p={items:g,center:t.view.getCoordinate().getCenter()}}else p={items:Go(e,h,c,f)};a.update(p)})},i.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},i.prototype.clear=function(){r.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},i.prototype.destroy=function(){r.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},i.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},i.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var n=$i(this.option,e.field);if(n!==!1){var a=Ar(n,it.BOTTOM),o=W.BG,s="x",u=this.view.getCoordinate(),c=this.getId("axis",e.field),h=this.getId("grid",e.field);if(u.isRect){var f=this.cache.get(c);if(f){var p=this.getLineAxisCfg(e,n,a);ti(p,ca),f.component.update(p),t.set(c,f)}else f=this.createLineAxis(e,n,o,a,s),this.cache.set(c,f),t.set(c,f);var g=this.cache.get(h);if(g){var p=this.getLineGridCfg(e,n,a,s);ti(p,ca),g.component.update(p),t.set(h,g)}else g=this.createLineGrid(e,n,o,a,s),g&&(this.cache.set(h,g),t.set(h,g))}else if(u.isPolar){var f=this.cache.get(c);if(f){var p=u.isTransposed?this.getLineAxisCfg(e,n,it.RADIUS):this.getCircleAxisCfg(e,n,a);ti(p,ca),f.component.update(p),t.set(c,f)}else{if(u.isTransposed){if((0,l.isUndefined)(n))return;f=this.createLineAxis(e,n,o,it.RADIUS,s)}else f=this.createCircleAxis(e,n,o,a,s);this.cache.set(c,f),t.set(c,f)}var g=this.cache.get(h);if(g){var p=u.isTransposed?this.getCircleGridCfg(e,n,it.RADIUS,s):this.getLineGridCfg(e,n,it.CIRCLE,s);ti(p,ca),g.component.update(p),t.set(h,g)}else{if(u.isTransposed){if((0,l.isUndefined)(n))return;g=this.createCircleGrid(e,n,o,it.RADIUS,s)}else g=this.createLineGrid(e,n,o,it.CIRCLE,s);g&&(this.cache.set(h,g),t.set(h,g))}}}}},i.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,l.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,u=$i(e.option,s);if(u!==!1){var c=W.BG,h="y",f=e.getId("axis",s),p=e.getId("grid",s),g=e.view.getCoordinate();if(g.isRect){var _=Ar(u,o===0?it.LEFT:it.RIGHT),H=e.cache.get(f);if(H){var lt=e.getLineAxisCfg(a,u,_);ti(lt,ca),H.component.update(lt),t.set(f,H)}else H=e.createLineAxis(a,u,c,_,h),e.cache.set(f,H),t.set(f,H);var pt=e.cache.get(p);if(pt){var lt=e.getLineGridCfg(a,u,_,h);ti(lt,ca),pt.component.update(lt),t.set(p,pt)}else pt=e.createLineGrid(a,u,c,_,h),pt&&(e.cache.set(p,pt),t.set(p,pt))}else if(g.isPolar){var H=e.cache.get(f);if(H){var lt=g.isTransposed?e.getCircleAxisCfg(a,u,it.CIRCLE):e.getLineAxisCfg(a,u,it.RADIUS);ti(lt,ca),H.component.update(lt),t.set(f,H)}else{if(g.isTransposed){if((0,l.isUndefined)(u))return;H=e.createCircleAxis(a,u,c,it.CIRCLE,h)}else H=e.createLineAxis(a,u,c,it.RADIUS,h);e.cache.set(f,H),t.set(f,H)}var pt=e.cache.get(p);if(pt){var lt=g.isTransposed?e.getLineGridCfg(a,u,it.CIRCLE,h):e.getCircleGridCfg(a,u,it.RADIUS,h);ti(lt,ca),pt.component.update(lt),t.set(p,pt)}else{if(g.isTransposed){if((0,l.isUndefined)(u))return;pt=e.createLineGrid(a,u,c,it.CIRCLE,h)}else pt=e.createCircleGrid(a,u,c,it.RADIUS,h);pt&&(e.cache.set(p,pt),t.set(p,pt))}}}}})},i.prototype.createLineAxis=function(t,e,n,a,o){var s={component:new ie(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===it.RADIUS?it.NONE:a,type:nt.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},i.prototype.createLineGrid=function(t,e,n,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var u={component:new Kt(s),layer:n,direction:it.NONE,type:nt.GRID,extra:{dim:o,scale:t,alignTick:(0,l.get)(s,"alignTick",!0)}};return u.component.init(),u}},i.prototype.createCircleAxis=function(t,e,n,a,o){var s={component:new zt(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:nt.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},i.prototype.createCircleGrid=function(t,e,n,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var u={component:new ne(s),layer:n,direction:it.NONE,type:nt.GRID,extra:{dim:o,scale:t,alignTick:(0,l.get)(s,"alignTick",!0)}};return u.component.init(),u}},i.prototype.getLineAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=Je(o,n),u=zr(t,e),c=wi(this.view.getTheme(),n),h=(0,l.get)(e,["title"])?(0,l.deepMix)({title:{style:{text:u}}},e):e,f=(0,l.deepMix)((0,x.__assign)((0,x.__assign)({container:a},s),{ticks:t.getTicks().map(function(Ft){return{id:""+Ft.tickValue,name:Ft.text,value:Ft.value}}),verticalFactor:o.isPolar?or(s,o.getCenter())*-1:or(s,o.getCenter())}),c,h),p=this.getAnimateCfg(f),g=p.animate,_=p.animateOption;f.animateOption=_,f.animate=g;var H=Li(s),lt=(0,l.get)(f,"verticalLimitLength",H?1/3:1/2);if(lt<=1){var pt=this.view.getCanvas().get("width"),wt=this.view.getCanvas().get("height");f.verticalLimitLength=lt*(H?pt:wt)}return f},i.prototype.getLineGridCfg=function(t,e,n,a){if(!!yc(wi(this.view.getTheme(),n),e)){var o=gc(this.view.getTheme(),n),s=(0,l.deepMix)({container:this.gridContainer},o,(0,l.get)(e,"grid"),this.getAnimateCfg(e));return s.items=Go(this.view.getCoordinate(),t,a,(0,l.get)(s,"alignTick",!0)),s}},i.prototype.getCircleAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(H){return{id:""+H.tickValue,name:H.text,value:H.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var u=zr(t,e),c=wi(this.view.getTheme(),it.CIRCLE),h=(0,l.get)(e,["title"])?(0,l.deepMix)({title:{style:{text:u}}},e):e,f=(0,l.deepMix)((0,x.__assign)((0,x.__assign)({container:a},yr(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),c,h),p=this.getAnimateCfg(f),g=p.animate,_=p.animateOption;return f.animate=g,f.animateOption=_,f},i.prototype.getCircleGridCfg=function(t,e,n,a){if(!!yc(wi(this.view.getTheme(),n),e)){var o=gc(this.view.getTheme(),it.RADIUS),s=(0,l.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,l.get)(e,"grid"),this.getAnimateCfg(e)),u=(0,l.get)(s,"alignTick",!0),c=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=sl(this.view.getCoordinate(),c,t,u,a),s}},i.prototype.getId=function(t,e){var n=this.view.getCoordinate();return t+"-"+e+"-"+n.type},i.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,l.get)(t,"animate"),animateOption:t&&t.animateOption?(0,l.deepMix)({},mc,t.animateOption):mc}},i}(Ke),sx=ox;function Yo(r,i,t){return t===it.TOP?[r.minX+r.width/2-i.width/2,r.minY]:t===it.BOTTOM?[r.minX+r.width/2-i.width/2,r.maxY-i.height]:t===it.LEFT?[r.minX,r.minY+r.height/2-i.height/2]:t===it.RIGHT?[r.maxX-i.width,r.minY+r.height/2-i.height/2]:t===it.TOP_LEFT||t===it.LEFT_TOP?[r.tl.x,r.tl.y]:t===it.TOP_RIGHT||t===it.RIGHT_TOP?[r.tr.x-i.width,r.tr.y]:t===it.BOTTOM_LEFT||t===it.LEFT_BOTTOM?[r.bl.x,r.bl.y-i.height]:t===it.BOTTOM_RIGHT||t===it.RIGHT_BOTTOM?[r.br.x-i.width,r.br.y-i.height]:[0,0]}function lx(r,i){if(i.isTransposed)switch(r){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return r}function xc(r){return r===DIRECTION.LEFT?DIRECTION.RIGHT:r===DIRECTION.RIGHT?DIRECTION.LEFT:r}function bc(r){return r===DIRECTION.TOP?DIRECTION.BOTTOM:r===DIRECTION.BOTTOM?DIRECTION.TOP:r}function ux(r,i){var t=i.matrix[0],e=i.matrix[4],n=r;return t<0&&(n=xc(n)),e<0&&(n=bc(n)),n}function cx(r,i){var t=r;return i.isReflect("x")&&(t=xc(t)),i.isReflect("y")&&(t=bc(t)),t}function wI(r,i){var t=r;return t=lx(t,i),t=ux(t,i),t=cx(t,i),t}function wc(r,i,t){if(!r)return t;var e;if(r.callback&&r.callback.length>1){var n=Array(r.callback.length-1).fill("");e=r.mapping.apply(r,(0,x.__spreadArrays)([i],n)).join("")}else e=r.mapping(i).join("");return e||t}function Cc(r){var i=r.symbol;(0,l.isString)(i)&&Pa[i]&&(r.symbol=Pa[i])}function ll(r){return r.startsWith(it.LEFT)||r.startsWith(it.RIGHT)?"vertical":"horizontal"}function hx(r,i,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=i.getAttribute("color"),u=i.getAttribute("shape"),c=r.getTheme().defaultColor,h=i.coordinate.isPolar;return a.getTicks().map(function(f){var p,g=f.text,_=f.value,H=g,lt=a.invert(_),pt=r.filterFieldData(o,[(p={},p[o]=lt,p)]).length===0,wt=wc(s,lt,c),Ft=wc(u,lt,"point"),Dt=i.getShapeMarker(Ft,{color:wt,isInPolar:h});return Dt=(0,l.deepMix)({},e,Dt,n),Cc(Dt),{id:lt,name:H,value:lt,marker:Dt,unchecked:pt}})}return[]}function fx(r,i,t){return t.map(function(e){var n=(0,l.deepMix)({},r,i,e.marker);return Cc(n),e.marker=n,e})}function Sc(r,i){return(0,l.isBoolean)(r)?r===!1?!1:{}:(0,l.get)(r,[i],r)}function lo(r){return(0,l.get)(r,"position",it.BOTTOM)}var vx=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this,t)||this;return e.container=e.view.getLayer(W.FORE).addGroup(),e}return Object.defineProperty(i.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),i.prototype.init=function(){},i.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(s,u,c){var h=t.createFieldLegend(s,u,c);h&&(h.component.init(),t.components.push(h))};if((0,l.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=W.FORE,o=lo(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:nt.LEGEND,extra:void 0})}}else this.loopLegends(e)},i.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=(0,l.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,l.each)(this.components,function(n){var a=n.component,o=n.direction,s=ll(o),u=t.getCategoryLegendSizeCfg(s),c=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(u.maxWidth,c||0),maxHeight:Math.min(u.maxHeight,h||0)});var f=a.getLayoutBBox(),p=new Nr(f.x,f.y,f.width,f.height),g=Yo(t.view.viewBBox,p,o),_=g[0],H=g[1],lt=Yo(t.layoutBBox,p,o),pt=lt[0],wt=lt[1],Ft=0,Dt=0;o.startsWith("top")||o.startsWith("bottom")?(Ft=_,Dt=wt):(Ft=pt,Dt=H),o.indexOf("left")>=0&&(Ft+=e[3]),o.indexOf("right")>=0&&(Ft-=e[1]),o.indexOf("top")>=0&&(Dt+=e[0]),o.indexOf("bottom")>=0&&(Dt-=e[2]),a.update({x:Ft,y:Dt}),t.layoutBBox=t.layoutBBox.cut(p,o)})},i.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(p,g,_){var H=t.getId(_.field),lt=t.getComponentById(H);if(lt){var pt=void 0,wt=Sc(t.option,_.field);wt!==!1&&((0,l.get)(wt,"custom")?pt=t.getCategoryCfg(p,g,_,wt,!0):_.isLinear?pt=t.getContinuousCfg(p,g,_,wt):_.isCategory&&(pt=t.getCategoryCfg(p,g,_,wt))),pt&&(ti(pt,["container"]),lt.direction=lo(wt),lt.component.update(pt),e[H]=!0)}else{var Ft=t.createFieldLegend(p,g,_);Ft&&(Ft.component.init(),t.components.push(Ft),e[H]=!0)}};if((0,l.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);ti(s,["container"]),o.component.update(s),e[a]=!0}else{var u=this.createCustomLegend(void 0,void 0,void 0,this.option);if(u){u.init();var c=W.FORE,h=lo(this.option);this.components.push({id:a,component:u,layer:c,direction:h,type:nt.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(n);var f=[];(0,l.each)(this.getComponents(),function(p){e[p.id]?f.push(p):p.component.destroy()}),this.components=f},i.prototype.clear=function(){r.prototype.clear.call(this),this.container.clear()},i.prototype.destroy=function(){r.prototype.destroy.call(this),this.container.remove(!0)},i.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,l.each)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},i.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var n=this.getGeometries(this.view),a={};(0,l.each)(n,function(o){var s=o.getGroupAttributes();(0,l.each)(s,function(u){var c=u.getScale(u.type);!c||c.type==="identity"||a[c.field]||(t(o,u,c),a[c.field]=!0)})})}},i.prototype.createFieldLegend=function(t,e,n){var a,o=Sc(this.option,n.field),s=W.FORE,u=lo(o);if(o!==!1&&((0,l.get)(o,"custom")?a=this.createCustomLegend(t,e,n,o):n.isLinear?a=this.createContinuousLegend(t,e,n,o):n.isCategory&&(a=this.createCategoryLegend(t,e,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:u,type:nt.LEGEND,extra:{scale:n}}},i.prototype.createCustomLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a,!0);return new Te(o)},i.prototype.createContinuousLegend=function(t,e,n,a){var o=this.getContinuousCfg(t,e,n,a);return new ke(o)},i.prototype.createCategoryLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a);return new Te(o)},i.prototype.getContinuousCfg=function(t,e,n,a){var o=n.getTicks(),s=(0,l.find)(o,function(H){return H.value===0}),u=(0,l.find)(o,function(H){return H.value===1}),c=o.map(function(H){var lt=H.value,pt=H.tickValue,wt=e.mapping(n.invert(lt)).join("");return{value:pt,attrValue:wt,color:wt,scaleValue:lt}});s||c.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),u||c.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),c.sort(function(H,lt){return H.value-lt.value});var h={min:(0,l.head)(c).value,max:(0,l.last)(c).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(h.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(h.colors=c.map(function(H){return H.attrValue}));var f=this.container,p=lo(a),g=ll(p),_=(0,l.get)(a,"title");return _&&(_=(0,l.deepMix)({text:Ge(n)},_)),h.container=f,h.layout=g,h.title=_,h.animateOption=Gr,this.mergeLegendCfg(h,a,"continuous")},i.prototype.getCategoryCfg=function(t,e,n,a,o){var s=this.container,u=(0,l.get)(a,"position",it.BOTTOM),c=(0,l.get)(this.view.getTheme(),["components","legend",u,"marker"]),h=(0,l.get)(a,"marker"),f=ll(u),p=o?fx(c,h,a.items):hx(this.view,t,e,c,h),g=(0,l.get)(a,"title");g&&(g=(0,l.deepMix)({text:n?Ge(n):""},g));var _=this.getCategoryLegendSizeCfg(f);_.container=s,_.layout=f,_.items=p,_.title=g,_.animateOption=Gr;var H=this.mergeLegendCfg(_,a,u);H.reversed&&H.items.reverse();var lt=(0,l.get)(H,"maxItemWidth");return lt&&lt<=1&&(H.maxItemWidth=this.view.viewBBox.width*lt),H},i.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],o=(0,l.get)(this.view.getTheme(),["components","legend",a],{});return(0,l.deepMix)({},o,t,e)},i.prototype.getId=function(t){return this.name+"-"+t},i.prototype.getComponentById=function(t){return(0,l.find)(this.components,function(e){return e.id===t})},i.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,a=e.height;return t==="vertical"?{maxWidth:n*ce,maxHeight:a}:{maxWidth:n,maxHeight:a*ce}},i}(Ke),px=vx,dx=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this,t)||this;return e.onValueChanged=function(n){var a=n[0],o=n[1];e.updateMinMaxText(a,o),e.view.render(!0)},e.container=e.view.getLayer(W.FORE).addGroup(),e}return Object.defineProperty(i.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),i.prototype.init=function(){},i.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},i.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new Nr(e.x,e.y,Math.min(e.width,t),e.height),a=Yo(this.view.viewBBox,n,it.BOTTOM),o=a[0],s=a[1],u=Yo(this.view.coordinateBBox,n,it.BOTTOM),c=u[0],h=u[1];this.slider.component.update({x:c,y:s,width:t})}},i.prototype.update=function(){this.render()},i.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new Zt.Slider((0,x.__assign)({container:this.container},t));return e.init(),{component:e,layer:W.FORE,direction:it.BOTTOM,type:nt.OTHER}},i.prototype.updateSlider=function(){var t=this.getSliderCfg();return ti(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},i.prototype.getSliderCfg=function(){if((0,l.isObject)(this.option)){var t=(0,x.__assign)({data:this.getData()},(0,l.get)(this.option,"trendCfg",{})),e=0,n=0,a=this.view.coordinateBBox.width,o=(0,l.deepMix)({},{x:e,y:n,width:a},this.option);return(0,x.__assign)((0,x.__assign)({},o),{trendCfg:t})}return{}},i.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(u,c){return c[o]===s[0]&&u.push(c[e.field]),u},[])}return t.map(function(u){return u[e.field]||0})},i.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,l.size)(n);if(!(!a||!o)){var s=a.field,u=n.reduce(function(H,lt){return H.includes(lt[s])||H.push(lt[s]),H},[]),c=(0,l.size)(u),h=Math.floor(t*(c-1)),f=Math.floor(e*(c-1)),p=(0,l.get)(u,[h]),g=(0,l.get)(u,[f]),_=this.getSliderCfg().formatter;_&&(p=_(p,n[h],h),g=_(g,n[f],f)),this.slider.component.update({minText:p,maxText:g,start:t,end:e}),this.view.filter(a.field,function(H,lt){var pt=u.indexOf(H);return pt>-1?bi(pt,h,f):!0})}},i.prototype.getComponents=function(){return this.slider?[this.slider]:[]},i}(Ke),gx=dx;function yx(r){for(var i=[],t=function(n){var a=r[n],o=(0,l.find)(i,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||i.push(a)},e=0;e<r.length;e++)t(e);return i}var mx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(i.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),i.prototype.init=function(){},i.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},i.prototype.render=function(){},i.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};e.emit("tooltip:show",(0,x.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),u=s.follow,c=s.showMarkers,h=s.showCrosshairs,f=s.showContent,p=s.marker,g=this.items,_=this.title;if(!(0,l.isEqual)(_,a)||!(0,l.isEqual)(g,n)?(e.emit("tooltip:change",(0,x.__assign)({items:n,title:a},t)),f&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,l.mix)({},s,{items:n,title:a},u?t:{})),this.tooltip.show()),c&&this.renderTooltipMarkers(n,p)):(this.tooltip&&u&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var H=(0,l.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(H?t:o,s)}}},i.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},i.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},i.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},i.prototype.isTooltipLocked=function(){return this.isLocked},i.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},i.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},i.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},i.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=(0,l.flatten)(e);for(var n=0,a=e;n<a.length;n++)for(var o=a[n],s=0,u=o;s<u.length;s++){var c=u[s],h=c.mappingData,f=h.x,p=h.y;c.x=(0,l.isArray)(f)?f[f.length-1]:f,c.y=(0,l.isArray)(p)?p[p.length-1]:p}var g=this.getTooltipCfg().shared;if(g===!1&&e.length>1){for(var _=e[0],H=Math.abs(t.y-_[0].y),lt=0,pt=e;lt<pt.length;lt++){var wt=pt[lt],Ft=Math.abs(t.y-wt[0].y);Ft<=H&&(_=wt,H=Ft)}e=[_]}return yx((0,l.flatten)(e))}return[]},i.prototype.layout=function(){},i.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},i.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),a=(0,l.get)(n,["components","tooltip"],{}),o=(0,l.isUndefined)((0,l.get)(e,"enterable"))?a.enterable:(0,l.get)(e,"enterable");return(0,l.deepMix)({},a,e,{capture:!!(o||this.isLocked)})},i.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},i.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new Se((0,x.__assign)((0,x.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},i.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],u=s.x,c=s.y,h=(0,x.__assign)((0,x.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:u,y:c});n.addShape("marker",{attrs:h})}},i.prototype.renderCrosshairs=function(t,e){var n=(0,l.get)(e,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):n==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},i.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!Wr(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=qi(n,t),u=n.getCenter(),c=n.getRadius();o=fe(u.x,u.y,c,s),a=u}var h=(0,l.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,l.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete h.type;var f=this.xCrosshair;f?f.update(h):(f=new Zt.Crosshair.Line(h),f.init()),f.render(),f.show(),this.xCrosshair=f}},i.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!Wr(n,t)){var a,o;if(n.isRect){var s=void 0,u=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},u={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},u={x:n.end.x,y:t.y}),a={start:s,end:u},o="Line"}else a={center:n.getCenter(),radius:hi(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,l.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,l.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete a.type;var c=this.yCrosshair;c?n.isRect&&c.get("type")==="circle"||!n.isRect&&c.get("type")==="line"?(c=new Zt.Crosshair[o](a),c.init()):c.update(a):(c=new Zt.Crosshair[o](a),c.init()),c.render(),c.show(),this.yCrosshair=c}},i.prototype.getCrosshairsText=function(t,e,n){var a=(0,l.get)(n,["crosshairs","text"]),o=(0,l.get)(n,["crosshairs","follow"]),s=this.items;if(a){var u=this.getViewWithGeometry(this.view),c=s[0],h=u.getXScale(),f=u.getYScales()[0],p=void 0,g=void 0;if(o){var _=this.view.getCoordinate().invert(e);p=h.invert(_.x),g=f.invert(_.y)}else p=c.data[h.field],g=c.data[f.field];var H=t==="x"?p:g;return(0,l.isFunction)(a)?a=a(t,H,s,e):a.content=H,{text:a}}},i.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},i.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},i.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},i.prototype.getTooltipItemsByHitShape=function(t,e,n){var a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var u=s.get("origin").mappingData,c=Rt(u,t,n);c.length&&a.push(c)}return a},i.prototype.getTooltipItemsByFindData=function(t,e,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,u=o;s<u.length;s++){var c=u[s],h=Lt(e,c,t);if(h){var f=t.getElementId(h),p=t.elementsMap[f];if(t.type==="heatmap"||p.visible){var g=Rt(h,t,n);g.length&&a.push(g)}}}return a},i.prototype.findItemsFromView=function(t,e){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,u=o.title,c=0,h=a;c<h.length;c++){var f=h[c];if(f.visible&&f.tooltipOption!==!1){var p=f.type,g=void 0;["point","edge","polygon"].includes(p)?g=this.getTooltipItemsByHitShape(f,e,u):["area","line","path","heatmap"].includes(p)?g=this.getTooltipItemsByFindData(f,e,u):s!==!1?g=this.getTooltipItemsByFindData(f,e,u):g=this.getTooltipItemsByHitShape(f,e,u),g.length&&n.push(g)}}for(var _=0,H=t.views;_<H.length;_++){var lt=H[_];n=n.concat(this.findItemsFromView(lt,e))}return n},i.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,l.find)(t.views,function(n){return e.getViewWithGeometry(n)})},i}(Ke),xx=mx,bx=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!(0,l.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],u=t.geometries;if((0,l.each)(u,function(fi){if(fi.type==="interval"||fi.type==="schema"){var xi=fi.getElementsBy(function(er){var Mr=er.getData();return Mr[a]===o});s=s.concat(xi)}}),s.length){var c=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),f=s[0].shape.getCanvasBBox(),p=h;(0,l.each)(s,function(fi){var xi=fi.shape.getCanvasBBox();c.isTransposed?(xi.minY<h.minY&&(h=xi),xi.maxY>f.maxY&&(f=xi)):(xi.minX<h.minX&&(h=xi),xi.maxX>f.maxX&&(f=xi)),p.x=Math.min(xi.minX,p.minX),p.y=Math.min(xi.minY,p.minY),p.width=Math.max(xi.maxX,p.maxX)-p.x,p.height=Math.max(xi.maxY,p.maxY)-p.y});var g=t.backgroundGroup,_=t.coordinateBBox,H=void 0;if(c.isRect){var lt=t.getXScale(),pt=lt.isLinear?0:.25,wt=void 0,Ft=void 0,Dt=void 0,te=void 0;c.isTransposed?(wt=_.minX,Ft=Math.min(f.minY,h.minY)-pt*f.height,Dt=_.width,te=p.height+pt*2*f.height):(wt=Math.min(h.minX,f.minX)-pt*h.width,Ft=Math.min(_.minY,h.minY),Dt=p.width+pt*2*h.width,te=_.height),H=[["M",wt,Ft],["L",wt+Dt,Ft],["L",wt+Dt,Ft+te],["L",wt,Ft+te],["Z"]]}else{var ye=(0,l.head)(s),Oe=(0,l.last)(s),Re=_e(ye.getModel(),c).startAngle,we=_e(Oe.getModel(),c).endAngle,Xe=c.getCenter(),$e=c.getRadius(),Mi=c.innerRadius*$e;H=be(Xe.x,Xe.y,$e,Re,we,Mi)}this.regionPath?(this.regionPath.attr("path",H),this.regionPath.show()):this.regionPath=g.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:H,fill:"#CCD6EC",opacity:.3}})}}},i.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},i.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),r.prototype.destroy.call(this)},i}(Ci),wx=bx,Cx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return i.prototype.show=function(){var t=this.context,e=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var u=this.location,c={x:e.x,y:e.y};(!u||!(0,l.isEqual)(u,c))&&this.showTooltip(n,c),this.timeStamp=s,this.location=c}}},i.prototype.hide=function(){var t=this.context.view,e=t.isTooltipLocked();e||(this.hideTooltip(t),this.location=null)},i.prototype.showTooltip=function(t,e){t.showTooltip(e)},i.prototype.hideTooltip=function(t){t.hideTooltip()},i}(Ci),Mc=Cx,Sx=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.showTooltip=function(t,e){var n=Dr(t);(0,l.each)(n,function(a){var o=Yn(t,a,e);a.showTooltip(o)})},i.prototype.hideTooltip=function(t){var e=Dr(t);(0,l.each)(e,function(n){n.hideTooltip()})},i}(Mc),Mx=Sx,Ax=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return i.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},i.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,l.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},i.prototype.hide=function(){this.hideTooltip(),this.location=null},i.prototype.showTooltip=function(t){var e=this.context,n=e.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,x.__assign)({title:o},t)),this.tooltip.show()}},i.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},i.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},a=t.getTheme(),o=(0,l.get)(a,["components","tooltip","domStyles"],{}),s=new Se({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},i}(Ci),_x=Ax,Tx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="",t}return i.prototype.hasState=function(t){return t.hasState(this.stateName)},i.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},i.prototype.setState=function(){this.setStateEnable(!0)},i.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},i.prototype.clearViewState=function(t){var e=this,n=Ln(t,this.stateName);(0,l.each)(n,function(a){e.setElementState(a,!1)})},i}(Ci),ul=Tx;function Ac(r){return(0,l.get)(r.get("delegateObject"),"item")}var Lx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return i.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,a=n.filter(function(o){return e.hasState(t,o)});return!!a.length},i.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,o=t.get("field"),s=Bi(a);this.setElementsStateByItem(s,o,e,n)},i.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},i.prototype.isMathItem=function(t,e,n){var a=this.context.view,o=cn(a,e),s=lr(t,e);return!(0,l.isNil)(s)&&n.name===o.getText(s)},i.prototype.setElementsStateByItem=function(t,e,n,a){var o=this;(0,l.each)(t,function(s){o.isMathItem(s,e,n)&&s.setState(o.stateName,a)})},i.prototype.setStateEnable=function(t){var e=Lr(this.context);if(e)Tn(this.context)&&this.setStateByElement(e,t);else{var n=sn(this.context);if(yn(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Ac(s.fromShape)===Ac(s.toShape))return;this.setStateByComponent(o,a,t)}}}},i.prototype.toggle=function(){var t=Lr(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},i.prototype.reset=function(){this.setStateEnable(!1)},i}(ul),cl=Lx,Ex=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return i.prototype.active=function(){this.setState()},i}(cl),Px=Ex,Ox=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.cache={},t}return i.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},i.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},i.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},i.prototype.linkByElement=function(t){var e=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=lr(t,a.field);if(!this.cache[o]){var s=Rn(n,a.field,o),u=this.linkGroup,c=u.addGroup();this.cache[o]=c;var h=s.length;(0,l.each)(s,function(f,p){if(p<h-1){var g=s[p+1];e.addLinkShape(c,f,g)}})}}},i.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var n=lr(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},i.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=Lr(t);e&&this.linkByElement(e)},i.prototype.unlink=function(){var t=Lr(this.context);t&&this.removeLink(t)},i.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},i.prototype.destroy=function(){r.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},i}(Ci),Ix=Ox,Bx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return i.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},i.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},i.prototype.getIntersectElements=function(){var t=null;if(Cr(this.context))t=ln(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},o=this.context.view;t=xn(o,a)}return t},i.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=Bi(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},i.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,o=Dr(a),s=t.map(function(h){return h.getModel().data}),u=a.getXScale().field,c=a.getYScales()[0].field;(0,l.each)(o,function(h){var f=Bi(h),p=f.filter(function(g){var _=g.getModel().data;return un(s,_,u,c)});n.setElementsState(p,e,f)})},i.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,a=Dr(n);Cr(this.context)&&(0,l.each)(a,function(o){var s=Bi(o),u=mn(e.context,o,10);u&&u.length?e.setElementsState(u,t,s):e.clearViewState(o)})},i.prototype.setElementsState=function(t,e,n){var a=this;(0,l.each)(n,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},i.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},i.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=Dr(e);(0,l.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},i}(ul),hl=Bx,kx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return i.prototype.active=function(){this.setState()},i}(hl),Fx=kx,Dx=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.setStateEnable=function(t){var e=Lr(this.context);if(e){if(!Tn(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},i.prototype.toggle=function(){var t=Lr(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},i.prototype.reset=function(){this.setStateEnable(!1)},i}(ul),fl=Dx,Rx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return i.prototype.active=function(){this.setState()},i}(fl),Nx=Rx,uo="inactive",co="active";function vl(r){var i=Bi(r);(0,l.each)(i,function(t){t.hasState(co)&&t.setState(co,!1),t.hasState(uo)&&t.setState(uo,!1)})}function _c(r,i,t){(0,l.each)(r,function(e){i(e)?(e.hasState(uo)&&e.setState(uo,!1),e.setState(co,t)):(e.hasState(co)&&e.setState(co,!1),e.setState(uo,t))})}var Oa=yt.INACTIVE,Un=yt.ACTIVE,Gx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=Un,t}return i.prototype.setElementsStateByItem=function(t,e,n,a){var o=this,s=function(u){return o.isMathItem(u,e,n)};this.setHighlightBy(t,s,a)},i.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Oa)&&t.setState(Oa,!1),t.setState(Un,!0)):t.hasState(Un)||t.setState(Oa,!0)},i.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,l.each)(t,function(u){a.setElementHighlight(u,e)});else{var o=Ln(this.context.view,Un),s=!0;(0,l.each)(o,function(u){if(!e(u))return s=!1,!1}),s?this.clear():(0,l.each)(t,function(u){e(u)&&(u.hasState(Un)&&u.setState(Un,!1),u.setState(Oa,!0))})}},i.prototype.setElementState=function(t,e){var n=this.context.view,a=Bi(n);this.setHighlightBy(a,function(o){return t===o},e)},i.prototype.highlight=function(){this.setState()},i.prototype.clear=function(){var t=this.context.view;vl(t)},i}(cl),pl=Gx,Yx=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=lr(t,o.field),u=Bi(n),c=u.filter(function(h){return lr(h,o.field)===s});this.setHighlightBy(u,function(h){return c.includes(h)},e)}},i}(pl),Xx=Yx,jx=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Oa)&&t.setState(Oa,!1),t.setState(Un,!0)):(t.setState(Oa,!0),t.hasState(Un)&&t.setState(Un,!1))},i.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),o=lr(t,a.field),s=Bi(n),u=s.filter(function(c){return lr(c,a.field)===o});this.setHighlightBy(s,function(c){return u.includes(c)},e)},i.prototype.toggle=function(){var t=Lr(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},i}(pl),Hx=jx,Vx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return i.prototype.clearViewState=function(t){vl(t)},i.prototype.highlight=function(){this.setState()},i.prototype.setElementsState=function(t,e,n){_c(n,function(a){return t.indexOf(a)>=0},e)},i}(hl),Tc=Vx,zx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return i.prototype.highlight=function(){this.setState()},i.prototype.setElementState=function(t,e){var n=this.context.view,a=Bi(n);_c(a,function(o){return t===o},e)},i.prototype.clear=function(){var t=this.context.view;vl(t)},i}(fl),Wx=zx,Zx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return i.prototype.selected=function(){this.setState()},i}(hl),Ux=Zx,$x=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return i.prototype.selected=function(){this.setState()},i}(cl),Kx=$x,Qx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return i.prototype.selected=function(){this.setState()},i}(fl),qx=Qx,Jx=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return i.prototype.getTriggerListInfo=function(){var t=sn(this.context),e=null;return yn(t)&&(e={item:t.item,list:t.component}),e},i.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=Nn(e),a=[];return(0,l.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},i.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},i.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,l.each)(e,function(n){n.clearItemsState(t.stateName)})},i.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=cn(a,e);return o&&o.isCategory},i.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return e.hasState(t,o)});return a.length===0}return!0},i.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),o=this.context.view,s=cn(o,a),u=lr(e,a),c=s.getText(u);this.setItemsState(t,c,n)},i.prototype.setStateEnable=function(t){var e=this,n=Lr(this.context);if(n){var a=this.getAllowComponents();(0,l.each)(a,function(c){e.setStateByElement(c,n,t)})}else{var o=sn(this.context);if(yn(o)){var s=o.item,u=o.component;this.allowSetStateByElement(u)&&this.allowSetStateByItem(s,u)&&this.setItemState(u,s,t)}}},i.prototype.setItemsState=function(t,e,n){var a=this,o=t.getItems();(0,l.each)(o,function(s){s.name===e&&a.setItemState(t,s,n)})},i.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},i.prototype.setState=function(){this.setStateEnable(!0)},i.prototype.reset=function(){this.setStateEnable(!1)},i.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},i.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},i}(Ci),Xo=Jx,tb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return i.prototype.active=function(){this.setState()},i}(Xo),eb=tb,Lc="inactive",Ec="active";function ib(r){var i=r.getItems();(0,l.each)(i,function(t){r.hasState(t,Ec)&&r.setItemState(t,Ec,!1),r.hasState(t,Lc)&&r.setItemState(t,Lc,!1)})}var ho="inactive",Ia="active",rb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=Ia,t.ignoreItemStates=["unchecked"],t}return i.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},i.prototype.setItemState=function(t,e,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===e},n)},i.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,l.each)(a,function(u){e(u)?(t.hasState(u,ho)&&t.setItemState(u,ho,!1),t.setItemState(u,Ia,!0)):t.hasState(u,Ia)||t.setItemState(u,ho,!0)});else{var o=t.getItemsByState(Ia),s=!0;(0,l.each)(o,function(u){if(!e(u))return s=!1,!1}),s?this.clear():(0,l.each)(a,function(u){e(u)&&(t.hasState(u,Ia)&&t.setItemState(u,Ia,!1),t.setItemState(u,ho,!0))})}},i.prototype.highlight=function(){this.setState()},i.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)ib(t.list);else{var e=this.getAllowComponents();(0,l.each)(e,function(n){n.clearItemsState(Ia),n.clearItemsState(ho)})}},i}(Xo),dl=rb,nb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return i.prototype.selected=function(){this.setState()},i}(Xo),ab=nb,ob=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="unchecked",t}return i.prototype.unchecked=function(){this.setState()},i}(Xo),sb=ob,lb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return i.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},i.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,a=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},i.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,x.__assign)({fill:"#C5D4EB",opacity:.3},e)});return n},i.prototype.getMaskPath=function(){return[]},i.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},i.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},i.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},i.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,o=this.points;(0,l.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},i.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},i.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},i.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},i.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},i.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},i.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,r.prototype.destroy.call(this)},i}(Ci),gl=lb,ub=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="circle",t}return i.prototype.getMaskAttrs=function(){var t=this.points,e=(0,l.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=Gn(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:n}},i}(gl),cb=ub,hb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="rect",t}return i.prototype.getRegion=function(){var t=this.points;return{start:(0,l.head)(t),end:(0,l.last)(t)}},i.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end,a=Math.min(e.x,n.x),o=Math.min(e.y,n.y),s=Math.abs(n.x-e.x),u=Math.abs(n.y-e.y);return{x:a,y:o,width:s,height:u}},i}(gl),Pc=hb;function Oc(r){r.x=(0,l.clamp)(r.x,0,1),r.y=(0,l.clamp)(r.y,0,1)}var fb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return i.prototype.getRegion=function(){var t=null,e=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,l.head)(n)),u=o.invert((0,l.last)(n));return this.inPlot&&(Oc(s),Oc(u)),a==="x"?(t=o.convert({x:s.x,y:0}),e=o.convert({x:u.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:u.y})),{start:t,end:e}},i}(Pc),Ic=fb,vb=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,l.each)(t,function(n,a){a===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},i.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},i.prototype.addPoint=function(){this.resize()},i}(gl),Bc=vb,pb=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getMaskPath=function(){var t=this.points;return wa(t,!0)},i}(Bc),db=pb,gb=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},i.prototype.default=function(){this.setCursor("default")},i.prototype.pointer=function(){this.setCursor("pointer")},i.prototype.move=function(){this.setCursor("move")},i.prototype.crosshair=function(){this.setCursor("crosshair")},i.prototype.wait=function(){this.setCursor("wait")},i.prototype.help=function(){this.setCursor("help")},i.prototype.text=function(){this.setCursor("text")},i.prototype.eResize=function(){this.setCursor("e-resize")},i.prototype.wResize=function(){this.setCursor("w-resize")},i.prototype.nResize=function(){this.setCursor("n-resize")},i.prototype.sResize=function(){this.setCursor("s-resize")},i.prototype.neResize=function(){this.setCursor("ne-resize")},i.prototype.nwResize=function(){this.setCursor("nw-resize")},i.prototype.seResize=function(){this.setCursor("se-resize")},i.prototype.swResize=function(){this.setCursor("sw-resize")},i.prototype.nsResize=function(){this.setCursor("ns-resize")},i.prototype.ewResize=function(){this.setCursor("ew-resize")},i}(Ci),yb=gb,mb=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,l.each)(t.views,function(o){a.filterView(o,e,n)})},i.prototype.filter=function(){var t=sn(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(yn(t)){if(a){var o=n.getItemsByState("unchecked"),s=cn(e,a),u=o.map(function(p){return p.name});u.length?this.filterView(e,a,function(p){var g=s.getText(p);return!u.includes(g)}):this.filterView(e,a,null),e.render(!0)}}else if(Dn(t)){var c=n.getValue(),h=c[0],f=c[1];this.filterView(e,a,function(p){return p>=h&&p<=f}),e.render(!0)}}},i}(Ci),xb=mb;function kc(r,i,t,e){var n=Math.min(t[i],e[i]),a=Math.max(t[i],e[i]),o=r.range,s=o[0],u=o[1];if(n<s&&(n=s),a>u&&(a=u),n===u&&a===u)return null;var c=r.invert(n),h=r.invert(a);if(r.isCategory){var f=r.values.indexOf(c),p=r.values.indexOf(h),g=r.values.slice(f,p+1);return function(_){return g.includes(_)}}else return function(_){return _>=c&&_<=h}}var bb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return i.prototype.hasDim=function(t){return this.dims.includes(t)},i.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},i.prototype.filter=function(){var t,e;if(Cr(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context.view,s=o.getCoordinate(),u=s.invert(e),c=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),f=kc(h,"x",u,c);this.filterView(o,h.field,f)}if(this.hasDim("y")){var p=o.getYScales()[0],f=kc(p,"y",u,c);this.filterView(o,p.field,f)}this.reRender(o)}},i.prototype.end=function(){this.isStarted=!1},i.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},i.prototype.filterView=function(t,e,n){t.filter(e,n)},i.prototype.reRender=function(t){t.render(!0)},i}(Ci),jo=bb,wb=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.filterView=function(t,e,n){var a=Dr(t);(0,l.each)(a,function(o){o.filter(e,n)})},i.prototype.reRender=function(t){var e=Dr(t);(0,l.each)(e,function(n){n.render(!0)})},i}(jo),yl=wb,Cb=function(r){(0,x.__extends)(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.filter=function(){var t=sn(this.context),e=this.context.view,n=Bi(e);if(Cr(this.context)){var a=ln(this.context,10);a&&(0,l.each)(n,function(_){a.includes(_)?_.show():_.hide()})}else if(t){var o=t.component,s=o.get("field");if(yn(t)){if(s){var u=o.getItemsByState("unchecked"),c=cn(e,s),h=u.map(function(_){return _.name});(0,l.each)(n,function(_){var H=lr(_,s),lt=c.getText(H);h.indexOf(lt)>=0?_.hide():_.show()})}}else if(Dn(t)){var f=o.getValue(),p=f[0],g=f[1];(0,l.each)(n,function(_){var H=lr(_,s);H>=p&&H<=g?_.show():_.hide()})}}},i.prototype.clear=function(){var t=Bi(this.context.view);(0,l.each)(t,function(e){e.show()})},i.prototype.reset=function(){this.clear()},i}(Ci),Sb=Cb,Mb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.byRecord=!1,t}return i.prototype.filter=function(){Cr(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},i.prototype.filterByRecord=function(){var t=this.context.view,e=ln(this.context,10);if(!!e){var n=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(u){return u.getModel().data}),s=Dr(t);(0,l.each)(s,function(u){var c=Bi(u);(0,l.each)(c,function(h){var f=h.getModel().data;un(o,f,n,a)?h.show():h.hide()})})}},i.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=Dr(e);(0,l.each)(n,function(a){var o=mn(t.context,a,10),s=Bi(a);o&&(0,l.each)(s,function(u){o.includes(u)?u.show():u.hide()})})},i.prototype.reset=function(){var t=Dr(this.context.view);(0,l.each)(t,function(e){var n=Bi(e);(0,l.each)(n,function(a){a.show()})})},i}(Ci),Fc=Mb,Ab=10,_b=5,Tb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return i.prototype.getButtonCfg=function(){return(0,l.deepMix)(this.buttonCfg,this.cfg)},i.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,x.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=U(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,x.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},i.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=Pi.transform(null,[["t",n.x-o.width-Ab,n.y+o.height+_b]]);a.setMatrix(s)},i.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},i.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},i.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),r.prototype.destroy.call(this)},i}(Ci),Lb=Tb,Eb=4,Pb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return i.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},i.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):Gn(t,this.startPoint)>Eb&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},i.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},i}(Ci),Ob=Pb,Ib=5,Bb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return i.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},i.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=Gn(t,e);if(n>Ib&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=Pi.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},i.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},i.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},i}(Ci),kb=Bb,Dc="x",Rc="y",Fb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.dims=[Dc,Rc],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return i.prototype.hasDim=function(t){return this.dims.includes(t)},i.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},i.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},i.prototype.reset=function(){this.resetDim(Dc),this.resetDim(Rc);var t=this.context.view;t.render(!0)},i}(Ci),Nc=Fb,Db=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return i.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,l.each)(e,function(n){var a=t.getScale(n),o=a.min,s=a.max,u=a.values;t.startCache[n]={min:o,max:s,values:u}})},i.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},i.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(e),s=n.invert(a),u=s.x-o.x,c=s.y-o.y,h=this.context.view,f=this.dims;(0,l.each)(f,function(p){t.translateDim(p,{x:u*-1,y:c*-1})}),h.render(!0)}},i.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},i.prototype.translateLinear=function(t,e,n){var a=this.context.view,o=this.startCache[t],s=o.min,u=o.max,c=u-s,h=n[t]*c;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:u}),a.scale(e.field,{nice:!1,min:s+h,max:u+h})},i.prototype.reset=function(){r.prototype.reset.call(this),this.startPoint=null,this.starting=!1},i}(Nc),Rb=Db,Nb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.zoomRatio=.05,t}return i.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},i.prototype.zoom=function(t){var e=this,n=this.dims;(0,l.each)(n,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},i.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},i.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},i.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,u=e.min,c=e.max,h=n*s,f=u-h,p=c+h,g=p-f,_=g/s;p>f&&_<100&&_>.01&&a.scale(e.field,{nice:!1,min:u-h,max:c+h})},i}(Nc),Gb=Nb;na("dark",ra(Sg)),me("canvas",K),me("svg",Z),he("Polygon",Qm),he("Interval",Hm),he("Schema",Jm),he("Path",qs),he("Point",Um),he("Line",zm),he("Area",km),he("Edge",Dm),he("Heatmap",Gm),Ao("base",ks),Ao("interval",g0),Ao("pie",x0),Ao("polar",uc),Xa("overlap",P0),Xa("distribute",w0),Xa("fixed-overlap",E0),Xa("limit-in-shape",A0),Xa("limit-in-canvas",M0),Xa("pie-outer",S0),ji("fade-in",O0),ji("fade-out",I0),ji("grow-in-x",k0),ji("grow-in-xy",D0),ji("grow-in-y",F0),ji("scale-in-x",G0),ji("scale-in-y",Y0),ji("wave-in",H0),ji("zoom-in",V0),ji("zoom-out",z0),ji("position-update",N0),ji("sector-path-update",j0),ji("path-in",R0),Ki("rect",ex),Ki("mirror",J0),Ki("list",$0),Ki("matrix",Q0),Ki("circle",Z0),Ki("tree",rx),ae("axis",sx),ae("legend",px),ae("tooltip",xx),ae("annotation",ax),ae("slider",gx),St("tooltip",Mc),St("sibling-tooltip",Mx),St("ellipsis-text",_x),St("element-active",Px),St("element-single-active",Nx),St("element-range-active",Fx),St("element-highlight",pl),St("element-highlight-by-x",Hx),St("element-highlight-by-color",Xx),St("element-single-highlight",Wx),St("element-range-highlight",Tc),St("element-sibling-highlight",Tc,{effectSiblings:!0,effectByRecord:!0}),St("element-selected",Kx),St("element-single-selected",qx),St("element-range-selected",Ux),St("element-link-by-color",Ix),St("active-region",wx),St("list-active",eb),St("list-selected",ab),St("list-highlight",dl),St("list-unchecked",sb),St("legend-item-highlight",dl,{componentNames:["legend"]}),St("axis-label-highlight",dl,{componentNames:["axis"]}),St("rect-mask",Pc),St("x-rect-mask",Ic,{dim:"x"}),St("y-rect-mask",Ic,{dim:"y"}),St("circle-mask",cb),St("path-mask",Bc),St("smooth-path-mask",db),St("cursor",yb),St("data-filter",xb),St("brush",jo),St("brush-x",jo,{dims:["x"]}),St("brush-y",jo,{dims:["y"]}),St("sibling-filter",yl),St("sibling-x-filter",yl),St("sibling-y-filter",yl),St("element-filter",Sb),St("element-sibling-filter",Fc),St("element-sibling-filter-record",Fc,{byRecord:!0}),St("view-drag",Ob),St("view-move",kb),St("scale-translate",Rb),St("scale-zoom",Gb),St("reset-button",Lb,{name:"reset-button",text:"reset"});function ha(r){return r.isInPlot()}Si("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Si("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Si("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Si("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Si("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Si("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Si("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Si("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Si("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Si("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Si("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Si("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(r){return!r.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(r){return!r.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Si("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ha,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ha,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ha,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Si("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Si("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ha,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ha,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ha,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Si("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ha,action:"path-mask:start"},{trigger:"mousedown",isEnable:ha,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Si("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Si("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),Si("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Si("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Si("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Si("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function Gc(r){return r.gEvent.preventDefault(),r.gEvent.originalEvent.deltaY>0}Si("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(r){return Gc(r.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(r){return!Gc(r.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Si("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var Yb={translate:Bs,rotate:yu,zoom:yg,transform:_o,getAngle:_e,polarToCartesian:fe},Ho=function(){function r(i){this.EVENT="gesture",this.gm=i}return r.prototype.do=function(i){var t=i.type;switch(t){case"touchstart":this.onTouchStart(i);break;case"touchmove":this.onTouchMove(i);break;case"touchend":this.onTouchEnd(i);break;case"touchcancel":this.onTouchCancel(i);break;default:return}},r.prototype.emit=function(i){this.gm.emit(this.EVENT,i)},r}(),Xb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.EVENT="pan",t}return i.prototype.onTouchCancel=function(t){},i.prototype.onTouchEnd=function(t){},i.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=e-this.preX,o=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:a,deltaY:o,event:t})},i.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},i}(Ho),fa=typeof performance=="object"&&performance.now?performance:Date,jb=300,Yc=10,Hb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.EVENT="press",t}return i.prototype.onTouchCancel=function(t){this.clearTimeout()},i.prototype.onTouchEnd=function(t){this.clearTimeout()},i.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>Yc||n-this.touchStartY>Yc)&&this.clearTimeout()},i.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=fa.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:a,event:t})},jb)},i.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},i}(Ho),Vb=100,zb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return i.prototype.onTouchCancel=function(t){},i.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(fa.now()-this.latestMoveTime<Vb){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:e,speedY:n,event:t})}},i.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=fa.now(),o=e-this.preX,s=n-this.preY,u=a-this.ms;this.speedX=o/u,this.speedY=s/u,this.latestMoveTime=a},i.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=fa.now()},i}(Ho),Wb=300,Xc=2,Zb=function(r){(0,x.__extends)(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.EVENT="tap",t}return i.prototype.onTouchCancel=function(t){},i.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<Xc&&n-this.touchStartY<Xc&&fa.now()-this.touchStartTime<Wb&&this.emit({x:e,y:n,event:t})},i.prototype.onTouchMove=function(t){},i.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=fa.now(),this.touchStartX=e,this.touchStartY=n},i}(Ho),Ub={Pan:Xb,Press:Hb,Swipe:zb,Tap:Zb},$b=function(r){return Ub[r]},jc=function(r){(0,x.__extends)(i,r);function i(t,e){e===void 0&&(e={});var n=r.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}return i.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},i.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map(function(n){var a=$b(n);return new a(t)})},i.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},i.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},i.prototype.doGestures=function(t){this.gestures.forEach(function(e){e.do(t)})},i}(Pt.default),Kb=S(68716),Qb=Kb.yD,qb=800,Jb="swipe",t1="pan",Hc="wheel",e1=function(r){(0,x.__extends)(i,r);function i(t){var e=r.call(this)||this;return e.rafMs=0,e.onPan=function(n){e.raf&&cancelAnimationFrame(e.raf);var a=n.deltaX,o=n.deltaY,s=e.getWrapperEvent(n,a,o);e.emit(Hc,s)},e.onSwipe=function(n){var a=n.speedX,o=n.speedY;e.rafMs=fa.now(),e.ms=e.rafMs,(a!==0||o!==0)&&e.rafInertia(n)},e.element=t,e.gm=new jc(t,{gestures:["Pan","Swipe"]}),e.gm.on(Jb,e.onSwipe),e.gm.on(t1,e.onPan),e}return i.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},i.prototype.rafInertia=function(t){var e=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=fa.now(),s=(o-e.ms)/qb;if(s<1){s=Qb(1-s);var u=o-e.rafMs,c=n*s*u,h=a*s*u,f=e.getWrapperEvent(t,c,h);e.emit(Hc,f),e.rafMs=o,e.rafInertia(t)}})},i.prototype.getWrapperEvent=function(t,e,n){return(0,x.__assign)((0,x.__assign)({},t),{deltaX:-e,deltaY:-n})},i}(Pt.default),di=S(29583),Vc=S(64815),i1=S(6750),CI=S(61058),r1=S(31882),va=S(27978),SI=S(38700),n1=S(88373),Ba=S(55225);ae("gesture",J.Z);var Ur="origin",fo="_origin",zc=1e3,Wc=60*zc,Zc=60*Wc,Vo=24*Zc,a1=Vo*7,o1=Vo*30,s1=Vo*365,l1={second:{value:zc,format:"HH:mm:ss"},miniute:{value:Wc,format:"HH:mm"},hour:{value:Zc,format:"HH"},day:{value:Vo,format:"YYYY-MM-DD"},week:{value:a1,format:"YYYY-MM-DD"},month:{value:o1,format:"YYYY-MM"},year:{value:s1,format:"YYYY"}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ml=function(i,t){return ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},ml(i,t)};function qt(r,i){ml(r,i);function t(){this.constructor=r}r.prototype=i===null?Object.create(i):(t.prototype=i.prototype,new t)}var Vt=function(){return Vt=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Vt.apply(this,arguments)};function Uc(r,i){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&i.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(r);n<e.length;n++)i.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(r,e[n])&&(t[e[n]]=r[e[n]]);return t}function MI(r,i,t,e){var n=arguments.length,a=n<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,i,t,e);else for(var s=r.length-1;s>=0;s--)(o=r[s])&&(a=(n<3?o(a):n>3?o(i,t,a):o(i,t))||a);return n>3&&a&&Object.defineProperty(i,t,a),a}function AI(r,i){return function(t,e){i(t,e,r)}}function _I(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)}function TI(r,i,t,e){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(h){try{c(e.next(h))}catch(f){o(f)}}function u(h){try{c(e.throw(h))}catch(f){o(f)}}function c(h){h.done?a(h.value):n(h.value).then(s,u)}c((e=e.apply(r,i||[])).next())})}function LI(r,i){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(h){return u([c,h])}}function u(c){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,n&&(a=c[0]&2?n.return:c[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,c[1])).done)return a;switch(n=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,n=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=i.call(r,t)}catch(h){c=[6,h],n=0}finally{e=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function EI(r,i,t,e){e===void 0&&(e=t),r[e]=i[t]}function PI(r,i){for(var t in r)t!=="default"&&!i.hasOwnProperty(t)&&(i[t]=r[t])}function $c(r){var i=typeof Symbol=="function"&&Symbol.iterator,t=i&&r[i],e=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&e>=r.length&&(r=void 0),{value:r&&r[e++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function u1(r,i){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var e=t.call(r),n,a=[],o;try{for(;(i===void 0||i-- >0)&&!(n=e.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(t=e.return)&&t.call(e)}finally{if(o)throw o.error}}return a}function OI(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(u1(arguments[i]));return r}function zo(){for(var r=0,i=0,t=arguments.length;i<t;i++)r+=arguments[i].length;for(var e=Array(r),n=0,i=0;i<t;i++)for(var a=arguments[i],o=0,s=a.length;o<s;o++,n++)e[n]=a[o];return e}function Wo(r){return this instanceof Wo?(this.v=r,this):new Wo(r)}function II(r,i,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t.apply(r,i||[]),n,a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(p){e[p]&&(n[p]=function(g){return new Promise(function(_,H){a.push([p,g,_,H])>1||s(p,g)})})}function s(p,g){try{u(e[p](g))}catch(_){f(a[0][3],_)}}function u(p){p.value instanceof Wo?Promise.resolve(p.value.v).then(c,h):f(a[0][2],p)}function c(p){s("next",p)}function h(p){s("throw",p)}function f(p,g){p(g),a.shift(),a.length&&s(a[0][0],a[0][1])}}function BI(r){var i,t;return i={},e("next"),e("throw",function(n){throw n}),e("return"),i[Symbol.iterator]=function(){return this},i;function e(n,a){i[n]=r[n]?function(o){return(t=!t)?{value:Wo(r[n](o)),done:n==="return"}:a?a(o):o}:a}}function kI(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],t;return i?i.call(r):(r=typeof $c=="function"?$c(r):r[Symbol.iterator](),t={},e("next"),e("throw"),e("return"),t[Symbol.asyncIterator]=function(){return this},t);function e(a){t[a]=r[a]&&function(o){return new Promise(function(s,u){o=r[a](o),n(s,u,o.done,o.value)})}}function n(a,o,s,u){Promise.resolve(u).then(function(c){a({value:c,done:s})},o)}}function FI(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r}function DI(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(i[t]=r[t]);return i.default=r,i}function RI(r){return r&&r.__esModule?r:{default:r}}function NI(r,i){if(!i.has(r))throw new TypeError("attempted to get private field on non-instance");return i.get(r)}function GI(r,i,t){if(!i.has(r))throw new TypeError("attempted to set private field on non-instance");return i.set(r,t),t}var Zo=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],c1=[],h1={axis:"axis-label",label:"label",legend:"legend-item"},f1={title:"title",description:"description",breadcrumb:"breadcrumb"},Kc=(0,l.deepMix)(vr(f1),xl("Plot",Zo)),Qc=xl("Layer",Zo),ui=(0,l.deepMix)({},vr(h1),xl("View",Zo),v1());function Ui(r,i,t){r.view.on(i,function(e){var n={x:e==null?void 0:e.x,y:e==null?void 0:e.y,clientX:e==null?void 0:e.clientX,clientY:e==null?void 0:e.clientY,target:e==null?void 0:e.target,data:(e==null?void 0:e.data)?e.data.data:null,plot:r,canvas:r.canvas,gEvent:e==null?void 0:e.gEvent};t(n)})}function vr(r){var i={};return(0,l.each)(r,function(t,e){var n=(0,l.upperFirst)(e),a="on"+n,o=t+":";(0,l.each)(Zo,function(s){var u=(0,l.upperFirst)(s),c=""+a+u,h=""+o+s;i[c]=h})}),i}function xl(r,i){var t={},e="on";return(0,l.each)(i,function(n){var a=(0,l.upperFirst)(n),o=""+e+r+a;t[o]=n}),t}function v1(){var r={},i="on";return(0,l.each)(c1,function(t){var e=(0,l.upperFirst)(t),n=""+i+e;r[n]=t}),r}var p1=S(85800),d1=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.fromBBoxObject=function(t){return new i(t.x,t.y,t.width,t.height)},i}(p1.BBox),Qe=d1,g1=function(r){qt(i,r);function i(t){var e=r.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}return i.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},i.prototype.updateConfig=function(t){this.options=(0,l.deepMix)({},this.options,t),this.processOptions(this.options)},i.prototype.beforeInit=function(){return null},i.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},i.prototype.afterInit=function(){return null},i.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},i.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},i.prototype.destroy=function(){var t=this;this.eachLayer(function(e){e.destroy()}),(0,l.each)(this.eventHandlers,function(e){t.off(e.eventName,e.handler)}),this.container.remove(!0),this.destroyed=!0},i.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},i.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},i.prototype.addLayer=function(t){var e=(0,l.findIndex)(this.layers,function(n){return n===t});e<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},i.prototype.removeLayer=function(t){var e=(0,l.findIndex)(this.layers,function(n){return n===t});e>=0&&this.layers.splice(e,1)},i.prototype.updateBBox=function(t,e){e===void 0&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,l.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},i.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},i.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},i.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new Qe(t.x,t.y,this.width,this.height)},i.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:e,height:n};return(0,l.deepMix)({},a,t)},i.prototype.eachLayer=function(t){(0,l.each)(this.layers,t)},i.prototype.parseEvents=function(t){var e=this,n=(0,l.keys)(Qc);(0,l.each)(t,function(a,o){if((0,l.contains)(n,o)&&(0,l.isFunction)(a)){var s=Qc[o]||o,u=a;e.on(s,u),e.eventHandlers.push({name:s,handler:u})}})},i.prototype.getLayerBBox=function(){return new Qe(this.x,this.y,this.width,this.height)},i.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/e,u=(this.x+this.width-n)/t,c=(this.y+this.height-a)/e;return{start:{x:o,y:s},end:{x:u,y:c}}}return{start:{x:0,y:0},end:{x:1,y:1}}},i}(Pt.default),Uo=g1;function Ha(r){return r?!!(r.visible===!0&&typeof r.text=="string"&&r.text.trim()):!1}function qc(r,i){var t=zo(r);return i.forEach(function(e,n){t.splice(e+n,0,`
`)}),t.join("")}function y1(r){return r.getComponents().filter(function(i){return i.type===di.COMPONENT_TYPE.AXIS}).map(function(i){return i.component})}function m1(r){return r.getComponents().filter(function(i){return i.type===di.COMPONENT_TYPE.LEGEND}).map(function(i){return i.component})}function YI(r){var i=r.backgroundGroup.findAll(function(t){if(t.get("name")){var e=t.get("name").split("-");return e[0]==="axis"}});return i}function XI(r){var i=r.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return i}function x1(r,i){for(var t=r.length;t>0&&!(i>=r[t-1]);)t-=1;return t}function Jc(r,i){return!(r.maxY<i.minY||i.maxY<r.minY||r.maxX<i.minX||i.maxX<r.minX)}function jI(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var b1=function(){function r(i){this.position="top",this.destroyed=!1,(0,l.assign)(this,i),this.init()}return r.prototype.getBBox=function(){var i=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return Qe.fromBBoxObject(t);var e=this.plot.theme.description.padding;return(0,l.isArray)(e)&&(0,l.each)(e,function(n,a){typeof e[a]=="function"&&(e[a]=e[a](i.plot.options.legend.position))}),new Qe(t.maxX,t.minY,t.width,t.height)}return null},r.prototype.clear=function(){this.shape&&this.shape.attr("text","")},r.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},r.prototype.init=function(){var i=this.textWrapper(),t=this.getPosition(),e=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,l.mix)({x:e,y:n,text:i},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},r.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},r.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},r.prototype.textWrapper=function(){var i=this.wrapperWidth,t=this.style,e=this.text,n=this.container.addShape("text",{attrs:Vt({text:"",x:0,y:0},t)}),a=e.split(`
`),o=a.map(function(s){for(var u="",c=s.split(""),h=[],f=0;f<c.length;f++){var p=c[f];n.attr("text",u+=p);var g=n.getBBox().width-1;if(g>i){if(f===0)break;h.push(f),u=""}}return qc(c,h)});return n.remove(),o.join(`
`)},r}(),$o=b1,w1=function(r){qt(i,r);function i(t){var e=r.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}return i.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},i.prototype.getGroup=function(){return this.group},i.prototype.getConfig=function(){return this.config},i.prototype.getBBox=function(){return this.getGroup().getBBox()},i.prototype.clear=function(){this.group.clear()},i.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},i.prototype.update=function(t){this.config=Vt(Vt({},this.config),t),this.initConfig(this.config)},i.prototype.destroy=function(){(0,l.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},i.prototype.initGroup=function(){this.group=this.container.addGroup()},i.prototype.getCanvas=function(){return this.container.get("canvas")},i.prototype.addDisposable=function(t){this.disposables.push(t)},i.prototype.initConfig=function(t){},i}(Pt.default),vo=w1,C1=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return i.prototype.getGeometry=function(){return this.geometry},i.prototype.getLabels=function(){return this.labels},i.prototype.show=function(){this.container.show()},i.prototype.hide=function(){this.container.hide()},i.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,l.deepMix)(this.getDefaultOptions(),t.label);var a=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(di.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(di.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},i.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},(0,l.each)(this.geometry.elements,function(s,u){var c=[].concat(e.drawLabelItem(t,s,u));(0,l.each)(c,function(h,f){e.adjustLabel(h,s,f),h.destroyed||(e.labels.push(h),e.labelsCfgMap[h.get("id")]=(0,l.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,va.getDefaultAnimateCfg)("label",this.coord):!1;(0,l.each)(a,function(s,u){var c=t.findById(u);if(c)if(n[u]){var h=n[u],f=(0,l.get)(o,"update");f&&(c.stopAnimate(),c.attr(h),(0,va.doAnimate)(c,f,{toAttrs:Vt({},s),coordinate:e.coord}))}else{var p=(0,l.get)(o,"appear");p&&(c.stopAnimate(),(0,va.doAnimate)(c,p,{toAttrs:Vt({},c.attr()),coordinate:e.coord}))}delete n[u]}),(0,l.each)(n,function(s,u){var c=(0,l.get)(o,"leave");if(c){var h=t.addShape("text",{attrs:s,id:u,name:"label"});h.stopAnimate(),(0,va.doAnimate)(h,c,{toAttrs:null,coordinate:e.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},i.prototype.drawLabelText=function(t,e,n){return n===void 0&&(n={}),t.addShape("text",Vt({attrs:e},n))},i.prototype.drawLabelItem=function(t,e,n){var a=this,o=e.getModel(),s=[].concat(this.getLabelItemAttrs(e,n)),u=this.getDefaultOffset(),c=this.getLabelOffset();return(0,l.map)(s,function(h,f){var p,g={x:h.x+c.x,y:h.y+c.y},_=(0,l.isArray)(o.mappingData)?o.mappingData[f]:o.mappingData,H=a.getLabelId(_);return a.drawLabelText(t,Vt(Vt({},h),g),(p={id:H,name:"label",offset:u,element:e},p[Ur]=_,p))})},i.prototype.getDefaultOffset=function(){return Number(this.options.offset)},i.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:(0,l.isNumber)(e)?e:0,y:(0,l.isNumber)(n)?n:0}},i.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),u={x:0,y:0};return u[t]=s*e,(0,l.isNumber)(a)&&(u.x+=a),(0,l.isNumber)(o)&&(u.y+=o),u},i.prototype.getDefaultOptions=function(){return{}},i.prototype.layoutLabels=function(t,e){},i.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+e[a.field]:n==="path"&&(s+=" "+e[a.field]+"-"+e[o.field]),s},i.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new Qe(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},i}(vo),bl=C1,th={};function Yr(r,i){th[r]=i}function S1(r){return th[r]}var wl=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return function(t,e,n){return r.reduce(function(a,o){return o(a,e,n)},t)}},Cl=function(){return function(r){return r}},eh=function(r){return function(i){var t=Number(i);return isNaN(t)||(0,l.isNil)(r)?i:t.toFixed(r)}},ih=function(r){return function(i){return(0,l.isNil)(r)?i:i+" "+r}};function Sl(r,i,t){r[t]&&(i[t]=r[t])}var M1=function(){function r(i){this.config=!1,this.plot=i.plot,this.dim=i.dim,this.init()}return r.prototype.init=function(){this.config=!1;var i=this.plot.getPlotTheme();this.themeConfig=i&&i.axis&&i.axis[this.dim],this._needDraw()&&this._styleParser()},r.prototype._styleParser=function(){this.config=Vt({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,Sl(this.localProps,this.config,"autoHideLabel"),Sl(this.localProps,this.config,"autoRotateLabel"),Sl(this.localProps,this.config,"autoRotateTitle")},r.prototype._needDraw=function(){var i=this.plot.options,t=i[this.dim+"Axis"]?i[this.dim+"Axis"]:{},e=(0,l.deepMix)({},this.themeConfig,t);return this.localProps=e,!!e.visible},r.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},r.prototype._gridParser=function(){var i=this,t,e,n,a,o,s=(e=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||e===void 0?void 0:e.style,u=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,c=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,l.isFunction)(s)?this.config.grid=function(h,f,p){var g=s(h,f,p);return{line:{type:u,style:(0,l.deepMix)({},(0,l.get)(i.themeConfig,"grid.line.style"),g)},alternateColor:c}}:s&&(this.config.grid={line:{type:u,style:s},alternateColor:c},this.applyThemeConfig("grid"))},r.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},r.prototype._labelParser=function(){var i=this.localProps.label,t=i.style,e=Uc(i,["style"]),n=Vt({},e);t&&(n.style=Vt({},this.localProps.label.style)),n.style=(0,l.deepMix)({},(0,l.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},r.prototype._titleParser=function(){var i=Vt({},this.localProps.title),t=this.localProps.title,e=t.visible,n=t.style,a=t.text;e?(this.config.showTitle=!0,n&&(i.style=n),i.style=(0,l.deepMix)({},(0,l.get)(this.config,"title.style"),i.textStyle),a&&(i.text=a)):this.config.showTitle=!1,this.config.title=i},r.prototype._isVisible=function(i){return!!(this.localProps[i]&&this.localProps[i].visible)},r.prototype.applyThemeConfig=function(i){this.config[i]=(0,l.deepMix)({},(0,l.get)(this.themeConfig,i+".style"),this.config[i])},r.prototype.parseFormatter=function(i){var t=wl(Cl(),eh(i.precision),ih(i.suffix));return i.formatter&&(t=wl(t,i.formatter)),t},r}(),A1=M1;function Ko(r){var i=0;return each(r,function(t){i+=t*t}),Math.sqrt(i)}function Ml(r,i){return r.x*i.y+r.y*i.x}function HI(r,i){var t=Ko(r),e=Ko(i),n=Ml(r,i),a=Math.acos(n/t/e);return a}function VI(r,i){var t=Ko(r),e=Ko(i),n=Ml(r,i),a=Math.acos(n/t/e);return t*e*Math.sin(a)}function zI(r,i){var t=r.x,e=r.y,n=r.z,a=i.x,o=i.y,s=i.z,u=e*s-n*o,c=n*a-t*s,h=t*o-e*a;return{x:u,y:c,z:h}}function WI(r,i){return{x:r.x-i.x,y:r.y-i.y}}function Qo(r,i,t){t===void 0&&(t=1);var e=[r.x,r.y,t];return Fu.transformMat3(e,e,i),{x:e[0],y:e[1]}}function rh(r,i,t){return r>=i&&r<=t}var _1=.001;function ZI(r,i,t,e){var n={x:t.x-r.x,y:t.y-r.y},a={x:i.x-r.x,y:i.y-r.y},o={x:e.x-t.x,y:e.y-t.y},s=a.x*o.y-a.y*o.x,u=s*s,c=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,f=null;if(u>_1*c*h){var p=(n.x*o.y-n.y*o.x)/s,g=(n.x*a.y-n.y*a.x)/s;rh(p,0,1)&&rh(g,0,1)&&(f={x:r.x+p*a.x,y:r.y+p*a.y})}return f}function T1(r,i){for(var t=!1,e=0,n=i.length-1;e<i.length;n=e++){var a=i[e].x,o=i[e].y,s=i[n].x,u=i[n].y,c=o>r.y!=u>r.y&&r.x<=(s-a)*(r.y-o)/(u-o)+a;c&&(t=!t)}return t}function qo(r){return r*r}function Jo(r,i){return Math.sqrt(qo(r.x-i.x)+qo(r.y-i.y))}function nh(r,i){return Math.sqrt(qo(r.x-i.x)+qo(r.y-i.y))}function ah(r,i,t){var e=Jo(i,t);if(e===0)return Jo(r,i);var n=((r.x-i.x)*(t.x-i.x)+(r.y-i.y)*(t.y-i.y))/e;n=Math.max(0,Math.min(1,n));var a=Jo(r,{x:i.x+n*(t.x-i.x),y:i.y+n*(t.y-i.y)});return Math.sqrt(a)}function oh(r,i){var t=Infinity;(0,l.each)(i,function(h){var f=Math.sqrt(Jo(h,r));t>f&&(t=f)});for(var e=0,n=i.length-1;e<i.length;n=e++){var a=i[e].x,o=i[e].y,s=i[n].x,u=i[n].y,c=ah(r,{x:a,y:o},{x:s,y:u});t>c&&(t=c)}return t}function L1(r,i){for(var t=0,e=r;t<e.length;t++){var n=e[t],a=T1(n,i);if(a)return!0}return!1}function sh(r,i){if(L1(r,i))return 0;var t=Infinity,e=Infinity;return(0,l.each)(r,function(n){var a=oh(n,i);t>a&&(t=a)}),(0,l.each)(i,function(n){var a=oh(n,r);e>a&&(e=a)}),Math.min(t,e)}function E1(r){var i=r.getBBox(),t=i.minX,e=i.minY,n=i.maxX-i.minX,a=i.maxY-i.minY,o=r.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var u=Qo({x:0,y:0},s);u.x+=t,u.y+=e;var c=Qo({x:n,y:0},s);c.x+=t,c.y+=e;var h=Qo({x:0,y:a},s);h.x+=t,h.y+=e;var f=Qo({x:n,y:a},s);f.x+=t,f.y+=e;var p=[u,c,h,f];p.sort(function(Re,we){return Re.y-we.y});var g=p[0].y,_=p[p.length-1].y,H=[p[0],p[1]],lt=[p[2],p[3]],pt=H[0].x<H[1].x?H[0]:H[1],wt=H[0].x<H[1].x?H[1]:H[0],Ft=lt[0].x<lt[1].x?lt[0]:lt[1],Dt=lt[0].x<lt[1].x?lt[1]:lt[0];p.sort(function(Re,we){return Re.x-we.x});var te=p[0].x,ye=p[p.length-1].x,Oe={width:ye-te,height:_-g,left:te,right:ye,top:g,bottom:_,topLeft:pt,topRight:wt,bottomLeft:Ft,bottomRight:Dt,centerX:te+(ye-te)/2,centerY:g+(_-g)/2};return Oe}var P1=2;function Al(r){return r.length<5?r:_l(r,P1)}function _l(r,i){for(var t,e=-Infinity,n=0,a=r.length-1,o=1;o<a;o++){var s=r[o],u={start:r[0],end:r[a]},c=ah(s,u.start,u.end);c>e&&(e=c,n=o)}if(e>i){var h=_l(r.slice(0,n+1),i),f=_l(r.slice(n,r.length),i);t=h.concat(f)}else t=[r[0],r[r.length-1]];return t}function lh(r){var i=(0,l.clone)(r);i.sort(function(e,n){return e-n});var t=Math.floor(i.length/2);return i.length%2?i[t]:(i[t-1]+i[t])/2}function O1(r){var i=0;return(0,l.each)(r,function(t){i+=t}),i/r.length}function uh(r){return Math.ceil(Math.log(r.length)/Math.LN2)+1}function I1(r,i,t,e,n){n===void 0&&(n=2);for(var a=[],o=r;o<=r+t;o+=n)a.push([o,i]);for(var s=i;s<=i+e;s+=n)a.push([r+t,s]);for(var o=r+t;o>=r;o-=n)a.push([o,i+e]);for(var s=i+e;s>=i;s-=n)a.push([r,s]);return a}var B1=function(){function r(i){(0,l.assign)(this,i),this._init()}return r.prototype._init=function(){var i=this.plot.options,t=i.yField,e=i.data,n=this.plot.processData(e);if(!((0,l.isEmpty)(n)||!(0,l.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,l.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,l.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),u=this.getYScale(),c=(1-u.scale(s))*100+"%",h=["0%",c],f=["100%",c];this.config=(0,l.mix)({start:h,end:f},o)}else{var p=this.cfg,g=p.start,_=p.end;this.config=(0,l.clone)(o);var H=this.getXScale(),lt=this.getYScale(),pt=(0,l.clone)(g),wt=(0,l.clone)(_);(0,l.each)(g,function(Ft,Dt){(!(0,l.contains)((0,l.toArray)(g[Dt]),"%")||(0,l.isNumber)(g[Dt]))&&(Dt===0?pt[Dt]=H.scale(g[0])*100+"%":pt[Dt]=(1-lt.scale(g[1]))*100+"%")}),(0,l.each)(_,function(Ft,Dt){(!(0,l.contains)((0,l.toArray)(_[Dt]),"%")||(0,l.isNumber)(_[Dt]))&&(Dt===0?wt[Dt]=H.scale(_[0])*100+"%":wt[Dt]=(1-lt.scale(_[1]))*100+"%")}),this.config.start=pt,this.config.end=wt}}},r.prototype.getYScale=function(){var i=this._getState("min"),t=this._getState("max"),e=(0,$t.getScale)("linear"),n=new e((0,l.mix)({},{min:this.plot.type==="column"?0:i,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},r.prototype.getXScale=function(){var i=this.extractXValue();if((0,l.isString)(i[0])){var t=(0,$t.getScale)("cat"),e=new t((0,l.mix)({},{values:i},this.plot.config.scales[this.plot.options.xField]));return e}else{var n=Math.min.apply(Math,i),a=Math.max.apply(Math,i),t=(0,$t.getScale)("linear"),e=new t((0,l.mix)({},{min:n,max:a,nice:!0,values:i},this.plot.config.scales[this.plot.options.xField]));return e}},r.prototype._getState=function(i){if(this.values=this._extractValues(),i==="median")return lh(this.values);if(i==="mean")return O1(this.values);if(i==="max")return Math.max.apply(Math,this.values);if(i==="min")return Math.min.apply(Math,this.values)},r.prototype._extractValues=function(){var i=this.plot.options,t=i.yField,e=[],n=this.plot.processData(i.data);return(0,l.each)(n,function(a){(0,l.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},r.prototype.extractXValue=function(){var i=this.plot.options,t=i.xField,e=[],n=this.plot.processData(i.data);return(0,l.each)(n,function(a){(0,l.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},r.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},r.prototype.getDefaultTextAlign=function(){var i=this.cfg.text;if(i){if(!i.position||i.position==="start")return"left";if(i.position==="center")return"center";if(i.position==="end")return"right"}},r}(),k1=B1,F1=function(){function r(i){this.config={};var t=i.plot,e=Uc(i,["plot"]);this.plot=t,this.originConfig=e,this.init(i)}return r.prototype.getConfig=function(){return this.config},r.prototype.init=function(i){var t=this;(0,l.assign)(this.config,i),this.config.callback=function(e){return t.parseCallBack(e)}},r.prototype.parseCallBack=function(i){var t=this.originConfig,e=this.plot.getPlotTheme(),n=Vt({},t);return this.parseOffset(t,n),t.position&&((0,l.isFunction)(t.position)?n.position=t.position(i):n.position=t.position),this.parseFormatter(n),t.style&&((0,l.isFunction)(t.style)?n.textStyle=t.style(i):n.textStyle=t.style),n.textStyle=(0,l.deepMix)({},(0,l.get)(e,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},r.prototype.parseOffset=function(i,t){var e=["offset","offsetX","offsetY"],n=0;(0,l.each)(e,function(a){(0,l.has)(i,a)&&(t[a]=i[a],n++)}),n===0&&(0,l.get)(i,"position")==="middle"&&(t.offset=0)},r.prototype.parseFormatter=function(i){var t=this.originConfig;i.content=function(e,n){var a=e[t.fields[0]];return wl(Cl(),eh(t.precision),ih(t.suffix),t.formatter?t.formatter:Cl())(a,e,n)}},r}(),D1=F1,ka,Tl;function ch(r,i){ka||hh(r),(0,l.each)(ka,function(t){var e=fh(t,i),n=e.labelData,a=e.con;if(vh(n,a)){var o=Y1();t.shape.attr(o)}})}function R1(r,i){ka||hh(r),(0,l.each)(ka,function(t,e){var n=fh(t,i),a=n.labelData,o=n.con;if(vh(a,o)){var s=Tl[e],u=G1(s);t.shape.attr(u)}})}function hh(r){var i;ka=[],Tl=[];var t=(i=r.view.getController("axis"))===null||i===void 0?void 0:i.getComponents();(0,l.each)(t,function(e){var n=e.component,a=[],o=N1(r,n),s=n.get("labelRenderer").get("group").get("children");if((0,l.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),Tl.push(h.attr()))}),o){var u=o.ticks,c=o.field;(0,l.each)(a,function(h,f){h.value=u[f],h.scaleField=c,h.type=o.type})}ka.push.apply(ka,a)})}function N1(r,i){var t=r.options,e="y",n=i.get("position");(n==="bottom"||n==="top")&&(e="x");var a=t[e+"Field"];return r.view.get("scales")[a]}function fh(r,i){var t,e=(t={},t[r.scaleField]=r.value,t),n=(0,l.clone)(i);return r.type==="time"&&(0,l.isObject)(i)&&!(0,l.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:e,con:n}}function G1(r){var i=r.opacity||1;return{opacity:i*.2}}function Y1(){return{opacity:1,fontWeight:600,fill:"red"}}function vh(r,i){if(!(0,l.isFunction)(i)){var t=i.name,e=i.exp;return r[t]?(0,l.isFunction)(e)?e(r[t]):r[t]===e:!1}return i(r)}var X1={active:ch,selected:ch,disable:R1},j1=function(r){qt(i,r);function i(){var t=r.call(this)||this;return t._states={},t._stateStack={},t}return i.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},i.prototype.getState=function(t){return this._states[t]},i.prototype.getAllStates=function(){return this._states},i.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},i.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,l.each)(e,function(n,a){var o=e[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},i.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},i}(Pt.default),H1=j1;function $n(r,i){if(!(0,l.isFunction)(i)){var t=i.name,e=i.exp;return(0,l.isFunction)(e)?e(r[t]):r[t]===e}return i(r)}var V1=function(){function r(i){this.shapeContainers=[],(0,l.assign)(this,i)}return r.prototype.createStateManager=function(){this.stateManager=new H1},r.prototype.bindStateManager=function(i,t){this.stateManager=i,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},r.prototype.defaultStates=function(i){var t=this;(0,l.each)(i,function(e,n){var a=e.condition,o=e.related;t.setState({type:n,condition:a,related:o})})},r.prototype.setState=function(i){var t=this,e=i.type,n=i.condition,a=i.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,l.each)(this.shapes,function(o,s){var u=o.get("origin").data,c=(0,l.isArray)(u)?u[0]:u;if($n(c,n)){var h=i.style?i.style:t._getDefaultStateStyle(e,o),f=t.originAttrs[s],p=void 0;(0,l.isFunction)(h)?p=h(f):p=(0,l.mix)({},f,h),o.attr(p),t.setZIndex(e,o)}}),a&&this._parserRelated(e,a,n),this.plot.canvas.draw()},r.prototype._updateStateProcess=function(i){var t=this;(0,l.each)(i,function(e){var n=e.state,a;(0,l.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},e.event?Ui(t.plot,t._eventParser(e.event),a):a()})},r.prototype._stateChangeProcess=function(i){var t=this;(0,l.each)(i,function(e){t.stateManager.on(e.name+":change",function(n){e.callback(n,t.plot)})})},r.prototype._getShapes=function(){var i=this,t=[],e=this.plot.view.geometries;return(0,l.each)(e,function(n){var a=n.container;i.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},r.prototype._getOriginAttrs=function(){var i=[];return(0,l.each)(this.shapes,function(t){i.push((0,l.clone)(t.attr()))}),i},r.prototype._eventParser=function(i){var t=i.split(":"),e=this.plot.geometryParser("g2",t[0]),n=t[1];return e+":"+n},r.prototype._getDefaultStateStyle=function(i,t){var e=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(e[a]){var o=e[a][i];return(0,l.isFunction)(o)&&(o=o(t.attr())),o}return{}},r.prototype._parserRelated=function(i,t,e){var n=this;(0,l.each)(t,function(a){if(n.plot[a]){var o=iw(a,i);o(n.plot,e)}})},r.prototype.setZIndex=function(i,t){if(i==="active"||i==="selected"){var e=t.get("parent").get("children");e[e.length-1].setZIndex(0),t.setZIndex(1)}},r.prototype.resetZIndex=function(){(0,l.each)(this.shapeContainers,function(i){var t=i.get("children");t.sort(function(e,n){return e._INDEX-n._INDEX})})},r}(),z1=V1,Va,ts;function ph(r,i){Va||dh(r),(0,l.each)(Va,function(t,e){var n=t.get("origin");if($n(n,i)){var a=ts[e],o=(0,l.mix)({},a,{opacity:1});t.attr(o)}})}function W1(r,i){Va||dh(r),(0,l.each)(Va,function(t,e){var n=t.get("origin");if($n(n,i)){var a=ts[e],o=Z1(a);t.attr(o)}})}function dh(r){Va=[],ts=[];var i=r.view.get("elements");(0,l.each)(i,function(t){var e=t.get("labels");e&&(0,l.each)(e,function(n){Va.push(n),ts.push(n.attr())})})}function Z1(r){var i=r.opacity||1;return{opacity:i*.2}}var U1={active:ph,selected:ph,disable:W1},$1=["xField","yField","angleField"];function gh(r,i){var t=r.options;if(Q1(t,i)){var e=t.data;(0,l.each)(e,function(n){if($n(n,i)){var a=r.view.getXY(n);r.view.on("tooltip:create",function(o){yh(i,o,!1)}),r.view.showTooltip(a)}})}}function K1(r,i){r.view.on("tooltip:change",function(t){yh(i,t,!0)})}function yh(r,i,t){var e=!t,n=(0,l.clone)(i.items);i.items.splice(0),(0,l.each)(n,function(a){var o=a.point._origin;$n(o,r)===e&&i.items.push(a)})}function Q1(r,i){var t=q1(r);return!(0,l.isFunction)(i)&&t.indexOf(i.name)}function q1(r){var i=[];return(0,l.each)($1,function(t){(0,l.has)(r,t)&&i.push(t)}),i}var J1={active:gh,selected:gh,disable:K1},tw={axis:A1,label:D1,guideLine:k1},ew={tooltip:J1,label:U1,axis:X1};function Sr(r,i){var t=tw[r];return new t(i).config}function iw(r,i){return ew[r][i]}var rw=["start","process","end","reset"],nw=function(){function r(i){var t=this.getDefaultCfg();(0,l.assign)(this,t,i),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return r.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},r.prototype._start=function(i){this.preStart(i),this.start(i),this.afterStart(i)},r.prototype.preStart=function(i){},r.prototype.afterStart=function(i){},r.prototype._process=function(i){this.preProcess(i),this.process(i),this.afterProcess(i)},r.prototype.preProcess=function(i){},r.prototype.process=function(i){},r.prototype.afterProcess=function(i){},r.prototype._end=function(i){this.preEnd(i),this.end(i),this.afterEnd(i)},r.prototype.preEnd=function(i){},r.prototype.end=function(i){},r.prototype.afterEnd=function(i){},r.prototype._reset=function(i){this.preReset(i),this.reset(i),this.afterReset(i)},r.prototype.preReset=function(i){},r.prototype.reset=function(i){},r.prototype.afterReset=function(i){},r.prototype._bindEvents=function(){var i=this;(0,l.each)(rw,function(t){var e=i[t+"Event"],n=(0,l.wrapBehavior)(i,"_"+t);i.view.on(e,n),i._eventHandlers.push({type:e,handler:n})})},r.prototype._unbindEvents=function(){var i=this,t=this._eventHandlers;(0,l.each)(t,function(e){i.view.off(e.type,e.handler)})},r.prototype.destroy=function(){this._unbindEvents(),this._reset()},r}(),Ll=nw,aw=function(r){qt(i,r);function i(t,e,n,a){var o=r.call(this,t)||this;return o.viewLayer=e,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return i.registerInteraction=function(t,e){i.GLOBAL_INTERACTION_MAP[t]=e},i.registerPlotInteraction=function(t,e,n){i.PLOT_INTERACTION_MAP[t]||(i.PLOT_INTERACTION_MAP[t]={}),i.PLOT_INTERACTION_MAP[t][e]=n},i.getInteraction=function(t,e){return e&&i.PLOT_INTERACTION_MAP[e]&&i[e][t]?i.PLOT_INTERACTION_MAP[e][t]:i.GLOBAL_INTERACTION_MAP[t]},i.getInteractionRange=function(t,e){},i.prototype.destroy=function(){(0,l.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),r.prototype.destroy.call(this)},i.prototype.getViewLayer=function(){return this.viewLayer},i.prototype.getRange=function(){return this.interactionRange},i.prototype.getInteractionConfig=function(){return this.interactionConfig},i.prototype.addDisposable=function(t){this.disposables.push(t)},i.prototype.render=function(){},i.prototype.start=function(t){},i.GLOBAL_INTERACTION_MAP={},i.PLOT_INTERACTION_MAP={},i}(Ll),Mn=aw,mh=function(r,i,t,e,n){var a=e[0],o=e[1];n===void 0&&(n=!1);var s=(0,l.groupBy)(t,r),u=n?i.slice(i.length-o,i.length-a):i.slice(a,o);return(0,l.flatten)((0,l.map)(u,function(c){return s[c]||[]}))},Bn;(function(r){r.BEFORE_INIT="beforeinit",r.AFTER_INIT="afterinit",r.BEFORE_RENDER="beforerender",r.AFTER_RENDER="afterrender",r.BEFORE_CHANGE_DATA="beforechangedata",r.AFTER_CHANGE_DATA="afterchangedata"})(Bn||(Bn={}));var es=4,xh=8,ow=32,sw=20,lw=999,is=function(r){r===void 0&&(r={});var i=Vt({type:"horizontal",categorySize:ow,width:xh,height:xh,padding:[0,0,0,0]},r);return r.padding||(i.padding=i.type==="horizontal"?[es,0,es,0]:[0,es,0,es]),i},uw=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.onChangeFn=(0,l.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return i.getInteractionRange=function(t,e){var n=is(e),a=n.padding,o=a[0],s=a[1],u=a[2],c=a[3];return n.type==="horizontal"?new Qe(t.minX,t.maxY-n.height-o-u,t.width,n.height+o+u):new Qe(t.maxX-n.width-c-s,t.minY,n.width+c+s,t.height)},i.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,l.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(di.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(di.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(di.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(di.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),e.on(Bn.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return e.off(Bn.BEFORE_CHANGE_DATA,o)})},i.prototype.start=function(){},i.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},i.prototype.renderScrollbar=function(){var t=is(this.getInteractionConfig()),e=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],u=o[3],c=n?{x:a.minX+u,y:e.minY+s}:{x:e.minX+u,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:c.x,y:c.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new Zt.Scrollbar({container:this.container,x:c.x,y:c.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",lw),this.scrollbar.on("scrollchange",this.onChangeFn))},i.prototype.measureScrollBar=function(){var t=is(this.getInteractionConfig()),e=t.padding,n=e[0],a=e[1],o=e[2],s=e[3],u=t.type!=="vertical",c=this.view.coordinateBBox,h=this.view.getXScale(),f=this.view.getYScales().filter(function(p){return p});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=f,this.step=Math.floor((u?c.width:c.height)/t.categorySize),this.trackLen=u?c.width-s-a:c.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,l.clamp)(this.step/h.values.length,0,1),sw)},i.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,l.clamp)(this.ratio,0,1)),e=Math.min(t+this.step,this.cnt);return[t,e]},i.prototype.changeViewData=function(t,e){var n=this,a=t[0],o=t[1],s=is(this.getInteractionConfig()),u=this.getViewLayer(),c=u.options.meta,h=u.getData(),f=mh(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(p){var g=(0,l.get)(c,p.field)||{};n.view.scale(p.field,Vt(Vt({formatter:p.formatter},g),{type:p.type,min:p.min,max:p.max}))}),e?(this.view.data(f),this.view.render()):this.view.changeData(f)},i.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},i}(Mn),cw=uw,rs=4,bh=16,El=function(r){r===void 0&&(r={});var i=Vt({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},r);r.padding||(i.padding=i.type==="horizontal"?[rs,0,rs,0]:[0,rs,0,rs]),r.height||(i.height=bh),r.width||(i.width=bh);var t=(0,l.clamp)(Math.min(i.start,i.end),0,1),e=(0,l.clamp)(Math.max(i.start,i.end),0,1);return i.start=t,i.end=e,i},hw=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.onChangeFn=(0,l.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return i.getInteractionRange=function(t,e){var n=El(e),a=n.padding||[0,0,0,0],o=a[0],s=a[1],u=a[2],c=a[3];if(n.type==="horizontal"){var h=new Qe(t.minX,t.maxY-n.height-o-u,t.width,n.height+o+u);return h}else return new Qe(t.maxX-n.width-c-s,t.minY,n.width+c+s,t.height)},i.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,a=El(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,l.isEqual)(s,[0,0,0,1]))&&!(0,l.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var u=n.getXScale();t.xScaleCfg={field:u.field,values:u.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(di.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(di.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(di.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(di.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},i.prototype.start=function(){},i.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},i.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new Zt.Slider(Vt(Vt({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},i.prototype.getSliderConfig=function(){var t=this.view,e=t.coordinateBBox,n=this.getRange(),a=El(this.getInteractionConfig()),o=a||{},s=o.padding,u=s===void 0?[0,0,0,0]:s,c=o.backgroundStyle,h=o.foregroundStyle,f=o.handlerStyle,p=o.textStyle,g=o.trendCfg,_=g===void 0?{}:g,H=u[0],lt=u[1],pt=u[2],wt=u[3],Ft=this.getSliderMinMaxText(this.curStart,this.curEnd),Dt=Ft.minText,te=Ft.maxText,ye={x:e.minX+wt,y:n.minY+H,width:e.width-wt-lt,height:n.height-H-pt,start:this.curStart,end:this.curEnd,minText:Dt,maxText:te,backgroundStyle:c,foregroundStyle:h,handlerStyle:f,textStyle:p,trendCfg:Vt(Vt({isArea:!1,smooth:!1},_),{data:this.getSliderTrendData()})};return ye},i.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return(0,l.map)(e,function(a){return a[n]})},i.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),a=(0,l.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(e*a));return mh(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},i.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,u=(0,l.size)(o),c=Math.round(t*u),h=Math.max(c+1,Math.round(e*u)),f=o.slice(c,h);return{minText:f.length>0?(0,l.head)(f)[s]:"",maxText:f.length>0?(0,l.last)(f)[s]:""}},i.prototype.onChange=function(t){var e=this.view,n=(0,l.clamp)(Math.min(t[0],t[1]),0,1),a=(0,l.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),u=s.minText,c=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:u,maxText:c}),this.slider.render();var h=e.getOptions().animate;e.animate(!1),e.data(o),e.render(),e.animate(h)},i}(Mn),fw=hw,vw=function(r){qt(i,r);function i(t){return r.call(this,(0,l.deepMix)({},t))||this}return i.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},i.prototype.destroy=function(){this.group.off(),r.prototype.destroy.call(this)},i.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},i}(vo),pw=vw,wh="timelinestart",dw="timelinechange",Ch="timelineend",gw="timelineupdate",yw=20,mw=20,xw=function(r){qt(i,r);function i(t){var e=r.call(this,(0,l.deepMix)({},{speed:1,loop:!1},t))||this;return e.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,l.get)(n,"touches.0.pageX",n.pageX),o=a-e.prevX;e.setTimeSelectX(o),e.prevX=a},e.onTimeSelectMouseUp=function(){e.syncCurrnentTick(),e.emit(Ch,null);var n=e.getCanvas().get("container");n&&(n.removeEventListener("mousemove",e.onTimeSelectMouseMove),n.removeEventListener("mouseup",e.onTimeSelectMouseUp),n.removeEventListener("mouseleave",e.onTimeSelectMouseUp),n.removeEventListener("touchmove",e.onTimeSelectMouseMove),n.removeEventListener("touchend",e.onTimeSelectMouseUp),n.removeEventListener("touchcancel",e.onTimeSelectMouseUp))},e.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),e.isPlay===!1?e.emit(wh,null):(e.isPlay=!1,e.changePlayStatus(!1)),e.prevX=(0,l.get)(a,"touches.0.pageX",a.pageX);var o=e.getCanvas().get("container");o.addEventListener("mousemove",e.onTimeSelectMouseMove),o.addEventListener("mouseup",e.onTimeSelectMouseUp),o.addEventListener("mouseleave",e.onTimeSelectMouseUp),o.addEventListener("touchmove",e.onTimeSelectMouseMove),o.addEventListener("touchend",e.onTimeSelectMouseUp),o.addEventListener("touchcancel",e.onTimeSelectMouseUp)},e}return i.prototype.renderInner=function(t){var e=this.config,n=e.ticks,a=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},i.prototype.update=function(t){r.prototype.update.call(this,t),this.emit(gw,this.currentTick)},i.prototype.destroy=function(){r.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},i.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,a=e.x,o=e.y,s=.8,u=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+u,y:o+u+n*(1-s)/2,r:u}):(this.timeLineButton=new pw({container:t,x:a+u,y:o+u+n*(1-s)/2,r:u,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},i.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+e+", "+n+("A"+s+","+s+" 90 0,0 "+e+","+(n+o))+("L"+(e+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(e+a)+","+n)+("L"+e+", "+n):[]},i.prototype.renderTimeLine=function(t){var e=this,n=this.config,a=n.width,o=n.height,s=n.ticks,u=n.x,c=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=u+o+yw,this.timeLine.y=c+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-mw,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(p){p.destroy()});var f=-Infinity;this.timeLine.textList=s.map(function(p,g){e.tickPosList.push(e.timeLine.x+g*h);var _=t.addShape("text",{attrs:{x:e.timeLine.x+g*h,y:e.timeLine.y+e.timeLine.height+5,text:p,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),H=_.getBBox();return H.minX>f?(_.show(),f=H.minX+H.width+10):_.hide(),_})},i.prototype.renderTimeSelect=function(t,e){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),u=(0,l.findIndex)(a,function(p){return p===e}),c=this.timeLine.x+u*s,h=this.config.y+o/2,f=o*.15;this.timeSelect?(this.timeSelect.attr("x",c),this.timeSelect.attr("y",h),this.timeSelect.attr("r",f)):this.timeSelect=t.addShape("circle",{attrs:{x:c,y:h,r:f,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",c),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:c,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},i.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},i.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(dw,this.currentTick)),this.getCanvas().draw()},i.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),a=(0,l.findIndex)(e,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},i.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var e=t.config,n=e.speed,a=e.ticks,o=t.timeLine.width,s=o/a.length,u=s/(n*1e3/60);t.setTimeSelectX(u),t.isPlay&&(t.playHandler=t.startPlay())})},i.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(wh,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(Ch,null))),this.getCanvas().draw()},i.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(e){t.onTimeSelectMouseDown(e)})},i}(vo),bw=xw,ww=40;function Sh(r){return Vt({loop:!1,auto:!0,height:ww,padding:[0,20,0,0],speed:2},r)}var Cw=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.onChangeFn=(0,l.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return i.getInteractionRange=function(t,e){var n=Sh(e),a=n.padding[0],o=n.padding[2];return new Qe(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},i.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach(function(n){n.animate(t)})},i.prototype.start=function(){},i.prototype.renderTimeLine=function(){var t=this;this.config=Sh(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,u=o[0],c=o[1],h=o[2],f=o[3],p=this.getRange(),g=this.getTicks(),_=e.width-f-c,H={x:e.minX+f,y:p.tl.y+u,width:_,height:p.height-u-h,loop:a,ticks:g,speed:s,defaultCurrentTick:g[0]};this.timeline?(0,l.isEqual)(H,this.timeLineConfig)||(this.timeLineConfig=H,this.timeline.update(H)):(this.container=this.canvas.addGroup(),this.timeline=new bw(Vt({container:this.container},H)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(g[0])),this.timeLineConfig=H)},i.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},i.prototype.getFilterData=function(t){var e=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[e]===t})},i.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return(0,l.uniq)(e.map(function(n){return n[t]}))},i.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(di.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(di.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(di.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(di.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},i.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},i}(Mn),Sw=Cw;function Mw(r,i){var t=[1,0,0,0,1,0,0,0,1],e=Pi.transform(t,i);r.setMatrix(e)}function za(r,i){var t=i?(0,l.clone)(i):[1,0,0,0,1,0,0,0,1];return Pi.transform(t,r)}function Mh(r,i,t,e){var n=e?(0,l.clone)(e):[1,0,0,0,1,0,0,0,1];n[6]=i,n[7]=t,r.setMatrix(n)}function Aw(r,i,t){Yb.translate(r,i,t)}function UI(r,i){Util.rotate(r,i)}var _w=document.createElement("canvas"),Ah=_w.getContext("2d"),ns=(0,l.memoize)(function(r,i){i===void 0&&(i={});var t=i.fontSize,e=i.fontFamily,n=i.fontWeight,a=i.fontStyle,o=i.fontVariant;return Ah.font=[a,o,n,t+"px",e].join(" "),Ah.measureText((0,l.isString)(r)?r:"").width},function(r,i){return i?zo([r],(0,l.values)(i)).join(""):r}),_h=function(r,i,t){var e=16,n=ns("...",t),a;(0,l.isString)(r)?a=r:a=(0,l.toString)(r);var o=i,s=[],u,c;if(ns(r,t)<=i)return r;for(;u=a.substr(0,e),c=ns(u,t),!(c+n>o&&c>o);)if(s.push(u),o-=c,a=a.substr(e),!a)return s.join("");for(;u=a.substr(0,1),c=ns(u,t),!(c+n>o);)if(s.push(u),o-=c,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},Ni;(function(r){r.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",r.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",r.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",r.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",r.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",r.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",r.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",r.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",r.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",r.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",r.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(Ni||(Ni={}));var as;(function(r){r.ON_SELECT_ITEM="onSelectItem"})(as||(as={}));var pa;(function(r){r[r.LARGE=12]="LARGE",r[r.NORMAL=8]="NORMAL",r[r.SMALL=4]="SMALL"})(pa||(pa={}));var Tw=160,Lw=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(e){var n=Pw(e.target,function(o){return o.get("name")===Ni.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(e){var n=t.config.width,a=n===void 0?0:n,o=e.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),u=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),c=(0,l.clamp)(t.offsetX+o,s,u);c!==t.offsetX&&(Aw(t.bodyGroup,t.offsetX-c,0),t.offsetX=c)},t}return i.prototype.destroy=function(){this.offEvents(),r.prototype.destroy.call(this)},i.prototype.selectItem=function(t){this.doSelectItem(t)},i.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},i.prototype.initConfig=function(t){var e,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:pa.NORMAL,style:{}},line:{spacingX:pa.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:pa.SMALL,style:{}},itemName:{spacingX:pa.NORMAL,spacingY:pa.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:pa.LARGE};this.config=(0,l.deepMix)({},(e=a==null?void 0:a.components)===null||e===void 0?void 0:e.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},i.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,u=[],c=t.addGroup({name:Ni.TOOLTIP_INDICATOR_INNER});this.renderTitle(c),this.bodyGroup=c.addGroup({name:Ni.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,f){u.push(e.renderItem(e.bodyGroup,h,f))}),this.layoutItems(c),Mh(c,o,s),this.applyClip(t),this.bindEvents(c)},i.prototype.renderTitle=function(t){var e=this.config.title;if(e==null?void 0:e.text){var n=t.addShape({type:"text",name:Ni.TOOLTIP_INDICATOR_TITLE,attrs:Vt({text:e==null?void 0:e.text,textAlign:"left",textBaseline:"top"},(e==null?void 0:e.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=e.spacingY||0,n}},i.prototype.renderItem=function(t,e,n){var a=this.config.itemBackground,o=t.addGroup({name:Ni.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),s=this.curX,u=this.curY,c=o.addShape({name:Ni.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:Vt({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,e);this.renderItemTitle(o,e),this.renderItemValues(o,e);var f=o.getBBox();return h.attr({y2:h.attr("y1")+f.height}),this.curX=s+f.width,this.curX+=this.config.itemSpacing||0,c.attr({width:this.curX-s-c.attr("lineWidth")*2,height:this.curY-u-c.attr("lineWidth")*2}),this.curY=u,o},i.prototype.renderLine=function(t,e){var n=this.config.line,a=n.width||2,o=Vt({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:e.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:Ni.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),u=s.getBBox();return this.curX+=u.width,this.curX+=n.spacingX||0,s},i.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,a=_h(e.title,Tw,n.style||{}),o=t.addShape({name:Ni.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:Vt({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},i.prototype.renderItemValues=function(t,e){var n=this,a,o=t.addGroup({name:Ni.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=e.values)===null||a===void 0||a.forEach(function(u,c){var h=o.addGroup({name:Ni.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:c}});n.curX=s,n.renderItemValueName(h,u),n.renderItemValueValue(h,u)}),this.layoutItemValues(o),o},i.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var a=t.addShape({name:Ni.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:Vt({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),o=a.getBBox();return e.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},i.prototype.renderItemValueValue=function(t,e){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:Ni.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:Vt({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},o.style||{})}),u=s.getBBox();return this.curY+=u.height,this.curY+=a.spacingY||0,s},i.prototype.layoutItems=function(t){var e=t.findAllByName(Ni.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(Ni.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!e||n.length===0)){var a=e.getBBox();this.scrollWidth=a.width}},i.prototype.layoutItemValues=function(t){var e=t.findAllByName(Ni.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map(function(u){return Qe.fromBBoxObject(u.getBBox())}),a=t.findAllByName(Ni.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(u){return Qe.fromBBoxObject(u.getBBox())}),s=Math.max.apply(Math,o.map(function(u){return u.maxX}));e.forEach(function(u,c){var h=n[c],f=u.findAllByName(Ni.TOOLTIP_INDICATOR_ITEM_NAME)[0],p=u.findAllByName(Ni.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(f&&p){var g=Qe.fromBBoxObject(f.getBBox()),_=Qe.fromBBoxObject(p.getBBox());g.height<h.height&&f.attr("y",f.attr("y")+(h.height-g.height)/2),_.height<h.height&&p.attr("y",p.attr("y")+(h.height-_.height)/2),_.maxX<s&&p.attr("x",p.attr("x")+s-_.maxX)}})},i.prototype.applyClip=function(t){var e=this.config,n=e.x,a=e.y,o=e.width,s=e.height,u=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||u.width,height:s||u.height}})},i.prototype.doSelectItem=function(t){var e=this,n=this.getGroup(),a=n.findAllByName(Ni.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&e.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){e.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(as.ON_SELECT_ITEM,this.selectedItemId)},i.prototype.applyItemStyle=function(t,e){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,u=n.itemValue,c=t.findAllByName(Ni.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName(Ni.TOOLTIP_INDICATOR_ITEM_TITLE)[0],f=t.findAllByName(Ni.TOOLTIP_INDICATOR_ITEM_NAME),p=t.findAllByName(Ni.TOOLTIP_INDICATOR_ITEM_VALUE),g=e&&e+"Style";c&&(c.attr(a.style),c.attr(a[g]||{})),h&&(h.attr(o.style),h.attr(o[g]||{})),f.forEach(function(_){_.attr(s.style),_.attr(s[g]||{})}),p.forEach(function(_){_.attr(u.style),_.attr(u[g]||{})})},i.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(Ni.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new jc(n),this.wheel=new e1(n),this.wheel.on("wheel",this.onWheel)},i.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},i.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},i}(vo),Ew=Lw;function Pw(r,i){for(var t=r;t;){if(i(t))return t;t=t.getParent()}}function Ow(r,i){return(0,l.filter)(r.geometries,function(t){return t.type===i})}function da(r,i){return(0,l.head)(Ow(r,i))}function Iw(r){return(0,l.map)(r.elements,function(i){return i.shape})}function $I(r,i){r.geometries.forEach(i)}function Pl(r,i){r.geometries.forEach(function(t){t.elements.forEach(function(e){i(e)})})}function Bw(r,i,t){return(0,l.some)(i,function(e){return t(e.get(Ur),r.get(Ur))})}function os(r,i){var t=r.getBBox(),e=0,n=0;t.minX<i.minX?e=t.minX-i.minX:t.maxX>i.maxX&&(e=t.maxX-i.maxX),e&&r.attr("x",r.attr("x")-e),t.minY<i.minY?n=t.minY-i.minY:t.maxY>i.maxY&&(n=t.maxY-i.maxY),n&&r.attr("y",r.attr("y")-n)}function Ol(r,i,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(r.x+r.width+t,i.x+i.width+t)-Math.max(r.x-t,i.x-t)),n=Math.max(0,Math.min(r.y+r.height+t,i.y+i.height+t)-Math.max(r.y-t,i.y-t));return e*n}function ss(r,i){var t=r.getBBox();return(0,l.some)(i,function(e){var n=e.getBBox();return Ol(t,n,2)>0})}var Th=8,Lh=function(r){r===void 0&&(r={});var i=Vt({showTotal:!1,showPercent:!1,padding:[Th,24,Th,24],height:r.showPercent?72:54},r);return i},Wa;(function(r){r.ACTIVE_ELEMENT="tooltip_indicator_active_element",r.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(Wa||(Wa={}));var kw=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return i.prototype.active=function(){var t=r1.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},i.prototype.setState=function(t){var e=this;Pl(this.getView(),function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)}),this.isSingle=!0,this.getView().emit(Wa.ACTIVE_ELEMENT,{element:t,isSingle:!0})},i.prototype.setStateByX=function(t){var e=this,n=this.getXField(),a=t.getData()[n];Pl(this.getView(),function(o){o.getData()[n]===a?o.hasState(e.state)||o.setState(e.state,!0):o.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(Wa.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},i.prototype.setStateByField=function(t,e){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;Pl(this.getView(),function(s){var u=s.getData();s.setState(n.state,u[a]===t&&(e===void 0||u[o]===e))})},i.prototype.getView=function(){return this.context.view},i.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},i}(Ci);St("tooltip-indicator",kw),Si("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var Fw=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.onElementActive=function(e){var n=e.element,a=e.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,u=t.view.getGroupScales()[0].field,c=n.getData(),h=c[s],f=t.getLegendItems(h);t.component.update({items:f,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(c[u]),t.curX=h},t.onSelectTooltipIndicatorItem=function(e){t.component&&e&&t.getInteractionAction().setStateByField(t.curX,e)},t}return i.getInteractionRange=function(t,e){var n=Lh(e),a=n.padding,o=a[0],s=a[2];return new Qe(t.minX,t.minY,t.width,n.height+o+s)},i.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},i.prototype.render=function(){var t=this,e=this.view,n=function(){var a=t.view.getXScale(),o=(0,l.last)(a.getTicks()).tickValue,s=t.view.padding;(0,l.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(as.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(di.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(di.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(Wa.ACTIVE_ELEMENT,this.onElementActive),e.on(Wa.ACTIVE_ELEMENT_BY_X,this.onElementActive)},i.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},i.prototype.createComponent=function(){var t=Lh(this.getInteractionConfig()).padding,e=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),u=this.getRange(),c=this.view.getXScale(),h=(0,l.last)(c.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new Ew({container:this.container,x:u.x+o,y:u.y+e,width:u.width-o-n,height:u.height-e-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},i.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},i.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),a=e.getTheme().defaultColor,o=e.getXScale(),s=e.getYScales()[0],u=t||(0,l.last)(o.getTicks()).tickValue,c=e.getLegendAttributes(),h=c.find(function(H){return H.type==="color"}),f=[],p=e.getGroupScales()[0],g=p.field;p&&p.isCategory&&p.getTicks().forEach(function(H){var lt=H.text,pt=H.tickValue,wt=h.mapping(pt).join("")||a;f.push({id:pt,title:lt,color:wt,values:[]})});var _=(n==null?void 0:n.filter(function(H){return H[o.field]===u}))||[];return f.forEach(function(H){var lt=_.find(function(pt){return pt[g]===H.id});H.values.push({value:s.formatter?s.formatter(lt[s.field]):lt[s.field]})}),f},i}(Mn),Dw=Fw;Mn.registerInteraction("slider",fw),Mn.registerInteraction("scrollbar",cw),Mn.registerInteraction("timeline",Sw),Mn.registerInteraction("tooltip-indicator",Dw);var Eh=Mn,Rw=function(){function r(i){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=i.plot}return r.prototype.registerPadding=function(i,t,e){t===void 0&&(t="outer"),e===void 0&&(e=!1),t==="inner"?e?this.innerPaddingComponents.find(function(n){return n==i})||this.innerPaddingComponents.push(i):this.innerPaddingComponents.push(i):e?this.outerPaddingComponents.find(function(n){return n==i})||this.outerPaddingComponents.push(i):this.outerPaddingComponents.push(i)},r.prototype.getPaddingComponents=function(i){return i===void 0&&(i="outer"),(i==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},r.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,l.filter)(this.outerPaddingComponents,function(i){return i.afterRender})},r.prototype.clearOuterComponents=function(){(0,l.each)(this.outerPaddingComponents,function(i){i.afterRender&&i.destroy()}),this.outerPaddingComponents=[]},r.prototype.getPadding=function(){var i=this.plot.options,t=i.padding?i.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},r.prototype.processAutoPadding=function(){var i=this._getInnerAutoPadding();this.plot.updateConfig({padding:i}),this.plot.render()},r.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new Qe(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var i=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,e=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,l.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),u=s.minX,c=s.maxX,h=s.minY,f=s.maxY;f>=e&&f<=n&&o==="top"&&(e=f),h>=e&&h<=n&&o==="bottom"&&(n=h),c>i&&c<=t&&o==="left"&&(i=c),u>=i&&c<=t&&o==="right"&&(t=u)}}),new Qe(i,e,t-i,n-e)},r.prototype._getInnerAutoPadding=function(){var i,t=this.plot.options,e=this.plot.view,n=e.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,u=n.minX,c=this.plot.config.theme.bleeding;(0,l.isArray)(c)&&(0,l.each)(c,function(H,lt){typeof c[lt]=="function"&&(c[lt]=c[lt](t))}),this.bleeding=(0,l.clone)(c);var h=[new Qe(n.minX,n.minY,n.width,n.height)];((i=this.plot.config.coordinate)===null||i===void 0?void 0:i.type)==="cartesian"&&this._getCartesianAxis(e,h[0],h);var f=this._mergeBBox(h);this._getLegend(e,f,h),f=this._mergeBBox(h);var p=this.innerPaddingComponents;(0,l.each)(p,function(H){var lt=H,pt=lt.getBBox();h.push(pt)}),f=this._mergeBBox(h);var g=[s-f.minY+this.bleeding[0],f.maxX-a+this.bleeding[1],f.maxY-o+this.bleeding[2],u-f.minX+this.bleeding[3]],_=this._getPanel(e);return g[0]+=_[0],g[1]+=_[1],g[2]+=_[2],g[3]+=_[3],g},r.prototype._getCartesianAxis=function(i,t,e){var n=y1(i),a=i.getCoordinate().isTransposed;(0,l.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),u=o.getLayoutBBox(),c=u.minX,h=u.minY,f=u.width,p=u.height;a?s==="bottom"?e.push(new Qe(t.minX-f,h,f,p)):s==="left"?e.push(new Qe(c,t.maxY,f,p)):s==="top"&&e.push(new Qe(t.maxX,h,f,p)):s==="left"?e.push(new Qe(t.minX-f,h,f,p)):s==="bottom"?e.push(new Qe(c,t.maxY,f,p)):s==="right"&&e.push(new Qe(t.maxX,h,f,p))}})},r.prototype._getLegend=function(i,t,e){var n=m1(i);(0,l.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),u=s.minX,c=s.minY,h=s.width,f=s.height;o==="top"?e.push(new Qe(u,t.minY-f,h,f)):o==="bottom"?e.push(new Qe(u,t.maxY,h,f)):o==="left"?e.push(new Qe(t.minX-h,c,h,f)):e.push(new Qe(t.maxX,c,h,f))})},r.prototype._getPanel=function(i){var t=[],e=i.geometries;(0,l.each)(e,function(_){_.labelsContainer&&t.push(_.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,l.each)(t,function(_){var H=_.get("children");H.forEach(function(lt){if(!(lt.type==="group"&&lt.get("children").length===0)){var pt=lt.getBBox();pt.minX<n&&(n=pt.minX),pt.maxX>a&&(a=pt.maxX),pt.minY<o&&(o=pt.minY),pt.maxY>s&&(s=pt.maxY)}})});var u=i.coordinateBBox,c=Math.max(a-parseFloat(u.maxX),0);if(c>0){var h=u.width/(u.width+c);c*=h}var f=Math.max(parseFloat(u.minX)-n,0);if(f>0){var h=u.width/(u.width+f);f*=h}var p=Math.max(parseFloat(u.minY)-o,0);if(p>0){var h=u.height/(u.height+p);p*=h}var g=Math.max(s-parseFloat(u.maxY),0);if(g>0){var h=u.height/(u.height+g);g*=h}return[p,c,g,f]},r.prototype._mergeBBox=function(i){var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity;return(0,l.each)(i,function(o){var s=o;t=Math.min(s.minX,t),e=Math.max(s.maxX,e),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:e,minY:n,maxY:a}},r}(),Nw=Rw,Gw="#5B8FF9",Yw=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],Xw=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],Ph=function(r){return r&&r.split("-")[0]==="top"?12:24},Oh=function(r){var i=r.title&&r.title.visible,t=r.description&&r.description.visible;return i||t?12:24},Ih=function(r){return(0,l.some)(r.interactions||[],function(i){return(i.type==="slider"||i.type==="scrollbar")&&(i.cfg&&i.cfg.type)!=="vertical"})?8:24},Bh={width:400,height:400,bleeding:[Oh,24,Ih,24],padding:"auto",defaultColor:Gw,colors:Yw,colors_20:Xw,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Ph,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},jw={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[Oh,24,Ih,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Ph,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},kh={default:Bh,dark:jw};function KI(r,i){var t=Pr();kh[r.toLowerCase()]=deepMix({},t,i)}function Pr(r){r===void 0&&(r="default");var i=kh[r.toLowerCase()];return i||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",r),Bh)}var Fh={};function Dh(r,i){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},e={};r==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,l.each)(i,function(a,o){var s;if((0,l.has)(t,o)){var u=t[o];(0,l.each)(a,function(c,h){(0,l.set)(n,u+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",c)})}else e=(0,l.deepMix)({},e,(s={},s[o]=a,s))}),(0,l.isEmpty)(n)||(e=(0,l.deepMix)({},e,{geometries:n})),e}function Xr(r,i){Fh[r.toLowerCase()]=Dh(r,i)}function Rh(r){return Fh[r.toLowerCase()]||{}}function Hw(r){var i=(0,l.clone)(r);return i.legend||(i.legend={}),i}var Il={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},Nh={default:Il};function Gh(r,i){Nh[r.toLowerCase()]=(0,l.deepMix)({},Il,i)}function Yh(r){var i=Nh[r.toLowerCase()];return i||Il}var Vw=zn(),zw=function(){function r(){}return r.getGlobalTheme=function(i){return(0,l.isString)(i)?Pr(i):(0,l.deepMix)({},Pr(),i)},r.prototype.getPlotTheme=function(i,t){var e=i.theme;return(0,l.isString)(e)?(0,l.deepMix)({},Pr(e),Rh(t)):(0,l.deepMix)({},Pr(),Rh(t),Dh(t,e))},r.prototype.getTheme=function(i,t){var e=Hw(this.getPlotTheme(i,t)),n=(0,l.deepMix)({},Vw,e);return n},r.prototype.getResponsiveTheme=function(i){return Yh(i)||Yh("default")},r}(),Bl=zw,Ww=function(r){qt(i,r);function i(t){var e=r.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=(0,l.deepMix)({},e.options),e.paddingController=new Nw({plot:e}),e.stateController=new z1({plot:e}),e.themeController=new Bl,e}return i.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},i.prototype.getOptions=function(t){var e=this.options||{},n=r.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,l.reduce)((0,l.flatten)((0,l.map)([n,a,(0,l.hasKey)(t,"interactions")?t:e],function(s){return(0,l.get)(s,"interactions",[])})),function(s,u){var c=(0,l.findIndex)(s,function(h){return h.type===u.type});return c>=0&&s.splice(c,1),zo(s,[u])},[]);return(0,l.deepMix)({},n,a,e,t,{interactions:o})},i.prototype.beforeInit=function(){this.emit(Bn.BEFORE_INIT),r.prototype.beforeInit.call(this)},i.prototype.init=function(){var t=this;r.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new ue({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(di.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},i.prototype.afterInit=function(){r.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(Bn.AFTER_INIT))},i.prototype.afterRender=function(){var t,e;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((e=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||e===void 0?void 0:e.onChange)&&n.padding!=="auto"&&this.customTooltip()}},i.prototype.render=function(){this.emit(Bn.BEFORE_RENDER),r.prototype.render.call(this);var t=this.options.data;(0,l.isEmpty)(t)||this.view.render(),this.emit(Bn.AFTER_RENDER)},i.prototype.repaint=function(){this.canvas&&this.canvas.draw()},i.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},i.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},i.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},i.prototype.getColorScale=function(){var t=this.options;if((0,l.contains)(t,"colorField"))return this.view.getScaleByField(t)},i.prototype.getShapes=function(){var t=this.view.geometries,e={};return(0,l.each)(t,function(n){var a=n.type;e[a]=n.getShapes()}),e},i.prototype.destroy=function(){this.doDestroy(),r.prototype.destroy.call(this)},i.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},i.prototype.changeData=function(t){this.emit(Bn.BEFORE_CHANGE_DATA);var e=(0,l.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Bn.AFTER_CHANGE_DATA)},i.prototype.getPlot=function(){return this.view},i.prototype.getLabels=function(){return this.labels},i.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},i.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},i.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},i.prototype.getInteractions=function(){return this.interactions},i.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},i.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},i.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},i.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},i.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},i.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},i.prototype.processData=function(t){return t},i.prototype.scale=function(){var t=(0,l.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),e=(0,l.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},i.prototype.axis=function(){var t=Sr("axis",{plot:this,dim:"x"}),e=Sr("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},i.prototype.tooltip=function(){var t,e;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,l.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((e=n.custom)===null||e===void 0?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,l.deepMix)({},n)),(0,l.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},i.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},i.prototype.customTooltip=function(){var t=this.options.tooltip.custom,e;t.container&&(e=(0,l.isString)(t.container)?document.getElementById(t.container):t.container),e||(e=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(e,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(e,n)})},i.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&e[1]==="center"?e[0]:t},i.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var e=(0,l.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,l.get)(e,"position")),offsetX:(0,l.get)(e,"offsetX"),offsetY:(0,l.get)(e,"offsetY"),flipPage:(0,l.get)(e,"flipPage"),marker:(0,l.get)(e,"marker"),title:((t=e.title)===null||t===void 0?void 0:t.visible)?(0,l.get)(e,"title"):null,itemName:(0,l.get)(e,"text")};this.setConfig("legends",n)},i.prototype.annotation=function(){var t=this,e=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,l.each)(this.options.guideLine,function(n){var a=Sr("guideLine",{plot:t,cfg:n});e.push(a)}),this.setConfig("annotations",e)},i.prototype.interaction=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e;(0,l.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,l.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},i.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},i.prototype.applyInteractions=function(){var t=this,e=Qe.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new Qe(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(a,di.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(u){u.destroy()}),this.interactions=[],s.forEach(function(u){var c=Eh.getInteraction(u.type,t.type);if(c){var h=new c({view:t.view},t,c.getInteractionRange(e,u.cfg),u.cfg);h.render(),t.interactions.push(h)}})},i.prototype.setConfig=function(t,e){if(t==="geometry"){this.config.geometries.push(e);return}if(t==="interaction"){this.config.interactions.push(e);return}if(e===!1){this.config[t]=!1;return}(0,l.assign)(this.config[t],e)},i.prototype.parseEvents=function(t){var e=this,n=this.options;if(n.events){r.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:ui;(0,l.each)(n.events,function(o,s){if((0,l.isFunction)(o)){var u=a[s]||s,c=o;Ui(e,u,c)}})}},i.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Ha(t.title)){var n=this.width,a=this.config.theme,o=new $o({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,l.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Ha(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},i.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Ha(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var u=new $o({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,l.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=u,this.paddingController.registerPadding(u,"outer")}},i.prototype.doRenderLabel=function(t,e){(0,l.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:e},a=S1(e.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},i.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},i.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},i.prototype.doDestroyLabels=function(){(0,l.each)(this.labels,function(t){t.destroy()}),this.labels=[]},i.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e,a=this.paddingController.processOuterPadding();n.forEach(function(s){var u=Eh.getInteraction(s.type,t.type),c=u&&u.getInteractionRange(a,s.cfg),h="";c&&(c.maxY===a.maxY&&c.minY>a.minY?h="bottom":c.maxX===a.maxX&&c.minX>a.minX?h="right":c.minX===a.minX&&c.maxX>a.maxX?h="left":c.minY===a.minY&&c.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return c},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},i.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,l.hasKey)(t,"max")||(0,l.hasKey)(t,"min")||(0,l.hasKey)(t,"maxLimit")||(0,l.hasKey)(t,"minLimit"))},i.prototype.viewRangeToRegion=function(t){var e=this,n=e.x,a=e.y,o=e.width,s=e.height,u={x:0,y:0},c={x:1,y:1};return u.x=t.minX/(n+o),u.y=t.minY/(a+s),c.x=t.maxX/(n+o),c.y=t.maxY/(a+s),{start:u,end:c}},i}(Uo),Gi=Ww,Zw=S(91033),Uw=function(){function r(i){var t=this;this.onResize=(0,l.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var e=i.containerDOM,n=i.plot;this.containerDOM=e,this.plot=n,this.init()}return r.prototype.getCanvasSize=function(){var i=Pr(),t=this.plot.width?this.plot.width:i.width,e=this.plot.height?this.plot.height:i.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,e=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:e),{width:t,height:e}},r.prototype.getCanvasDOM=function(){return this.canvas.get("container")},r.prototype.updateCanvasSize=function(){var i=this.getCanvasSize(),t=i.width,e=i.height;this.width=t,this.height=e,this.canvas.changeSize(t,e)},r.prototype.updateCanvasTheme=function(){var i=this.plot.theme,t=Bl.getGlobalTheme(i),e=(0,l.get)(t,"backgroundStyle.fill");e&&this.updateCanvasStyle({backgroundColor:e})},r.prototype.updateCanvasStyle=function(i){(0,de.Z)(this.getCanvasDOM(),i),(0,de.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},r.prototype.bindForceFit=function(){var i=this.plot.forceFit;i&&(this.resizeObserver=new Zw.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},r.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},r.prototype.initGCanvas=function(){var i=this.plot,t=i.renderer,e=t===void 0?"canvas":t,n=i.pixelRatio,a=i.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),u=s.width,c=s.height,h=e==="canvas"?Vu:Ju;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:u,height:c,pixelRatio:n}),this.width=u,this.height=c,this.updateCanvasTheme()},r}(),$w=Uw;function Kw(r,i){return!!(r&&i&&r===i)}function Qw(r,i){return r.x>=i.minX&&r.x<=i.maxX&&r.y>=i.minY&&r.y<=i.maxY}var qw=function(){function r(i){this.plot=i.plot,this.canvas=i.canvas,this.eventHandlers=[]}return r.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,l.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,l.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,l.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,l.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,l.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,l.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,l.wrapBehavior)(this,"onEvents"))},r.prototype.clearEvents=function(){var i=this.eventHandlers;(0,l.each)(i,function(t){t.target.off(t.type,t.handler)})},r.prototype.addEvent=function(i,t,e){i.on(t,e),this.eventHandlers.push({target:i,type:t,handler:e})},r.prototype.onEvents=function(i){var t=this.getEventObj(i),e=i.target;!this.isShapeInView(e)&&e.name&&this.plot.emit(e.name+":"+i.type,i),this.plot.emit(""+i.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,i.type)},r.prototype.onMove=function(i){var t=i.target,e=this.getEventObj(i);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+i.type,e),this.lastShape&&!Kw(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",e),this.plot.emit(t.name+":mouseenter",e)),this.lastShape=t),this.plot.emit("mousemove",e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,"mousemove")},r.prototype.isShapeInView=function(i){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],e=i.get("parent");e;){var n=e.get("name");if(n&&(0,l.contains)(t,n))return!0;e=e.get("parent")}return!1},r.prototype.getEventObj=function(i){var t={clientX:i.clientX,clientY:i.clientY,x:i.x,y:i.y,plot:this.plot,data:i.data?i.data.data:null,canvas:this.canvas,target:i.target,gEvent:i};return t},r.prototype.onLayerEvent=function(i,t,e){var n=this;(0,l.each)(i,function(a){var o=a.getGlobalBBox();if(Qw({x:t.x,y:t.y},o)){a.emit(""+e,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,e)}})},r}(),Jw=qw,Xh={};function ri(r,i){Xh[r.toLowerCase()]=i}function tC(r){return Xh[r.toLowerCase()]}var eC=function(r){qt(i,r);function i(t,e){var n=r.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,l.isNil)(e.forceFit)?(0,l.isNil)(e.width)&&(0,l.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new $w({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new Jw({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}return i.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},i.prototype.repaint=function(){this.canvasController.canvas.draw()},i.prototype.updateConfig=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Gi&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof Uo&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},i.prototype.changeData=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Gi&&a.changeData(t)});else{var n=this.layers[0];n instanceof Gi&&n.changeData(t)}},i.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},i.prototype.getXScale=function(){return this.layers[0].getXScale()},i.prototype.getYScale=function(){return this.layers[0].getYScale()},i.prototype.getColorScale=function(){return this.layers[0].getColorScale()},i.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},i.prototype.getData=function(){var t=this.layers[0];return t.getData()},i.prototype.bindStateManager=function(t,e){this.eachLayer(function(n){n instanceof Gi&&n.bindStateManager(t,e)})},i.prototype.setActive=function(t,e){this.eachLayer(function(n){n instanceof Gi&&n.setActive(t,e)})},i.prototype.setSelected=function(t,e){this.eachLayer(function(n){n instanceof Gi&&n.setSelected(t,e)})},i.prototype.setDisable=function(t,e){this.eachLayer(function(n){n instanceof Gi&&n.setDisable(t,e)})},i.prototype.setDefault=function(t,e){this.eachLayer(function(n){n instanceof Gi&&n.setDefault(t,e)})},i.prototype.getView=function(){return this.layers[0].view},i.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},i.prototype.getCanvas=function(){return this.canvasController.canvas},i.prototype.getLayers=function(){return this.layers},i.prototype.render=function(){this.eachLayer(function(t){return t.render()})},i.prototype.eachLayer=function(t){(0,l.each)(this.layers,t)},i.prototype.addLayer=function(t){var e=(0,l.findIndex)(this.layers,function(n){return n===t});e<0&&this.layers.push(t)},i.prototype.createLayers=function(t){if(!t.layers){if(t.type){var e=tC(t.type),n=(0,l.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new e(n);this.addLayer(a)}}},i.prototype.parseEvents=function(t){var e=this,n=(0,l.keys)(Kc);t.events&&(0,l.each)(t.events,function(a,o){if((0,l.contains)(n,o)&&(0,l.isFunction)(a)){var s=Kc[o]||o,u=a;e.on(s,u)}})},i}(Pt.default),Ue=eC,iC=function(){function r(i){(0,l.assign)(this,i),this.init()}return r.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},r}(),po=iC,rC=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},i.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),(0,l.has)(t,"color")){var a=t.color;(0,l.isString)(a)?e.values=[a]:(0,l.isFunction)(a)?e.callback=a:(0,l.isArray)(a)&&(n?e.values=a:a.length>0&&(e.values=[a[0]]))}this.config.color=e},i.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};(0,l.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},i.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,l.get)(t,o))return[t[o]]}},i}(po),jh=rC;function nC(r,i){var t=[];if(r.length){for(var e=0,n=r.length;e<n;e+=1){var a=r[e],o=e===0?"M":"L";t.push([o,a.x,a.y])}i&&t.push(["Z"])}return t}function Hh(r,i){var t=r.getCenter(),e=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2));return e}function kl(r,i){for(var t=[r[0]],e=1,n=r.length;e<n;e=e+2){var a=i.convertPoint({x:r[e],y:r[e+1]});t.push(a.x,a.y)}return t}function aC(r,i,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:r[1],y:r[2]},s={x:i[1],y:i[2]},u=[],c=e?"y":"x",h=Math.abs(s[c]-o[c])*(a-n),f=s[c]>=o[c]?1:0,p=h>Math.PI?1:0,g=t.convertPoint(s),_=Hh(t,g);if(_>=.5)if(h===Math.PI*2){var H={x:(s.x+o.x)/2,y:(s.y+o.y)/2},lt=t.convertPoint(H);u.push(["A",_,_,0,p,f,lt.x,lt.y]),u.push(["A",_,_,0,p,f,g.x,g.y])}else u.push(["A",_,_,0,p,f,g.x,g.y]);return u}function oC(r){each(r,function(i,t){var e=i;if(e[0].toLowerCase()==="a"){var n=r[t-1],a=r[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var sC=function(r,i,t,e){var n=[],a,o,s=!!e,u,c;if(s){u=[Infinity,Infinity],c=[-Infinity,-Infinity];for(var h=0,f=r.length;h<f;h++){var p=r[h];u=Pe.min([0,0],u,p),c=Pe.max([0,0],c,p)}u=Pe.min([0,0],u,e[0]),c=Pe.max([0,0],c,e[1])}for(var h=0,g=r.length;h<g;h++){var p=r[h];if(t)a=r[h?h-1:g-1],o=r[(h+1)%g];else if(h===0||h===g-1){n.push(p);continue}else a=r[h-1],o=r[h+1];var _=[0,0];_=Pe.sub(_,o,a),_=Pe.scale(_,_,i);var H=Pe.distance(p,a),lt=Pe.distance(p,o),pt=H+lt;pt!==0&&(H/=pt,lt/=pt);var wt=Pe.scale([0,0],_,-H),Ft=Pe.scale([0,0],_,lt),Dt=Pe.add([0,0],p,wt),te=Pe.add([0,0],p,Ft);s&&(Dt=Pe.max([0,0],Dt,u),Dt=Pe.min([0,0],Dt,c),te=Pe.max([0,0],te,u),te=Pe.min([0,0],te,c)),n.push(Dt),n.push(te)}return t&&n.push(n.shift()),n};function lC(r,i,t){for(var e=!!i,n=[],a=0,o=r.length;a<o;a+=2)n.push([r[a],r[a+1]]);for(var s=sC(n,.4,e,t),u=n.length,c=[],h,f,p,a=0;a<u-1;a++)h=s[a*2],f=s[a*2+1],p=n[a+1],c.push(["C",h[0],h[1],f[0],f[1],p[0],p[1]]);return e&&(h=s[u],f=s[u+1],p=n[0],c.push(["C",h[0],h[1],f[0],f[1],p[0],p[1]])),c}function uC(r,i){return nC(r,i)}function Fl(r,i,t){var e=[],n=r[0],a=null;if(r.length<=2)return uC(r,i);(0,l.each)(r,function(u){(!a||!(a.x===u.x&&a.y===u.y))&&(e.push(u.x),e.push(u.y),a=u)});var o=t||[[0,0],[1,1]],s=lC(e,i,o);return s.unshift(["M",n.x,n.y]),s}function QI(r,i){return Hh(r,i)}function qI(r,i){var t=r.getCenter();return Math.atan2(i.y-t.y,i.x-t.x)}function JI(r,i){var t=[];return each(i,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(kl(e,r));break;case"z":default:t.push(e);break}}),t}function tB(r,i){var t=[],e,n,a,o;return each(i,function(s,u){var c=s[0];switch(c.toLowerCase()){case"m":case"c":case"q":t.push(kl(s,r));break;case"l":e=i[u-1],n=s,a=r.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(aC(e,n,r)):t.push(kl(s,r));break;case"z":default:t.push(s);break}}),oC(t),t}vi("area","miniArea",{draw:function(r,i){var t=r.style?r.style.opacity:null,e=Vh(r,this,!1),n=(0,l.deepMix)({},{lineJoin:"round",lineCap:"round"},r.style),a=i.addShape("path",{attrs:{path:e,fill:Wh(r.color||Pr().defaultColor),opacity:t||.4},style:n});return a}}),vi("area","miniAreaSmooth",{draw:function(r,i){var t=r.style?r.style.opacity:null,e=Vh(r,this,!0),n=i.addShape("path",{attrs:{path:e,fill:Wh(r.color||Pr().defaultColor),opacity:t||.5}});return n}});function Vh(r,i,t){var e=[[0,0],[1,1]],n=[],a=[];(0,l.each)(r.points,function(c){n.push(c[1]),a.push(c[0])}),a=i.parsePoints(a.reverse()),n=Al(i.parsePoints(n));var o=t?Fl(n,!1,e):zh(n),s=zh(a);s[0][0]="L";var u=o.concat(s);return u}function zh(r){for(var i=[],t=0;t<r.length;t++){var e=r[t],n=t===0?"M":"L";i.push([n,e.x,e.y])}return i}function Wh(r){return"l(90) 0:"+r+" 1:#ffffff"}var cC=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.init=function(){r.prototype.init.call(this),this.parseShape()},i.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},i}(jh),hC=cC,fC={main:jh,mini:hC},Zh=["colorField","stackField","groupField"],vC=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.init=function(){this.type="interval",r.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},i.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&((0,l.isString)(t.color)?n.values=[t.color]:(0,l.isFunction)(t.color)?n.callback=t.color:(0,l.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,l.isObject)(t.color)&&(n.fields=e,n.callback=function(a){return t.color[a]})),this.config.color=n},i.prototype.parseSize=function(t){var e=this.plot.options,n={};(0,l.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},i.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,l.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[e.xField,e.yField],o.callback=a):o.cfg=a,this.config.style=o},i.prototype._getSizeProps=function(t){for(var e=["columnSize","barSize"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,l.get)(t,o))return o}},i.prototype._getStyleProps=function(t){for(var e=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,l.get)(t,o))return o}},i.prototype._getColorMappingField=function(t){for(var e=0,n=Zh;e<n.length;e++){var a=n[e];if((0,l.get)(t,a))return[t[a]]}},i.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=Zh;e<n.length;e++){var a=n[e];if(t[a])return!0}return!1},i}(po),pC=vC,dC={main:pC},gC=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,l.get)(t,["line","style"]))&&this.parseStyle()},i.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};(0,l.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},i.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),(0,l.has)(t,"color")){var n=t.color;(0,l.isString)(n)?e.values=[n]:(0,l.isFunction)(n)?e.callback=n:(0,l.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},i.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||(0,l.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,l.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},i}(po),Dl=gC,yC=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},i.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},i.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:(0,l.isString)(t.color)?e.values=[t.color]:(0,l.isFunction)(t.color)?(e.fields=n,e.callback=t.color):(0,l.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},i.prototype.parseStyle=function(){var t=this.plot.options,e=t.line.style,n={};(0,l.isFunction)(e)?(n.fields=this.config.position.fields,n.callback=e):n.cfg=e,this.config.style=n},i.prototype._needParseAttribute=function(t){var e=this.plot.options;return e[t]?!0:!!e.line[t]},i.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,l.get)(t,o))return[t[o]]}},i}(Dl),mC=yC;vi("line","miniLine",{draw:function(r,i){for(var t=Al(r.points),e=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";e.push([o,a.x,a.y])}var s=(0,l.deepMix)({},{lineJoin:"round",lineCap:"round"},r.style),u=i.addShape("path",{attrs:(0,l.mix)({path:e,stroke:r.color||Pr().defaultColor,lineWidth:r.size||2},s)});return u}}),vi("line","miniLineSmooth",{draw:function(r,i){var t=Al(r.points),e=[[0,0],[1,1]],n=Fl(t,!1,e),a=i.addShape("path",{attrs:(0,l.mix)({path:n,stroke:r.color||Pr().defaultColor,lineWidth:r.size||2},r.style)});return a}});var xC=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.init=function(){r.prototype.init.call(this),this.parseShape()},i.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},i}(Dl),bC=xC,wC={main:Dl,guide:mC,mini:bC},CC=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},i.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=(0,l.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),(0,l.isEmpty)(e)||(this.config.color=e)},i.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=(0,l.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},i.prototype.parseShape=function(t){this.config.shape=t},i.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,l.isFunction)(e)?(s?n.fields=(0,l.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=e):(n.cfg=e,(0,l.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},i.prototype._parseColor=function(t,e){(0,l.isString)(t.color)?e.values=[t.color]:(0,l.isFunction)(t.color)?e.callback=t.color:(0,l.isArray)(t.color)&&(e.values=t.color)},i}(po),SC=CC;function MC(r,i){var t=[];return(0,l.each)(i,function(e){var n=e[r];t.push(n)}),(0,l.uniq)(t)}var AC=["seriesField","stackField"],_C=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},i.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var a=this.plot.getTheme();e.values=[a.defaultColor]}(0,l.keys)(e).length>0&&(this.config.color=e)},i.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},i.prototype.parseShape=function(t){var e={};(0,l.isString)(t)?e.values=[t]:(0,l.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},i.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,l.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,a&&n.fields.unshift(a)):n.cfg=e,this.config.style=n},i.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var a=MC(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},i.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);(0,l.isString)(t.color)?e.values=[t.color]:(0,l.isFunction)(t.color)?e.callback=t.color:(0,l.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},i.prototype._needParseAttribute=function(t){var e=this.plot.options,n=e.point&&(0,l.has)(e.point,t);return n},i.prototype._getColorMappingField=function(t){for(var e=0,n=AC;e<n.length;e++){var a=n[e];if((0,l.get)(t,a))return[t[a]]}},i}(po),TC=_C,LC={guide:TC,circle:SC},EC={area:fC,line:wC,point:LC,interval:dC};function Hi(r,i,t){var e=EC[r][i];return new e(t).config}function PC(r){var i=l1,t=r.split(" "),e=i[t[1]],n=parseInt(t[0],10);return[e.format,n*e.value]}function ur(r,i){if(!i)return r;Object.prototype.hasOwnProperty.call(i,"tickCount")&&(r.tickCount=i.tickCount),Object.prototype.hasOwnProperty.call(i,"type")&&i.type!=="dateTime"&&(r.type=i.type),Object.prototype.hasOwnProperty.call(i,"tickInterval")&&(i.type==="time"?r.tickInterval=PC(i.tickInterval):r.tickInterval=i.tickInterval),i.type==="time"&&i.mask&&(r.mask=i.mask),Object.prototype.hasOwnProperty.call(i,"min")&&(r.min=i.min),Object.prototype.hasOwnProperty.call(i,"max")&&(r.max=i.max),Object.prototype.hasOwnProperty.call(i,"minLimit")&&(r.minLimit=i.minLimit),Object.prototype.hasOwnProperty.call(i,"maxLimit")&&(r.maxLimit=i.maxLimit),Object.prototype.hasOwnProperty.call(i,"nice")&&(r.nice=i.nice),Object.prototype.hasOwnProperty.call(i,"formatter")&&(r.formatter=i.formatter),Object.prototype.hasOwnProperty.call(i,"exponent")&&(r.exponent=i.exponent),Object.prototype.hasOwnProperty.call(i,"base")&&(r.base=i.base),i.tickMethod&&(r.tickMethod=i.tickMethod)}function OC(r,i){var t=(0,l.filter)(i,function(a){return(0,l.isNumber)(a)}),e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);e>0?(0,l.isNil)(r.min)&&(r.min=0):n<0&&(0,l.isNil)(r.max)&&(r.max=0)}var Rl;function IC(r,i){var t={easing:"easeLinear",duration:1e4},e=(0,l.deepMix)({},i,t),n=r.get("element").geometry;n.labelsContainer.set("visible",!1);var a=r.get("index"),o=n.coordinate,s=n.scales,u=s[Rl.options.yField],c=(0,l.clone)(r.get("origin"));BC(r,o);var h=r.get("clipShape"),f=r.get("parent"),p=12,g=null,_=Rl.options.seriesField;_&&(g=f.addShape("text",{attrs:{x:o.start.x+p,y:0,text:c.data[0][_],fill:r.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var H=g?16:0,lt=f.addShape("text",{attrs:{x:o.start.x+p,y:H,text:"test"+a,fill:r.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){r&&!r.get("destroyed")&&(r.setClip(null),h.remove(),lt.animate({opacity:0},300,function(){lt.remove(),(0,l.isNil)(g)||g.remove();var Ft=n.labelsContainer;Ft.get("visible")||Ft.set("visible",!0)}))};var pt=e.delay;(0,l.isFunction)(pt)&&(pt=e.delay(a));var wt=e.easing;(0,l.isFunction)(wt)&&(wt=e.easing(a)),h.animate({width:o.getWidth()},e.duration,wt,e.callback,pt),e.onFrame=function(Ft){var Dt=Uh(Ft,c,o);if(!!Dt){lt.attr("x",Dt[0]+p),lt.attr("y",Dt[1]+H);var te=kC(u,Dt[1],o);u.formatter&&(te=u.formatter(te)),lt.attr("text",te)}},lt.animate(e.onFrame,{duration:e.duration,easing:wt,callback:e.callback,delay:pt}),g&&g.animate({onFrame:function(Ft){var Dt=Uh(Ft,c,o);!Dt||(g.attr("x",Dt[0]+p),g.attr("y",Dt[1]))}},e.duration,wt,e.callback,pt)}function BC(r,i){var t=i.start,e=i.end,n=i.height;r.setClip({type:"rect",attrs:{x:t.x,y:e.y,width:0,height:n}})}function Uh(r,i,t){for(var e=i.points,n=t.start.x+t.getWidth()*r,a=0;a<e.length-1;a++){var o=e[a],s=e[a+1];if(n>=o.x&&n<=s.x){var u=(s.y-o.y)/(s.x-o.x),c=o.y+u*(n-o.x);return[n,c]}}}function kC(r,i,t){var e=(i-t.start.y)/(t.end.y-t.start.y);return r.invert(e).toFixed(2)}function FC(r){Rl=r}ji("clipingWithData",IC);var DC=function(){function r(i){this.type="shape",this.shapes=i.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,l.deepMix)([],this.nodes)}return r.prototype.measure=function(i){var t=(0,l.deepMix)({},E1(i),{shape:i});return t},r.prototype.measureNodes=function(){var i=this,t=[],e=[];(0,l.each)(this.shapes,function(n,a){var o=(0,l.deepMix)({},i.nodes[a],i.measure(n));o.width!==0&&o.height!==0&&(t.push(o),e.push(n))}),this.nodes=t,this.shapes=e},r.prototype._parserNodes=function(){var i=this;(0,l.each)(this.shapes,function(t){var e=i.measure(t);i.nodes.push(e)})},r}(),$h=DC;function RC(r,i,t){return t===void 0&&(t={ratio:.6}),i.width*t.ratio}var NC={type:"padding",usage:"assign",expression:RC};function GC(r,i){var t=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],e=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=sh(t,e);return Math.round(n)>=2}var YC={type:"group",usage:"compare",expression:GC};function XC(r,i,t){t===void 0&&(t={value:4});var e=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],n=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],a=sh(e,n);return Math.round(a)>=t.value}var jC={type:"chain",usage:"compare",expression:XC};function HC(r,i,t){t===void 0&&(t={value:5});var e=Math.abs(r.bottom-i.top);return Math.round(e)>=t.value}var VC={type:"chain",usage:"compare",expression:HC};function zC(r,i,t){return t===void 0&&(t={ratio:.15}),r.width<i.width*t.ratio}var WC={type:"padding",usage:"compare",expression:zC};function ZC(r,i){var t=2,e=i.coord.radius/t;return Math.min(e,r.value)}var UC={type:"padding",usage:"assign",expression:ZC};function $C(r,i,t){return t===void 0&&(t={ratio:.8}),i.radius*t.ratio}var KC={type:"padding",usage:"assign",expression:$C},Kh={elementDist:jC,elementDistVertical:VC,elementCollision:YC,elementWidth:WC,columnWidth:NC,ringThickness:KC,minRingThickness:UC};function eB(r,i){Kh[r]=i}function Za(r){r.attr("text","")}function QC(r,i,t,e){var n=e.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var u=n[s],c=u.shape;if(s!==t&&!c.get("blank")){var h=Qh(a,u);h&&o.push(u)}}o.length>0&&(o.push(a),o.sort(function(f,p){return p.top-f.top}),(0,l.each)(o,function(f,p){if(p>0){var g=f.shape;Za(g),g.set("blank",!0)}}))}function Qh(r,i){return!(r.bottom<i.top||i.bottom<r.top||r.right<i.left||i.right<r.left)}var ga=S(19432),qC=1e3,qh=60*qC,Nl=60*qh,ls=24*Nl,Jh=31*ls,tf=365*ls;function ef(r,i,t,e){var n=e.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=r.get("delegateObject").item.name,u=new Date(s),c=n[0].shape.get("delegateObject").item.name,h=new Date(c),f=n[n.length-1].shape.get("delegateObject").item.name,p=new Date(f),g=rf(h,p),_=rf(u,o);if(g===_){if(t!==0&&t!==n.length-1){var H=eS(g);r.attr("text",ga.default.format(u,H))}return}if(t!==0){var lt=n[t-1].shape.get("delegateObject").item.name,pt=new Date(lt),wt=JC(g,u,pt);if(wt){var H=tS(g,_);r.attr("text",ga.default.format(u,H));return}}}function JC(r,i,t){var e=nf(i,r),n=nf(t,r);return e===n}function rf(r,i){var t,e=Math.abs(r-i),n={minute:[qh,Nl],hour:[Nl,ls],day:[ls,Jh],month:[Jh,tf],year:[tf,Infinity]};return(0,l.each)(n,function(a,o){e>=a[0]&&e<a[1]&&(t=o)}),t}function tS(r,i){for(var t=["year","month","day","hour","minute"],e=["YYYY","MM","DD","HH","MM"],n=t.indexOf(r)+1,a=t.indexOf(i),o="",s=n;s<=a;s++)o+=e[s],s<a&&(o+="-");return o}function eS(r){var i=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],e=i.indexOf(r),n=t[e];return n}function nf(r,i){if(i==="year")return r.getFullYear();if(i==="month")return r.getMonth()+1;if(i==="day")return r.getDay()+1;if(i==="hour")return r.getHours()+1;if(i==="minute")return r.getMinutes()+1}function iS(r){var i=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return i.test(r)||t.test(r)}var af={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function of(r,i,t,e){if(!(!(0,l.has)(e,"node")||!(0,l.has)(e.node,"node"))){var n=e.nodes.nodes,a=parseFloat(r.get("origin").text);if(a!==0){if(i.formatter){r.attr("text",i.formatter(a));return}if(i.unit){var o=sf(i,a),s=o.num,u=o.unitname;r.attr("text",s+u)}else{var c=nS(n),h=lh(c),u=rS(h),f=af[u].number,p=aS(n),g=oS(p,f),s=sf({unit:u,decimal:g},a).num;r.attr("text",s+u)}}}}function sf(r,i){var t=["k","m","b","t"],e,n;if(r.unit==="auto"){var a=Math.floor(Math.log(i)/Math.log(1e3));n=t[a-1],e=(i/Math.pow(1e3,a)).toFixed(r.decimal)}else if(r.unit){var o=af[r.unit];n=r.unit,e=(i/o.number).toFixed(r.decimal)}return{num:e,unitname:n}}function rS(r){var i=["k","m","b","t"],t=Math.floor(Math.log(r)/Math.log(1e3));return i[t-1]}function nS(r){var i=[];return(0,l.each)(r,function(t){var e=t,n=parseFloat(e.shape.get("origin").text);i.push(n)}),i}function aS(r){if(r.length>=2){var i=parseFloat(r[0].shape.get("origin").text),t=parseFloat(r[1].shape.get("origin").text);return Math.abs(i-t)}return 0}function oS(r,i){var t=Math.floor(Math.log10(i));if(r>=i){var e=r%i;if(e>0){var n=Math.floor(Math.log10(e));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(r));return Math.abs(a-t)}return 0}function sS(r,i,t){var e=t.nodes.nodes;if(i!==e.length-1){var n=e[i],a=e[i+1],o=lS(n,a).dir,s=r.get("startPoint");o==="x"&&r.attr("y",s.y+20)}}function lS(r,i){var t,e={x:i.centerX-r.centerX,y:i.centerY-r.centerY},n=Math.sqrt(e.x*e.x+e.y*e.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=Ml(e,a),u=s/(n*o)*180/Math.PI;u<0&&(u=360-u),u=uS(u);var c=Math.abs(r.centerX-i.centerX),h=Math.abs(r.centerY-i.centerY);return u>45?t="x":u<45&&(t="y"),{dir:t,distX:c,distY:h}}function uS(r){return r>90&&r<=180?180-r:r>180&&r<270?r-180:360-r}function cS(r,i,t,e){var n=e.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(Qh(a,o)){var s=e.plot.view.geometries[0].elements[0],u=o.top-a.height/2,c=10;if(u-c>e.region.top){var h=a.shape.get("origin"),f=s.getShapeId(h),p=s.getShapes(),g=hS(f,p).get("box"),_=g.left+g.width/2,H=g.top,lt=s.get("labelController").labelsContainer,pt=lt.addShape("path",{attrs:{path:[["M",_,H],["L",a.shape.attr("x"),u]],stroke:"#ccc",lineWidth:1}}),wt={x:r.attr("x"),y:r.attr("y")};a.shape.attr("y",u-c),n[t]=e.nodes.measure(a.shape),n[t].line=pt,n[t].origin_position=wt}}}}function hS(r,i){var t;return(0,l.each)(i,function(e){var n=e,a=n.get("id");a===r&&(t=n)}),t}function fS(r,i,t,e){var n=e.nodes.nodes,a=n.length%2!=0;if(!lf(i.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&Za(r)}}function lf(r,i,t){var e=[];(0,l.each)(r,function(s){s==="start"?e.push(i===0):s==="end"?e.push(i===t.length-1):(0,l.isNumber)(s)&&e.push(i===s)});for(var n=0,a=e;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function vS(r,i,t,e){var n=e.nodes.nodes;if(!lf(i.keep,t,n)){var a=r.attr("text"),o=r.get("delegateObject").item.name;a!==o&&Za(r)}}function pS(r,i,t,e){var n=e.nodes.nodes,a=gS(n);if(!(t<=1)){var o=n[t],s=dS(t,n),u=s.centerX-o.centerX,c=s.centerY-o.centerY,h=Math.sqrt(u*u+c*c);h<a&&(Za(r),r.set("blank",!0))}}function dS(r,i){for(var t=r-1;t>0;t--){var e=i[t];if(!e.shape.get("blank"))return e}}function gS(r){var i=(0,l.deepMix)([],r);return i.sort(function(t,e){return e.width-t.width}),Math.round(i[0].width)}function yS(r,i,t,e){var n=e.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=e.plot.initialOptions.data,s=e.plot[e.plot.type]||e.plot[e.plot.baseType],u=(0,l.get)(s,["label","fields",0],(0,l.get)(s,["position","fields",1])),c=mS(o,u,n),h=!1;if((0,l.each)(c,function(_){_.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var f=a.origin_position,p=f.x,g=f.y;r.attr("x",p),r.attr("y",g)}}else Za(r)}function mS(r,i,t){var e=[];(0,l.each)(r,function(h){e.push(h[i])}),e.sort(function(h,f){return h-f});var n=e[0],a=Gl(t,i,n),o=e[e.length-1],s=Gl(t,i,o),u=xS(e),c=Gl(t,i,u);return{min:a,max:s,median:c}}function xS(r){var i=(0,l.clone)(r);i.sort(function(e,n){return e-n});var t=Math.floor(i.length/2);return i.length%2,i[t]}function Gl(r,i,t){for(var e=0,n=r;e<n.length;e++){var a=n[e],o=a.shape.get("origin")._origin;if(o[i]===t)return a}}function uf(r,i){var t=i.abbreviateBy?i.abbreviateBy:"end",e=r.attr("text"),n;t==="end"&&(n=e[0]+"..."),t==="start"&&(n="..."+e[e.length-1]),t==="middle"&&(n=e[0]+"..."+e[e.length-1]),r.resetMatrix(),r.attr({text:n,textAlign:"center",textBaseline:"top"})}function bS(r,i,t,e){var n=e.nodes.nodes,a=r.attr("text"),o=/^\d+$/.test(a);o?of(r,i,t,n):iS(a)?ef(r,i,t,n):uf(r,i)}function wS(r,i){r.resetMatrix(),r.attr({rotate:360-i.degree,textAlign:"right",textBaseline:"middle"})}function CS(r,i){for(var t=r.attr("text"),e=Math.ceil(t.length/i.lineNumber),n="",a=1;a<i.lineNumber;a++){var o=e*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=r.attr("fontSize");r.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var cf={textWrapper:CS,textRotation:wS,textAbbreviate:uf,textHide:Za,digitsAbbreviate:of,datetimeStringAbbrevaite:ef,robustAbbrevaite:bS,nodesResampling:fS,nodesResamplingByAbbrevate:vS,nodesResamplingByChange:pS,nodesResamplingByState:yS,nodeJitter:sS,nodeJitterUpward:cS,clearOverlapping:QC};function iB(r,i){cf[r]=i}var SS=function(){function r(i){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,l.assign)(this,i),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return r.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},r.prototype._iteration=function(){var i;this.nodes.type==="shape"?i=this.nodes:i=this.nodes,i.type==="shape"&&i.measureNodes(),this.rules&&this._applyRules(),i.type==="shape"&&i.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},r.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},r.prototype._run=function(){for(var i=this._constraintsTest();!i&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),i=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},r.prototype._constraintsTest=function(){var i=Kh[this.currentConstraint.name],t=this.currentConstraint.option;return i.usage==="compare"?this._constraintCompare(i,t):this._constraintAssignment(i,t)},r.prototype._constraintCompare=function(i,t){var e=i.type,n=i.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintCompare(n,a,t);if(e==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(e==="group")return this._groupConstraintCompare(n,a,t)},r.prototype._chainConstraintCompare=function(i,t,e){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(i(a,o,e)===!1)return!1}return!0},r.prototype._paddingConstraintCompare=function(i,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a];if(i(s,t,n)===!1)return!1}return!0},r.prototype._groupConstraintCompare=function(i,t,e){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(i(a,s,e)===!1)return!1}return!0},r.prototype._constraintAssignment=function(i,t){var e=i.type,n=i.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintAssign();if(e==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},r.prototype._chainConstraintAssign=function(){return!0},r.prototype._paddingConstraintAssign=function(i,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a],u=i(s,t,n);s.value=u}return!0},r.prototype._applyRules=function(){for(var i=this.rules[this.currentConstraint.name][this.iterationIndex],t=cf[i.name],e=i.option?i.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,e,a)}},r.prototype._applyRule=function(i,t,e,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(i,e,n,a)},r}(),hf=SS,MS=function(){function r(i){(0,l.assign)(this,i),this.init()}return r.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},r}(),ff=MS,AS={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},_S=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.init=function(){this.axisInstance=this.getAxisInstance(),r.prototype.init.call(this)},i.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},i.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll(function(h){var f=h.get("name");if(f==="axis-label"){var p=h.get("delegateObject").axis.get("field");if(p===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<e.length;a++)n.push(e[a]);var o=new $h({shapes:n}),s=this.responsiveTheme.axis.x[this.type],u=s.constraints,c=s.rules;new hf({nodes:o,constraints:u,region:this.plot.getViewRange(),rules:c,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},i.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&t[e].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return AS[a]},i.prototype.getAxisInstance=function(){var t,e,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(e=a[n])===null||e===void 0?void 0:e.component},i.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var u=o.get("delegateObject").axis.get("field");if(u===e.plot.options[e.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,l.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},i}(ff),ya=_S;function TS(r){var i=r.getResponsiveTheme(),t=r.canvas;new ya({plot:r,responsiveTheme:i,dim:"x"}),new ya({plot:r,responsiveTheme:i,dim:"y"}),t.draw()}var LS=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},i.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];(0,l.each)(t,function(u){e=e.concat(u.findAllByName("label"))});var n=new $h({shapes:e}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new hf({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},i.prototype.getType=function(){return null},i}(ff),vf=LS,ES=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getType=function(){return(0,l.get)(this.plot.options,["label","type"],"point")},i}(vf);function PS(r){var i=r.getResponsiveTheme();new ES({plot:r,responsiveTheme:i})}var OS=[],IS=[{name:"responsiveAxis",method:TS},{name:"responsivePointLabel",method:PS}],BS={preRender:OS,afterRender:IS},pf=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return Vt({offsetX:0,offsetY:0},n)},i.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},i.prototype.getLabelItemAttrs=function(t,e){var n=this,a=this.options,o=a.style,s=a.formatter,u=(0,l.get)(t,"model.mappingData",[]);return(0,l.map)(u,function(c,h){var f,p=n.getValue(c);return Vt(Vt(Vt({},n.getPosition(c)),{text:s?s(p,(f={},f[fo]=c._origin,f.mappingDatum=c,f.mappingDatumIndex=h,f.element=t,f.elementIndex=e,f),e):p,textAlign:"center",textBaseline:"middle"}),o)})},i.prototype.getValue=function(t){return(0,l.get)(t._origin,this.layer.options.yField)},i.prototype.getPosition=function(t){var e={x:(0,l.isArray)(t.x)?(0,l.last)(t.x):t.x,y:(0,l.isArray)(t.y)?(0,l.last)(t.y):t.y};return e},i.prototype.layoutLabels=function(t,e){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(e);if(a){var o=this.getGlobalTolerance(e);(0,l.each)(e,function(s,u){u>1&&n.labelResamplingByChange(s,e,u,o)})}a=this.isOverlapped(e),a&&(0,l.each)(e,function(s,u){s.get("visible")&&n.clearOverlapping(s,e,u)})}},i.prototype.adjustLabel=function(){},i.prototype.labelResamplingByChange=function(t,e,n,a){var o=this.findPrevious(n,e),s=this.getCenter(t),u=this.getCenter(o),c=u.x-s.x,h=u.y-s.y,f=Math.sqrt(c*c+h*h);f<a&&t.set("visible",!1)},i.prototype.clearOverlapping=function(t,e,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(o!==n&&s.get("visible")){var u=Jc(t.getBBox(),s.getBBox());u&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(c,h){return h.minY-c.minY}),(0,l.each)(a,function(c,h){h>0&&c.set("visible",!1)}))},i.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible")){for(var n=t[e].getBBox(),a=0;a<t.length;a++)if(a!==e&&t[a].get("visible")){var o=t[a].getBBox(),s=Jc(n,o);if(s)return!0}}return!1},i.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(e[0].getBBox().width)},i.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},i.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,a=e.maxX,o=e.minY,s=e.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},i}(bl),df=pf;Yr("point",pf);var gf=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.layoutLabels=function(t,e){var n=this,a,o=[],s=Qe.fromBBoxObject(this.getCoordinateBBox()),u=t.getXYFields(),c=u[0],h=u[1],f=(0,l.groupBy)(e,function(g){return g.get(Ur)[di.FIELD_ORIGIN][c]}),p=(a=e[0])===null||a===void 0?void 0:a.get("offset");(0,l.each)((0,l.keys)(f).reverse(),function(g){for(var _=n.sortLabels(t,f[g]);_.length;){var H=_.shift();if(Bw(H,o,function(wt,Ft){return wt._origin[c]===Ft._origin[c]&&wt._origin[h]===Ft._origin[h]})){H.set("visible",!1);continue}os(H,s);var lt=ss(H,o),pt=void 0;if(lt&&(H.attr("y",H.attr("y")+2*p),os(H,s),pt=ss(H,o)),pt){H.set("visible",!1);continue}o.push(H)}})},i.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],a=[];return e.sort(function(o,s){return s.get(Ur)[di.FIELD_ORIGIN][n]-o.get(Ur)[di.FIELD_ORIGIN][n]}),e.length>0&&a.push(e.shift()),e.length>0&&a.push(e.pop()),a.push.apply(a,e),a},i}(df),kS=gf;Yr("point-auto",gf);var FS=8,DS=function(){function r(i){this.destroyed=!1,this.view=i.view,this.plot=i.plot;var t=this.getDefaultOptions();this.options=(0,l.deepMix)(t,i,{}),this.init()}return r.prototype.init=function(){var i=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){i.clear(),i.plot.canvas.draw()})},r.prototype.render=function(){var i=this,t=this.getGeometry().elements;(0,l.each)(t,function(e){var n=i.getShapeInfo(e.shape),a=i.options,o=a.style,s=a.offsetX,u=a.offsetY,c=i.options.formatter,h=c?c(n.name):n.name;i.container.addShape("text",{attrs:(0,l.deepMix)({},{x:n.x+s,y:n.y+u,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getDefaultOptions=function(){var i=this.plot.theme,t=(0,l.clone)(i.label.style);return delete t.fill,{offsetX:FS,offsetY:0,style:t}},r.prototype.getGeometry=function(){return(0,l.find)(this.view.geometries,function(i){return i.type==="line"})},r.prototype.getShapeInfo=function(i){var t=i.get("origin").points,e=t[t.length-1],n=i.attr("stroke"),a=this.plot.options.seriesField,o=i.get("origin").data[0][a];return{x:e.x,y:e.y,color:n,name:o}},r}(),yf=DS,RS={line:"line",point:"point"},NS=vr(RS);(0,l.assign)(ui,NS);var GS={stroke:"transparent",fill:"#FCC509",lineWidth:0},YS={stroke:"#FFF",fill:"#FCC509",lineWidth:1},XS={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},jS=function(){function r(i){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:GS,selected:XS,active:YS},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=i.view,this.size=i.size||6,this.config=(0,l.deepMix)({},this.defaultCfg,i),this._init()}return r.prototype.render=function(){var i=this.getDataArray();this._renderPoints(i),this.view.canvas.draw(),this._addInteraction()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},r.prototype.getDataArray=function(){var i=this.view.geometries[0];return i.dataArray},r.prototype._init=function(){var i=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){i.clear()})},r.prototype._renderPoints=function(i){var t=this;(0,l.each)(this.config.data,function(e,n){(0,l.each)(i,function(a){var o=(0,l.find)(a,function(pt){return(0,l.isMatch)(pt._origin,e)});if(o){var s=t.config.style.normal,u=t.container.addGroup({name:t.name}),c=o.x,h=o.y;(0,l.isArray)(c)&&(c=c[0]),(0,l.isArray)(h)&&(h=h[0]);var f=t.config.symbol,p=t.config,g=p.offsetX,_=p.offsetY,H=void 0;if((0,l.isString)(f)&&f.startsWith("image://")){var lt=f.substr(8);H=u.addShape("image",{attrs:{x:c-t.size/2+g,y:h-t.size/2+_,img:lt,width:t.size,height:t.size}})}else f=(0,l.isString)(f)?i1.MarkerSymbols[f]:f,H=u.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:Vt(Vt({x:c+g,y:h+_,r:t.size/2},s),{symbol:f})});t.points.push(H),t._animatePoint(H),t._renderLabel(u,o,n),u.set("data",e),u.set("origin",o)}})})},r.prototype._renderLabel=function(i,t,e){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,u=s===void 0?0:s,c=n.formatter,h=n.position,f=n.field,p=t._origin[f];c&&(p=c(p,{_origin:t._origin},e));var g=(0,l.isArray)(t.x)?t.x[0]:t.x,_=(0,l.isArray)(t.y)?t.y[0]:t.y,H=i.addShape("text",{name:"marker-label",id:"label-"+e,attrs:Vt(Vt({x:g+o,y:_+u,text:p||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(H)}},r.prototype._addInteraction=function(){var i=this,t=this.config.events;(0,l.each)(t,function(e,n){i.container.on(i.name+":"+n,function(a){e(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var u=s.get("data"),c=s.get("id"),h={id:c,data:u};n==="click"?i.selectedPoint&&i.selectedPoint.get("id")===c?(i.selectedPoint=null,i.setState("inactive",h)):(i.selectedPoint=s,i.setState("selected",h)):n==="mouseenter"?i.setState("active",h):n==="mouseleave"&&i.setState("inactive",h)}i.view.canvas.draw()}),i.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==i.name&&i.selectedPoint)&&(i.selectedPoint=null,i.setState("inactive"))})})},r.prototype.setState=function(i,t){var e=this;i==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):i==="inactive"?this.points.forEach(function(n){return e._onInactive(n)}):i==="selected"&&this._onSelected(t)},r.prototype._onActive=function(i){var t=this,e=this.config.style.active;(0,l.each)(this.points,function(n){n.get("id")===i.id?(0,l.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},r.prototype._onInactive=function(i){var t=this.config.style.normal;(!this.selectedPoint||i.get("id")!==this.selectedPoint.get("id"))&&(0,l.each)(t,function(e,n){i.attr(n,e)})},r.prototype._onSelected=function(i){var t=this,e=this.config.style.selected;(0,l.each)(this.points,function(n){n.get("id")===i.id?(0,l.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},r.prototype._animatePoint=function(i){var t=this.config,e=t.animation,n=t.size;if(e!==!1){var a=e,o=a.endState,s=o===void 0?{}:o,u=a.animateCfg,c=u===void 0?va.DEFAULT_ANIMATE_CFG.appear:u;i.animate(Vt({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),c)}},r}(),HS=jS,VS=function(r){var i=r.shape,t=i.attr("lineWidth")||1;return{lineWidth:t+1}},zS=function(r){var i=r.shape,t=i.attr("opacity")||1;return{opacity:t*.2}},WS=function(r){var i=r.shape,t=i.attr("lineWidth")||1;return{lineWidth:t+2}};Xr("line",{lineStyle:{normal:{},active:VS,disable:zS,selected:WS},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var ZS={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};Gh("line",ZS);var US=function(r){qt(i,r);function i(t){return r.call(this,Vt({processEvent:"mousemove"},t))||this}return i.prototype.start=function(){},i.prototype.process=function(t){var e=(0,l.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,l.get)(t,"data.data");(0,l.each)(e,function(o){(0,l.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,l.each)(e,function(o){(0,l.each)(o.elements,function(s){s.setState("active",!1)})})},i}(Ll),$S=US,KS=function(r){qt(i,r);function i(t){return r.call(this,Vt({endEvent:"click"},t))||this}return i.prototype.start=function(){},i.prototype.end=function(t){var e=t.target,n=(0,l.filter)(this.view.geometries,function(o){return o.type=="line"});if(e.get("name")==="line"){var a=(0,l.get)(t,"data.data");(0,l.each)(n,function(o){(0,l.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,l.each)(n,function(o){(0,l.each)(o.elements,function(s){s.setState("inactive",!1)})})},i}(Ll),QS=KS,qS=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),i.prototype.getTooltipCfg=function(){var t=r.prototype.getTooltipCfg.call(this);return Vt(Vt({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},i}(Vc.Z);ae("selected-tooltip",qS);var JS=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.show=function(){var t=this.getPoint();(0,l.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},i.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},i.prototype.showTooltip=function(t){var e=this.getTooltipController();e.showTooltip(t)},i.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},i.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,l.last)(e.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},i.prototype.getView=function(){return this.context.view},i.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},i}(Ci),tM=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),i.prototype.getTooltipCfg=function(){var t=r.prototype.getTooltipCfg.call(this);return Vt(Vt({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},i}(Vc.Z);ae("tooltip-active",tM);var eM=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.init=function(){this.getView().removeInteraction("tooltip")},i.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},i.prototype.hide=function(){var t=this.getView(),e=this.getTooltipController();e.hideTooltip();var n=(0,l.filter)(t.geometries,function(a){return a.type=="point"});(0,l.each)(n,function(a){(0,l.each)(a.elements,function(o){o.setState("active",!1)})})},i.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,l.filter)(e.geometries,function(s){return s.type=="point"});(0,l.each)(o,function(s){(0,l.each)(s.elements,function(u){u.setState("active",(0,l.findIndex)(a,function(c){return c.data===u.data})!==-1)})})},i.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},i.prototype.getView=function(){return this.context.view},i.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},i}(Ci),iM=eM;St("selected-tooltip",JS),Si("selected-tooltip",{start:[{trigger:di.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:di.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),St("marker-active",iM),Si("marker-active",{start:[{trigger:di.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:di.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var rM={line:"line",point:"point"},mf=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},i.prototype.afterRender=function(){var t=this,e=this.options;this.renderLabel(),e.markerPoints&&((0,l.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],e.markerPoints.forEach(function(n){if(n.visible){var a=new HS(Vt(Vt({},n),{view:t.view}));t.markerPoints.push(a)}})),e.responsive&&e.padding!=="auto"&&this.applyResponsive("afterRender"),r.prototype.afterRender.call(this)},i.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},i.prototype.geometryParser=function(t,e){return rM[e]},i.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,l.has)(t,"xAxis")&&ur(e[t.xField],t.xAxis),e[t.yField]={},(0,l.has)(t,"yAxis")&&ur(e[t.yField],t.yAxis),this.setConfig("scales",e),OC(e[t.yField],(0,l.map)(t.data||[],function(n){return n[t.yField]})),r.prototype.scale.call(this)},i.prototype.coord=function(){},i.prototype.tooltip=function(){(0,l.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),r.prototype.tooltip.call(this)},i.prototype.addGeometry=function(){this.addLine(),this.addPoint()},i.prototype.addLine=function(){var t=this.options;this.line=Hi("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},i.prototype.addPoint=function(){var t=this.options,e={visible:!1};t.point&&(t.point=(0,l.deepMix)(e,t.point)),t.point&&t.point.visible&&(this.point=Hi("point","guide",{plot:this}),this.setConfig("geometry",this.point))},i.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=da(this.view,"line");if(n.type==="line"){var u=new yf(Vt({view:this.view,plot:this},this.options.label));u.render()}else this.doRenderLabel(s,Vt({type:"point",formatter:o.formatter&&function(c){return o.formatter(c)}},this.options.label))}},i.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},i.prototype.animation=function(){r.prototype.animation.call(this);var t=this.options;t.animation?(FC({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},i.prototype.applyInteractions=function(){r.prototype.applyInteractions.call(this),this.interactions.push(new $S({view:this.view})),this.interactions.push(new QS({view:this.view}))},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,q)},i.prototype.applyResponsive=function(t){var e=this,n=BS[t];(0,l.each)(n,function(a){var o=a;o.method(e)})},i.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},i}(Gi),go=mf;ri("line",mf);var nM=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="line",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=go.getDefaultOptions,i}(Ue),xf=nM;function aM(r,i,t,e,n){var a=e-i,o=r.children,s=r.value;o.sort(function(h,f){return f.value-h.value});var u=a/s,c=i;(0,l.each)(o,function(h){h.y0=t,h.y1=n,h.x0=c,c+=h.value*u,h.x1=h.x0+h.value*u})}function oM(r,i,t,e,n){var a=n-t,o=r.children,s=r.value;o.sort(function(h,f){return f.value-h.value});var u=a/s,c=t;(0,l.each)(o,function(h){h.x0=i,h.x1=e,h.y0=c,c+=h.value*u,h.y1=h.y0+h.value*u})}var sM=(1+Math.sqrt(5))/2;function bf(r,i,t,e,n){var a=r.children,o=r.value;a.sort(function(Oe,Re){return Re.value-Oe.value});for(var s=[],u,c,h,f,p,g,_,H,lt=0,pt=0;lt<a.length;){var wt=e-i,Ft=n-t;for(u=a[pt++].value,c=u,h=u,f=Math.max(Ft/wt,wt/Ft)/(o*sM),p=u*u*f,_=Math.max(c/p,p/h);pt<a.length;pt++){if(H=a[pt].value,u+=H,H<h&&(h=H),H>c&&(c=H),p=u*u*f,g=Math.max(c/p,p/h),g>_){u-=H;break}_=g}var Dt={value:u,dice:wt<Ft,children:a.slice(lt,pt)};if(s.push(Dt),Dt.dice){var te=o?Ft*u/o:Ft;aM(Dt,i,t,e,t+te),o&&(t+=te)}else{var ye=o?wt*u/o:wt;oM(Dt,i,t,i+ye,n),o&&(i+=ye)}o-=u,lt=pt}return s}var lM=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(e,n){return function(){var a=e.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return i.prototype.destroy=function(){this.offEvents(),r.prototype.destroy.call(this)},i.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=Vt({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=Vt({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=Vt({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=Vt({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=Vt({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},i.prototype.renderInner=function(t){var e=0,n=0;this.offEvents(),this.renderItems(t,e,n),Mh(this.group,this.x,this.y)},i.prototype.renderItems=function(t,e,n){var a=this,o=this.itemPadding,s=o[0],u=o[1],c=o[2],h=o[3],f,p=t.addShape("rect",{class:"breadcrumb-background",attrs:Vt({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(g,_){var H=t.addGroup({id:"item-group-"+g.key,data:g,class:"item-group",attrs:{cursor:"pointer"}}),lt=H.addShape("rect",{id:"item-background-"+g.key,class:"item-background",attrs:Vt(Vt({x:e,y:n,width:h+u,height:s+c},a.itemBackgroundStyle),{cursor:"pointer"})});lt.name="breadcrumb";var pt=H.addShape("text",{id:"item-text-"+g.key,class:"item-text",attrs:Vt(Vt({x:e+h,y:n+s,text:g.text},a.textStyle),{cursor:"pointer"})});pt.name="breadcrumb";var wt=pt.getBBox();f=a.itemHeight||wt.height;var Ft=a.itemWidth||wt.width;a.maxItemWidth&&(Ft=Math.min(Ft,a.maxItemWidth));var Dt={x:e,y:n,width:Ft+h+u,height:f+s+c};if(lt.attr("width",Dt.width),lt.attr("height",Dt.height),H.setClip({type:"rect",attrs:Dt}),e+=Dt.width,_!==a.items.length-1){var te=t.addShape("text",{attrs:Vt({x:e,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});e+=te.getBBox().width}}),p.attr({width:e,height:f+s+c})},i.prototype.bindEvents=function(t){var e=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,u,c){return function(){var h=u.get("data"),f=n.find(function(p){return p.key===h});e.emit(c,{item:f})}};a.forEach(function(s){var u=o("click",s,"onItemClick"),c=o("dblclick",s,"onItemDblclick"),h=e.onItemGroupToggleActive(s,!0),f=e.onItemGroupToggleActive(s,!1);s.on("click",u),s.on("dblclick",c),s.on("mouseenter",h),s.on("mouseleave",f),e.listeners.push({target:s,event:"click",callback:u}),e.listeners.push({target:s,event:"dblclick",callback:c}),e.listeners.push({target:s,event:"mouseenter",callback:h}),e.listeners.push({target:s,event:"mouseleave",callback:f})})},i.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,a=t.callback;e.off(n,a)}),this.listeners=[]},i}(vo),uM=lM,us=[1,0,0,0,1,0,0,0,1],Fa=400,Ua="easeQuadInOut";function cM(r,i,t){var e=Mf(r),n=Sf(i),a=n.width/e.width,o=n.height/e.height,s=(n.minX-e.minX)*a,u=(n.minY-e.minY)*o,c=za([["s",a,o],["t",s,u]]),h=i.geometries[0];cs(h);var f=i.backgroundGroup.addGroup();f.set("zIndex",-100),f.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var p=wf(h,f);h.container.set("visible",!1),i.canvas.draw(),t(),window.setTimeout(function(){(0,l.each)(p,function(lt,pt){pt===0?lt.animate({matrix:c},Fa,Ua,function(){f.remove(),i.canvas.draw()}):lt.animate(za,Fa)}),h=i.geometries[0],cs(h);var g=h.getShapes();(0,l.each)(g,function(lt){lt.attr("opacity",0),lt.animate({opacity:1},Fa,Ua)});var _=h.container;_.stopAnimate(),_.set("visible",!0),_.attr("matrix",(0,l.clone)(us)),Mw(_,[["s",e.width/n.width,e.height/n.height],["t",e.minX,e.minY]]);var H=(0,l.clone)(us);h.container.animate({matrix:H},Fa,Ua,function(){Af(h)}),i.canvas.draw()},16)}function wf(r,i){var t=r.getShapes(),e=[];return(0,l.each)(t,function(n){var a=i.addShape("path",{attrs:(0,l.deepMix)({},n.attrs,{capture:!1})});e.push(a)}),e}function Cf(r,i,t){var e=i.geometries[0];cs(e);var n=e.container;n.attr("matrix",(0,l.clone)(us));var a=i.backgroundGroup.addGroup();a.set("zIndex",-100);var o=wf(e,a);n.set("visible",!1),i.canvas.draw(),t(),e=i.geometries[0],cs(e),n=e.container;var s=hM(e.getShapes(),r),u=Mf(s),c=Sf(i),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:c.minX,y:c.minY,width:c.width,height:c.height}}),fM(a,o,u,c);var f=c.width/u.width,p=c.height/u.height,g=(c.minX-u.minX)*f,_=(c.minY-u.minY)*p,H=za([["s",f,p],["t",g,_]]);n.setMatrix(H),n.set("visible",!0),n.animate({matrix:us},Fa,Ua,function(){Af(e)})}function hM(r,i){var t;return(0,l.each)(r,function(e){var n=e.get("origin").data.name;n===i&&(t=e)}),t}function Sf(r){var i=r.coordinateBBox,t={minX:i.minX,minY:i.minY,centerX:(i.maxX-i.minX)/2,centerY:(i.maxY-i.minY)/2,width:i.width,height:i.height};return t}function Mf(r){var i=r.attr("path"),t=i[0][1],e=i[0][2],n=i[1][1],a=i[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(e-a)/2,width:Math.abs(n-t),height:Math.abs(e-a)};return o}function fM(r,i,t,e){var n=t.width/e.width,a=t.height/e.height,o=za([["s",n,a],["t",t.minX,t.minY]]);r.animate({matrix:o},Fa,Ua,function(){r.remove()}),(0,l.each)(i,function(s){s.animate({opacity:0},Fa,Ua)})}function cs(r){var i=r.labelsContainer;i.set("visible",!1)}function Af(r){var i=r.labelsContainer;i.set("visible",!0)}var vM=100,pM=30,dM=10,gM=function(r){r===void 0&&(r={});var i=Vt({x:0,y:0,startNode:{name:"root"},itemWidth:vM,itemHeight:pM,padding:[0,0,0,0]},r);return i},_f=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.getInteractionRange=function(t,e){var n=gM(e),a=n.padding,o=a[0],s=a[1];if(t)return new Qe(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},i.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,l.clone)(this.currentNode.name),value:(0,l.clone)(this.currentNode.value)},depth:(0,l.clone)(this.currentDepth)},this.currentDepth++,cM(t.target,this.view,function(){e.update(n)}))},i.prototype.update=function(t){(0,l.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},i.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,l.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+dM,this.breadcrumb=new uM({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},i.prototype.clear=function(){},i.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},i.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,l.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},i.prototype.findParent=function(t,e){if(t.parent)(0,l.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e);else return},i.prototype.onInteraction=function(){var t=this;this.container.on("click",function(e){var n=e.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?Cf(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,l.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?Cf(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},i.prototype.getRootItem=function(){var t=this.plot.options.data,e=(0,l.hasKey)(t,"name")?t.name:"root";return{key:"1",text:e,data:this.plot.rootData}},i.prototype.saveOriginMapping=function(){var t=this.plot.options,e=t.colorField,n=t.colors,a={field:e,values:n};this.originMapping=a},i.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&(0,l.hasKey)(this.mapping,String(t))){var n=(0,l.clone)(this.mapping[t]);if(n.values&&(0,l.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,l.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},i.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,e=this.geometry.container;e.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},i.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},i}(Mn),yM=_f;Mn.registerInteraction("drilldown",_f);var mM={drilldown:yM},xM={rect:"polygon",breadcrumb:"breadcrumb"},bM=vr(xM);(0,l.assign)(ui,bM);var Tf=4,wM=8;function CM(r,i){return!r.children||r.depth>=i}function SM(r,i,t){var e=r.attr("fontSize"),n=r.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),o=n.split(`
`),s=o.map(function(u){for(var c="",h=u.split(""),f=[],p=0;p<h.length;p++){var g=h[p];a.attr("text",c+=g);var _=a.getBBox().width-1;if(_>i){if(p===0)break;f.push(p),c=""}}return qc(h,f)});return a.remove(),s.join(`
`)}function Lf(r,i,t,e){for(var n=e.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:i}}),a=n.getBBox().width,o=e.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:i}}),s="",u=t-a,c=0;c<r.length;c++){var h=r[c];o.attr("text",s+=h);var f=o.getBBox().width;if(f>=u){var p=s.substr(0,s.length-1);if(p.length>0)return p+"..."}}return o.remove(),n.remove(),s}var MM=function(){function r(i){this.destroyed=!1,this.view=i.view,this.plot=i.plot;var t=this.getDefaultOptions();this.options=(0,l.deepMix)(t,i,{}),this.init()}return r.prototype.init=function(){var i=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){i.clear(),i.plot.canvas.draw()})},r.prototype.render=function(){var i=this,t=this.getGeometry().elements;(0,l.each)(t,function(e){var n=e.shape,a=n.get("origin").data,o=CM(a,i.plot.options.maxLevel);if(a.showLabel){var s=(0,l.clone)(i.options.style),u=i.getPosition(n,o),c=i.options.formatter,h=c?c(a.name):a.name,f=i.getTextBaseLine(o),p=i.container.addShape("text",{attrs:(0,l.deepMix)({},s,{x:u.x,y:u.y,text:h,fill:"black",textAlign:"center",textBaseline:f,fontWeight:o?300:600}),name:"label"});i.adjustLabel(p,n,o)}})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getPosition=function(i,t){var e=i.getBBox(),n=0,a=0;return t?(n=e.minX+e.width/2,a=e.minY+e.height/2):(n=e.x+e.width/2,a=e.y+4),{x:n,y:a}},r.prototype.getTextBaseLine=function(i){return i?"middle":"top"},r.prototype.adjustLabel=function(i,t,e){e?this.adjustLeafLabel(i,t):this.adjustParentLabel(i,t)},r.prototype.adjustLeafLabel=function(i,t){var e=t.getBBox(),n=i.getBBox(),a=(0,l.clone)(i.attr("text")),o=2,s=Math.max(i.attr("fontSize")-o,wM),u=e.x+e.width/2,c=e.y+e.height/2;i.attr({x:u,y:c,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=e.width-Tf*2;if(n.width>e.width&&n.height>e.height){i.attr("text","");return}else if(h<s){i.attr("text","");return}if(n.width>e.width){var f=SM(i,h,this.container);i.attr({lineHeight:i.attr("fontSize"),text:f});var p=i.getBBox();if(p.height>e.height){var g=Lf(a,s,h,this.container);i.attr("text",g)}}},r.prototype.adjustParentLabel=function(i,t){var e=t.getBBox(),n=e.width-Tf*2;if(i.getBBox().width>n){var a=Lf(i.attr("text"),i.attr("fontSize"),n,this.container);i.attr("text",a)}},r.prototype.getDefaultOptions=function(){var i=this.plot.theme,t=i.label.style;return{offsetX:0,offsetY:0,style:(0,l.clone)(t)}},r.prototype.getGeometry=function(){return(0,l.find)(this.view.geometries,function(i){return i.type==="polygon"})},r}(),AM=MM,_M=4,yo=4,Ef=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="treemap",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},i.prototype.beforeInit=function(){var t=this;r.prototype.beforeInit.call(this);var e=this.options.interactions;e&&(0,l.each)(e,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},i.prototype.afterRender=function(){if(r.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new AM(Vt({view:this.view,plot:this},this.options.label));t.render()}},i.prototype.geometryParser=function(){return"polygon"},i.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),a=bf(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,e),o.sort(function(s,u){return s.depth-u.depth}),this.options.xField="x",this.options.yField="y",o},i.prototype.processData=function(){return this.rootData},i.prototype.coord=function(){},i.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,a=e.colorField,o=e.color,s=this.getTreemapData(n);this.rootData=s;var u=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(c){var h=t.adjustStyleByDepth(c,u);return(0,l.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},i.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;(0,l.each)(e,function(a){var o=mM[a.type];if(o){var s=new o((0,l.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},i.prototype.animation=function(){r.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,G)},i.prototype.recursive=function(t,e){var n=this,a=this.options.colorField;(0,l.each)(t,function(o){(0,l.each)(o.children,function(s){s.depth=e,e>1&&(s.parent=o),(0,l.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var u=n.isLeaf(s);if(!u){var c=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),f=c/2>h?h:yo;s.showLabel=f!==yo;var p=bf(s,s.x0+yo,s.y0+f,s.x1-yo,s.y1-yo);n.fillColorField(p,a,s[a]),n.recursive(p,s.depth+1)}})})},i.prototype.getAllNodes=function(t,e,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,l.each)(t,function(u){(0,l.hasKey)(u,"x0")&&u.depth<=o&&e.push(Vt(Vt({},u),{x:[u.x0,u.x1,u.x1,u.x0],y:[s.height-u.y1,s.height-u.y1,s.height-u.y0,s.height-u.y0]})),(0,l.hasKey)(u,"children")&&a.getAllNodes(u.children,e)})},i.prototype.fillColorField=function(t,e,n){(0,l.each)(t,function(a){(0,l.hasKey)(a,e)||(a[e]=n)})},i.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:e}return n+_M*2},i.prototype.isLeaf=function(t){return!t.children||t.children.length===0},i.prototype.isNested=function(t){var e=this.options.maxLevel;if(e===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},i.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},i}(Gi),TM=Ef;ri("treemap",Ef);var LM=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="treemap",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=TM.getDefaultOptions,i}(Ue),Pf=LM,Of=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="step-line",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{step:"hv"})},i}(go);ri("step-line",Of);var EM=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="step-line",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=Of.getDefaultOptions,i}(Ue),If=EM;function Bf(r,i){var t=[],e=r.get("origin").points;return(0,l.each)(e,function(n){t.push(i.convertPoint(n))}),t}var PM=function(){function r(i){(0,l.deepMix)(this,this.constructor.getDefaultOptions(i),i),this._init()}return r.getDefaultOptions=function(i){var t=i.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(e,n){return(100*n/e).toFixed(2)+"%"}},animation:(0,l.deepMix)({},va.DEFAULT_ANIMATE_CFG)}},r.prototype._init=function(){var i=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){i.clear()})},r.prototype.draw=function(){var i=this,t=this.transpose,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,u,c;t?a.forEach(function(h,f){s=e[f],f++>0&&i._drawTag(u,c,h,s),c=s,u=h}):a.forEach(function(h,f){c=e[f],f++>0&&i._drawTag(h,c,o,s),s=c,o=h})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype._drawTag=function(i,t,e,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=Bf(i,o)[a?3:0],u=Bf(e,o)[a?0:3];this._drawTagArrow(s,u),this._drawTagValue(s,t,u,n)},r.prototype._drawTagArrow=function(i,t){var e=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,u=n.transpose,c=this.arrow.headSize,h=t.y-i.y,f=t.x-i.x,p;u?(f-c)/2<e?(e=Math.max(1,(f-c)/2),p=[[i.x+e,i.y-o],[i.x+e,i.y-o-a],[t.x-e,t.y-o-a/2]]):p=[[i.x+e,i.y-o],[i.x+e,i.y-o-a],[t.x-e-c,t.y-o-a],[t.x-e,t.y-o-a/2],[t.x-e-c,t.y-o]]:(h-c)/2<e?(e=Math.max(1,(h-c)/2),p=[[i.x+o,i.y+e],[i.x+o+a,i.y+e],[t.x+o+a/2,t.y-e]]):p=[[i.x+o,i.y+e],[i.x+o+a,i.y+e],[t.x+o+a,t.y-e-c],[t.x+o+a/2,t.y-e],[t.x+o,t.y-e-c]];var g=this.container.addShape("polygon",{name:"arrow",attrs:Vt(Vt({},this.arrow.style),{points:p})});s!==!1&&this._fadeInTagShape(g)},r.prototype._drawTagValue=function(i,t,e,n){var a=this,o=a.size,s=a.offset,u=a.animation,c=a.transpose,h=this.value.formatter(t,n),f=this.container.addShape("text",{name:"value",attrs:Vt(Vt({},this.value.style),{text:h,x:c?(i.x+e.x)/2:i.x+s+o/2,y:c?i.y-s-o/2:(i.y+e.y)/2,textAlign:"center",textBaseline:"middle"})});if(c){var p=e.x-i.x,g=f.getBBox().width;if(g>p){var _=g/h.length,H=Math.max(1,Math.ceil(p/_)-1),lt=h.slice(0,H)+"...";f.attr("text",lt)}}u!==!1&&this._fadeInTagShape(f)},r.prototype._fadeInTagShape=function(i){var t=this.animation,e=i.attr("opacity");i.attr("opacity",0);var n=(0,l.get)(t,"appear",va.DEFAULT_ANIMATE_CFG.appear).duration;i.animate({opacity:e},n)},r}(),kf=PM;function OM(r){var i=r.getResponsiveTheme(),t=r.canvas;new ya({plot:r,responsiveTheme:i,dim:"x"}),new ya({plot:r,responsiveTheme:i,dim:"y"}),t.draw()}var IM=[],BM=[{name:"responsiveAxis",method:OM}],kM={preRender:IM,afterRender:BM},FM=function(r){var i=r.opacity||1;return{opacity:i*.5}},DM=function(r){var i=r.opacity||1;return{opacity:i*.5}},Yl={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:FM,disable:DM,selected:{lineWidth:1,stroke:"black"}}};Xr("bar",Yl);function Kn(r){var i=r.indexOf("#")===0?r.substr(1):r,t=[];return t.push(parseInt(i.substr(0,2),16)),t.push(parseInt(i.substr(2,2),16)),t.push(parseInt(i.substr(4,2),16)),t}function Xl(r){var i;return i=Math.round(r),i=i.toString(16),i.length===1&&(i="0"+r),i}function rB(r){return"#"+(Xl(r[0])+Xl(r[1])+Xl(r[2]))}function hs(r,i){var t;return(0,l.each)(r,function(e){var n=e;i>=n.from&&i<n.to&&(t=n.color)}),t}var jl=function(r){var i=Kn(r),t=i[0],e=i[1],n=i[2],a=(t*299+e*587+n*114)/1e3<128;return a},Ff=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getLabelItemAttrs=function(t,e){var n,a=this.options,o=a.style,s=a.formatter,u=[].concat(t.getModel().mappingData),c=this.getValue(t);return(0,l.deepMix)({},o,Vt(Vt({},this.getPosition(t)),{text:s?s(c,(n={},n[fo]=u[0]._origin,n.mappingDatum=u[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):c,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},i.prototype.adjustLabel=function(t,e){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),u=t.getBBox(),c=this.getElementShapeBBox(e);if(c.width<=u.width){var h=c.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},i.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return Vt({offsetX:0,offsetY:0,adjustPosition:!0},n)},i.prototype.getValue=function(t){return(0,l.get)(t.getData(),this.layer.options.xField)},i.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,u=a.minY,c=a.height,h=a.width,f=this.options,p=f.offsetX,g=f.offsetY,_=f.position,H=u+c/2+g,lt=n<0?-1:1,pt;if(_==="left"){var wt=n>0?o:s;pt=wt+e*lt+p}else if(_==="right"){var wt=n>0?s:o;pt=wt+e*lt+p}else pt=o+h/2+p;return{x:pt,y:H}},i.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=Kn(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,u=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],c=hs(u,s);return c}var h=this.options.style.fill;return h},i.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&e!=="black"?null:void 0},i.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return e<0?o[n]:a[n]},i.prototype.getTextBaseline=function(){return"middle"},i.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,l.each)(n.get("origin").points,function(g){a.push(e.coord.convertPoint(g))});var o=a.map(function(g){return g.x}),s=Math.min.apply(Math,o),u=Math.max.apply(Math,o),c=a.map(function(g){return g.y}),h=Math.min.apply(Math,c),f=Math.max.apply(Math,c),p=new Qe(s,h,u-s,f-h);return p},i.prototype.getLabelOffset=function(){return{x:0,y:0}},i}(bl),Df=Ff;Yr("bar",Ff);var Rf=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,u=a.minY,c=a.height,h=this.options,f=h.offsetX,p=h.offsetY,g=u+c/2+p,_=n<0?-1:1,H=n>0?s:o,lt=H+e*_+f;return{x:lt,y:g}},i.prototype.getTextAlign=function(t){var e=this.getValue(t);return e>0?"left":"right"},i.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},i.prototype.getTextStroke=function(t){},i.prototype.adjustLabel=function(t,e){},i.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},i.prototype.shouldInShapeLabels=function(t){var e=this;return(0,l.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.height>=a.height})},i.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,u=s.darkStyle,c=s.lightStyle,h=(0,l.groupBy)(e,function(f){return f.get(Ur)[di.FIELD_ORIGIN][o]});(0,l.each)(e,function(f){var p=h[f.get(Ur)[di.FIELD_ORIGIN][o]]||[],g=f.get("element"),_=g.shape,H=jl(_.attr("fill")),lt=n.getElementShapeBBox(g),pt=Qe.fromBBoxObject(f.getBBox());if(Ol(a,lt)<=0&&f.set("visible",!1),pt.width>lt.width){var wt=(0,l.findIndex)(p,function(Dt){return Dt===f});wt!==p.length-1&&f.set("visible",!1)}else{f.attr({x:lt.x+lt.width/2,textAlign:"center"});var Ft=pt.width>lt.width||pt.height>lt.height;Ft?f.attr({stroke:c==null?void 0:c.stroke}):f.attr({fill:H?c==null?void 0:c.fill:u==null?void 0:u.fill,fillOpacity:H?c==null?void 0:c.fillOpacity:u==null?void 0:u.fillOpacity,stroke:void 0})}})},i.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],u=[],c=(0,l.groupBy)(a,function(g){return g.get(Ur)[di.FIELD_ORIGIN][o]}),h=(0,l.uniq)((0,l.map)(a,function(g){return g.get(Ur)[di.FIELD_ORIGIN][o]})),f;for((0,l.size)(h)>0&&(f=h.shift(),(0,l.each)(c[f],function(g){return u.push(g)})),(0,l.size)(h)>0&&(f=h.pop(),(0,l.each)(c[f],function(g){return u.push(g)})),(0,l.each)(h.reverse(),function(g){(0,l.each)(c[g],function(_){return u.push(_)})});u.length>0;){var p=u.shift();p.get("visible")&&(os(p,n),ss(p,s)?p.set("visible",!1):s.push(p))}},i.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,l.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},i}(Df),RM=Rf;Yr("bar-auto",Rf);var NM={bar:"interval"},GM=vr(NM);(0,l.assign)(ui,GM);var YM={bar:"interval"},XM={interval:"bar"},Nf=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="bar",t}return i.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,l.deepMix)({},r.getDefaultOptions.call(this),t)},i.prototype.beforeInit=function(){r.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},i.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new kf(Vt({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),r.prototype.afterRender.call(this)},i.prototype.geometryParser=function(t,e){return t==="g2"?YM[e]:XM[e]},i.prototype.processData=function(t){var e=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,l.each)(e,function(o){var s=(0,l.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},i.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},(0,l.has)(t,"yAxis")&&ur(e[t.yField],t.yAxis),e[t.xField]={},(0,l.has)(t,"xAxis")&&ur(e[t.xField],t.xAxis),this.setConfig("scales",e),r.prototype.scale.call(this)},i.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},i.prototype.axis=function(){var t=Sr("axis",{plot:this,dim:"x"}),e=Sr("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},i.prototype.adjustBar=function(t){return null},i.prototype.addGeometry=function(){var t=this.options,e=Hi("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,l.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},i.prototype.animation=function(){r.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,z)},i.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=da(this.view,"interval");this.doRenderLabel(s,Vt({type:"bar",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},i.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},i.prototype.applyResponsive=function(t){var e=this,n=kM[t];(0,l.each)(n,function(a){var o=a;o.method(e)})},i.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},i}(Gi),fs=Nf;ri("bar",Nf);var jM=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="bar",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=fs.getDefaultOptions,i}(Ue),Gf=jM;Xr("stackedBar",Yl);var HM=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(e);a.maxX<=n.maxX&&t.set("visible",!1)}},i}(Df),nB=null;Yr("stacked-bar",HM);var VM=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.shouldInShapeLabels=function(t){return!0},i}(RM),aB=null;Yr("stacked-bar-auto",VM);var Yf=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},i.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},i.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},i.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=da(this.view,"interval");this.doRenderLabel(s,Vt({type:"stacked-bar",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},i.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},i}(fs),Hl=Yf;ri("stackedBar",Yf);var zM=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="stackedBar",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=Hl.getDefaultOptions,i}(Ue),Xf=zM;Xr("groupedBar",Yl);var jf=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},i.prototype.afterRender=function(){r.prototype.afterRender.call(this);var t=(0,l.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(e){var n=e.items,a=n===void 0?[]:n,o=(0,l.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,u){e.items[u]=s})})},i.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},i.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,l.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,l.deepMix)({},this.options.meta,t):this.options.meta=t,r.prototype.scale.call(this)},i.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},i.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},i}(fs),Hf=jf;ri("groupedBar",jf);var WM=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="groupedBar",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=Hf.getDefaultOptions,i}(Ue),Vf=WM,Vl=function(r,i,t){var e=(0,l.groupBy)(r,i);e=(0,l.mapValues)(e,function(o){return(0,l.map)(o,function(s){return(0,l.map)(t,function(u){return s[u]})})}),e=(0,l.mapValues)(e,l.flatten),e=(0,l.mapValues)(e,function(o){return(0,l.map)(o,function(s){var u=Number.parseFloat(s);return!(0,l.isNumber)(u)||isNaN(u)?0:u})});var n=(0,l.mapValues)(e,function(o){return(0,l.reduce)(o,function(s,u){return s+u},0)}),a=(0,l.map)(r,function(o){var s=Vt(Vt({},o),{_origin:o,total:n[o[i]]});return(0,l.each)(t,function(u){s[u]=o[u]/(n[o[i]]||1)}),s});return(0,l.each)((0,l.groupBy)(a,i),function(o){var s=0;(0,l.each)(o,function(u,c){(0,l.each)(t,function(h,f){(s+u[h]>=1||c===o.length-1&&f===t.length-1&&s>0)&&(u[h]=1-s),s+=u[h]})})}),a},zf=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="percentStackedBar",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},i.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField,o=r.prototype.processData.call(this,t);return Vl(o,a,[n])},i.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,l.deepMix)({},this.options.meta,t),r.prototype.scale.call(this)},i}(Hl),Wf=zf;ri("percentStackedBar",zf);var ZM=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="percentStackedBar",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=Wf.getDefaultOptions,i}(Ue),Zf=ZM,Uf=8;function UM(r,i){var t;return(0,l.each)(r,function(e){var n=e;i>=n.from&&i<n.to&&(t=n.color)}),t}var $M=function(){function r(i){this.destroyed=!1,this.view=i.view,this.plot=i.plot;var t=this.getDefaultOptions();this.options=(0,l.deepMix)(t,i,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return r.prototype.init=function(){var i=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){i.clear(),i.plot.canvas.draw()})},r.prototype.render=function(){var i=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,(0,l.each)(e,function(a){var o=a.shape,s=i.getPosition(o),u=i.getValue(o),c=i.getTextAlign(),h=[];(0,l.each)(s,function(f,p){var g=p===0?i.options.leftStyle:i.options.rightStyle,_=i.getTextColor(o,p);i.options.position==="inner"&&i.options.adjustColor&&_!=="black"&&(g.stroke=null);var H=i.options.formatter,lt=H?H(u[p]):u[p],pt=i.container.addShape("text",{attrs:(0,l.deepMix)({},g,{x:f.x,y:f.y,text:lt,fill:_,textAlign:c[p],textBaseline:"middle"}),name:"label"});h.push(pt),i.doAnimation(pt)}),o.set("labelShapes",h),i.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getShapeBbox=function(i){var t=this,e=[];(0,l.each)(i.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Qe(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},r.prototype.getDefaultOptions=function(){var i=this.plot.theme,t=i.label.style;return{position:"outer",offsetX:Uf,offsetY:0,style:(0,l.clone)(t),adjustColor:!0,adjustPosition:!0}},r.prototype.getPosition=function(i){var t=this.getShapeBbox(i),e=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,u=s.offsetX,c=s.offsetY,h=a+o/2+c,f,p;return this.options.position==="outer"?(f=e-u,p=n+u):(f=e+u,p=n-u),[{x:f,y:h},{x:p,y:h}]},r.prototype.getValue=function(i){var t=this.plot.options.xField;return i.get("origin").data[t]},r.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},r.prototype.getTextColor=function(i,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=i.attr("fill"),n=i.attr("opacity")?i.attr("opacity"):1,a=Kn(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=UM(s,o);return u}var c=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return c},r.prototype.doAnimation=function(i){this.plot.animation&&this.plot.animation===!1||(i.attr("fillOpacity",0),i.attr("strokeOpacity",0),i.stopAnimate(),i.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},r.prototype.adjustPosition=function(i,t,e){var n=e.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),u=this.view.coordinateBBox,c=[i.getBBox(),t.getBBox()],h=i.attr("x"),f=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var p=c[0].width+c[1].width,g=c[0].maxX-c[1].minX>2,_=p>s;(g||_)&&(h=a-this.options.offsetX,i.attr("fill",this.options.leftStyle.fill),i.attr("textAlign","right"),c[0]=i.getBBox(),f=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),c[1]=t.getBBox())}c[0].minX<u.minX&&(h=u.minX+Uf,i.attr("textAlign","left")),i.attr("x",h),t.attr("x",f),this.plot.canvas.draw()},r.prototype.getGeometry=function(){return(0,l.find)(this.view.geometries,function(i){return i.type==="interval"})},r}(),KM=$M,$f;function Kf(r,i){var t=r.getBBox(),e=t.minX+t.width/2;r.setClip({type:"rect",attrs:{x:e,y:t.minY,width:0,height:t.height}});var n=r.get("clipShape");n.animate({width:t.width,x:t.minX},i.duration,i.easing,function(){r.setClip(null)},i.delay)}Kf.animationName="clipInFromCenter";function QM(r){$f=r}function Qf(r,i){var t=qM(r).attr("path"),e=(0,l.clone)(r.attr("path"));r.attr("path",t),r.animate({path:e},i.duration,i.easing,i.callback,100)}function qM(r){var i=r.id,t;return(0,l.each)($f,function(e){e.id===i&&(t=e)}),t}Qf.animationName="updateFromCenter",ji("clipInFromCenter",Kf),ji("updateFromCenter",Qf);var qf=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="rangeBar",t}return i.getDefaultOptions=function(){return(0,l.deepMix)(r.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},i.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,l.each)(e,function(n){var a=n.elements;(0,l.each)(a,function(o){t.push(o.shape)})}),QM(t),r.prototype.afterRender.call(this)},i.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new KM(Vt({view:this.view,plot:this},this.options.label));t.render()}},i.prototype.animation=function(){r.prototype.animation.call(this)},i}(fs),JM=qf;ri("rangeBar",qf);var tA=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="rangeBar",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=JM.getDefaultOptions,i}(Ue),Jf=tA,tv=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i}(df),eA=tv;Yr("area-point",tv);var ev=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.layoutLabels=function(t,e){r.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},i.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=da(e,"area"),u=Iw(s).sort(function(c,h){return h.getBBox().height-c.getBBox().height});(0,l.each)(t,function(c){var h=c.getBBox(),f=I1(h.x,h.y,h.width,h.height),p=(0,l.map)(u,function(H){return{area:H,matches:(0,l.filter)(f,function(lt){return!!H.isHit(lt[0],lt[1])}).length}}).sort(function(H,lt){return H.matches-lt.matches});if((0,l.last)(p).matches>0){var g=(0,l.last)(p).area.attr("fill"),_=jl(g);c.attr({fill:_?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:_?o.fillOpacity:a.fillOpacity,stroke:_?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},i}(kS),iA=ev;Yr("area-point-auto",ev);function rA(r){var i=r.getResponsiveTheme(),t=r.canvas;new ya({plot:r,responsiveTheme:i,dim:"x"}),new ya({plot:r,responsiveTheme:i,dim:"y"}),t.draw()}var nA=[],aA=[{name:"responsiveAxis",method:rA}],oA={preRender:nA,afterRender:aA},sA={area:"area",line:"line",point:"point"},lA=vr(sA);(0,l.assign)(ui,lA);var uA=function(r){var i=r.opacity||1;return{opacity:i}},cA=function(r){var i=r.opacity||1;return{opacity:i*.5}},hA=function(r){var i=r.opacity||1;return{opacity:i}},fA=function(r){var i=r.opacity||1;return{opacity:i*.5}},vA=function(r){var i=r.lineWidth||1;return{lineWidth:i+2}},pA=function(r){var i=r.fill||r.fillStyle,t=r.size||r.radius;return{radius:t+1,shadowBlur:t,shadowColor:i,stroke:i,strokeOpacity:1,lineWidth:1}},dA=function(r){var i=r.fill||r.fillStyle,t=r.size||r.radius;return{radius:t+2,shadowBlur:t,shadowColor:i,stroke:i,strokeOpacity:1,lineWidth:2}},gA=function(r){var i=r.opacity||r.fillOpacity||1;return{opacity:i*.5}},iv={areaStyle:{normal:{},active:uA,disable:cA,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:hA,disable:fA,selected:vA},pointStyle:{normal:{},active:pA,disable:gA,selected:dA},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};Xr("area",iv);var yA={area:"area",line:"line",point:"point"},rv=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="area",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},i.prototype.beforeInit=function(){r.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},i.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),r.prototype.afterRender.call(this)},i.prototype.geometryParser=function(t,e){return yA[e]},i.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,l.has)(t,"xAxis")&&ur(e[t.xField],t.xAxis),e[t.yField]={},(0,l.has)(t,"yAxis")&&ur(e[t.yField],t.yAxis),this.setConfig("scales",e),r.prototype.scale.call(this)},i.prototype.coord=function(){return null},i.prototype.addGeometry=function(){var t=this.options,e=Hi("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},i.prototype.adjustArea=function(t){},i.prototype.adjustLine=function(t){},i.prototype.adjustPoint=function(t){},i.prototype.addLine=function(){var t=this.options,e=(0,l.deepMix)({},t.line);if(e.visible){var n=Hi("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},i.prototype.addPoint=function(){var t=this.options,e=(0,l.deepMix)({},t.point);if(e.visible){var n=Hi("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},i.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=da(this.view,"area");this.doRenderLabel(s,Vt({type:"area-point",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},i.prototype.animation=function(){r.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},i.prototype.label=function(){},i.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,$)},i.prototype.applyResponsive=function(t){var e=this,n=oA[t];(0,l.each)(n,function(a){var o=a;o.method(e)})},i}(Gi),zl=rv;ri("area",rv);var mA=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="area",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=zl.getDefaultOptions,i}(Ue),nv=mA,xA=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],u=(0,l.reduce)(n.y,function(c,h){return c+h},0)/(0,l.size)(n.y);return{x:n.x,y:u,color:a,name:s}},i}(yf),bA=xA,Wl=12,wA=.01,CA=100,SA=12;function MA(r){var i=-Infinity,t=Infinity,e=-Infinity;return(0,l.each)(r,function(n){t=Math.min(n.x,t),e=Math.max(n.x,e);var a=Math.abs(n.y[0]-n.y[1]);i=Math.max(i,a)}),{xRange:[t,e],maxHeight:i}}function av(r,i,t){var e=i[0],n=i[i.length-1];(0,l.each)(i,function(o){if(o.x===r)return o.y[t];o.x<r&&o.x>e.x&&(e=o),o.x>r&&o.x<n.x&&(n=o)});var a=(r-e.x)/(n.x-e.x);return e.y[t]*(1-a)+n.y[t]*a}function AA(r,i){var t;for(t=0;t<r.length;t++){var e=r[t];if(e.x===i||e.x>i)break}return t}var _A=function(){function r(i){this.destroyed=!1,this.scaleFactor=[],this.view=i.view,this.plot=i.plot;var t=this.getDefaultOptions();this.options=(0,l.deepMix)(t,i,{}),this.init()}return r.prototype.init=function(){var i=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){i.clear(),i.plot.canvas.draw()})},r.prototype.render=function(){var i=this,t=this.plot.options.stackField,e=this.getGeometry().dataArray,n=[];(0,l.each)(e,function(o,s){var u=i.drawLabel(o,s);u&&(n.push((0,l.deepMix)({},o[0],u)),i.scaleFactor.push(u.scaleFactor))});var a=[];(0,l.each)(n,function(o,s){var u=i.options,c=u.style,h=u.offsetX,f=u.offsetY,p=i.getFontSize(s),g=i.options.formatter,_=g?g(o._origin[t]):o._origin[t],H=i.container.addShape("text",{attrs:(0,l.deepMix)({},{x:o.x+h,y:o.y+f,text:_,fill:o.color,fontSize:p,textAlign:"center",textBaseline:"top"},c),name:"label"});a.push(H)}),this.plot.canvas.draw()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getDefaultOptions=function(){var i=this.plot.theme,t=(0,l.clone)(i.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},r.prototype.drawLabel=function(i,t){var e=MA(i),n=e.xRange,a=e.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,i),u=this.getLabelBbox(t),c={xRange:n,aspect:u.width/u.height,data:s,justTest:!0},h=this.bisection(SA,a,this.testFit,c,wA,CA);if(h!==null){c.justTest=!1;var f=this.testFit(c);return f.x=f.x,f.y=f.y0+(f.y1-f.y0)/2,f.scaleFactor=h/u.height*.2,f}},r.prototype.getInterpolatedPoints=function(i,t,e){for(var n=[],a=2,o=i;o<t;o+=a){var s=av(o,e,0),u=av(o,e,1);n.push({x:o,y:[s,u]})}return n},r.prototype.bisection=function(i,t,e,n,a,o){for(var s=0;s<o;s++){var u=(i+t)/2,c=n;c.height=u,c.width=u*c.aspect;var h=e(c),f=(t-i)/2<a;if(h&&f)return u;h?i=u:t=u}return null},r.prototype.testFit=function(i){for(var t=i.xRange,e=i.width,n=i.height,a=i.data,o=i.justTest,s=0;s<a.length;s++){var u=a[s],c=u.x,h=c+e;if(h>t[1])break;for(var f=AA(a,h),p=-Infinity,g=null,_=Infinity,H=s;H<f;H++){var lt=a[H].y[1],pt=a[H].y[0];if(pt<_&&(_=pt),lt>p&&(p=lt,g=pt),_-p<n)break}if(_-p>=n)return o?!0:{x:c,y0:p,y1:g,width:e,height:n}}return!1},r.prototype.getLabelBbox=function(i){var t=(0,l.clone)(this.plot.theme.label.textStyle);t.fontSize=Wl;var e=this.container.addShape("text",{attrs:Vt({text:i,x:0,y:0},t)}),n=e.getBBox();return e.remove(),n},r.prototype.getGeometry=function(){return(0,l.find)(this.view.geometries,function(i){return i.type==="area"})},r.prototype.getFontSize=function(i){if(this.options.autoScale){var t=this.scaleFactor[i];return Wl*t}return Wl},r}(),TA=_A,LA={lineLabel:{Ctr:bA},areaLabel:{Ctr:TA}};function EA(r,i,t){if(r.options[i]&&r.options[i].visible){var e=LA[i],n=new e.Ctr(t);return e.padding&&r.paddingController.registerPadding(n,e.padding),n}}var PA=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i}(eA),oB=null;Yr("stackedArea-point",PA);var OA=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},i}(iA),sB=null;Yr("stackedArea-point-auto",OA),Xr("stackedArea",iv);var ov=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},i.prototype.beforeInit=function(){var t=(0,l.get)(this.options,["label","visible"]),e=(0,l.get)(this.options,["label","type"]),n=this.options;t&&(e==="line"&&(n.lineLabel=this.options.label),e==="area"&&(n.areaLabel=this.options.label)),r.prototype.beforeInit.call(this)},i.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},i.prototype.label=function(){var t=this.options,e=t.label;if(e&&e.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},i.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},i.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},i.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},i.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,r.prototype.afterRender.call(this)},i.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},i.prototype.renderPlotComponents=function(){var t=this,e=["areaLabel","lineLabel"];(0,l.each)(e,function(n){var a=Vt({view:t.view,plot:t},t.options[n]),o=EA(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},i}(zl),Zl=ov;ri("stackedArea",ov);var IA=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="stackedArea",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=Zl.getDefaultOptions,i}(Ue),sv=IA,lv=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},i.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return Vl(t,n,[a])},i.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,l.deepMix)({},t,this.options.meta),r.prototype.scale.call(this)},i}(Zl),uv=lv;ri("percentStackedArea",lv);var BA=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="percentStackedArea",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=uv.getDefaultOptions,i}(Ue),cv=BA;function kA(r){var i=r.getResponsiveTheme(),t=r.canvas;new ya({plot:r,responsiveTheme:i,dim:"x"}),new ya({plot:r,responsiveTheme:i,dim:"y"}),t.draw()}var FA=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getType=function(){return(0,l.get)(this.plot.options,["label","position"],"inner")},i}(vf);function DA(r){var i=r.getResponsiveTheme();new FA({plot:r,responsiveTheme:i})}var RA=[],NA=[{name:"responsiveAxis",method:kA},{name:"responsiveLabel",method:DA}],GA={preRender:RA,afterRender:NA},YA={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};Gh("column",YA);var hv=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getLabelItemAttrs=function(t,e){var n,a,o=this.options,s=o.style,u=o.formatter,c=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,l.deepMix)({},s,Vt(Vt({},this.getPosition(t)),{text:u?u(h,(n={},n[fo]=(a=c[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=c[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},i.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return Vt({offsetX:0,offsetY:0,adjustPosition:!0},n)},i.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(e);if(s.height<=o.height){var u=s.minY+this.options.offsetY-a;t.attr("y",u),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},i.prototype.getValue=function(t){return(0,l.get)(t.getData(),this.layer.options.yField)},i.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,u=a.maxY,c=a.height,h=a.width,f=this.options,p=f.offsetX,g=f.offsetY,_=f.position,H=o+h/2+p,lt=n>0?-1:1,pt;if(_==="top"){var wt=n>0?s:u;pt=wt+e*lt+g}else if(_==="bottom"){var wt=n>0?u:s;pt=wt+e*lt+g}else pt=s+c/2+g;return{x:H,y:pt}},i.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=Kn(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,u=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],c=hs(u,s);return c}var h=this.options.style.fill;return h},i.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&e!=="black"?null:void 0},i.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,l.each)(n.get("origin").points,function(g){a.push(e.coord.convertPoint(g))});var o=a.map(function(g){return g.x}),s=Math.min.apply(Math,o),u=Math.max.apply(Math,o),c=a.map(function(g){return g.y}),h=Math.min.apply(Math,c),f=Math.max.apply(Math,c),p=new Qe(s,h,u-s,f-h);return p},i.prototype.getTextAlign=function(){return"center"},i.prototype.getTextBaseLine=function(){return"middle"},i.prototype.getLabelOffset=function(){return{x:0,y:0}},i}(bl),Ul=hv;Yr("column",hv);var fv=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,u=a.maxY,c=a.width,h=this.options,f=h.offsetX,p=h.offsetY,g=o+c/2+f,_=n>0?-1:1,H=n>0?s:u,lt=H+e*_+p;return{x:g,y:lt}},i.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},i.prototype.getTextStroke=function(t){},i.prototype.adjustLabel=function(t,e){},i.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},i.prototype.shouldInShapeLabels=function(t){var e=this;return(0,l.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.width>=a.width})},i.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,u=s.darkStyle,c=s.lightStyle,h=(0,l.groupBy)(e,function(f){return f.get(Ur)[di.FIELD_ORIGIN][o]});(0,l.each)(e,function(f){var p=h[f.get(Ur)[di.FIELD_ORIGIN][o]]||[],g=f.get("element"),_=g.shape,H=jl(_.attr("fill")),lt=n.getElementShapeBBox(g),pt=Qe.fromBBoxObject(f.getBBox());if(Ol(a,lt)<=0&&f.set("visible",!1),pt.height>lt.height){var wt=(0,l.findIndex)(p,function(Dt){return Dt===f});wt!==0&&f.set("visible",!1)}else{f.attr({y:lt.y+lt.height/2,textBaseline:"middle"});var Ft=pt.width>lt.width||pt.height>lt.height;Ft?f.attr({stroke:c==null?void 0:c.stroke}):f.attr({fill:H?c==null?void 0:c.fill:u==null?void 0:u.fill,fillOpacity:H?c==null?void 0:c.fillOpacity:u==null?void 0:u.fillOpacity,stroke:void 0})}})},i.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],u=[],c=(0,l.groupBy)(a,function(g){return g.get(Ur)[di.FIELD_ORIGIN][o]}),h=(0,l.uniq)((0,l.map)(a,function(g){return g.get(Ur)[di.FIELD_ORIGIN][o]})),f;for((0,l.size)(h)>0&&(f=h.shift(),(0,l.each)(c[f],function(g){return u.push(g)})),(0,l.size)(h)>0&&(f=h.pop(),(0,l.each)(c[f],function(g){return u.push(g)})),(0,l.each)(h.reverse(),function(g){(0,l.each)(c[g],function(_){return u.push(_)})});u.length>0;){var p=u.shift();p.get("visible")&&(os(p,n),ss(p,s)?p.set("visible",!1):s.push(p))}},i.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,l.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},i}(Ul),XA=fv;Yr("column-auto",fv);var jA={column:"interval"},HA=vr(jA);(0,l.assign)(ui,HA);var VA=function(r){var i=r.opacity||1;return{opacity:i*.5}},zA=function(r){var i=r.opacity||1;return{opacity:i*.5,fillOpacity:i*.5}},$l={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:VA,disable:zA,selected:{lineWidth:1,stroke:"black"}}};Xr("column",$l);var WA={column:"interval"},ZA={interval:"column"},vv=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="column",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},i.prototype.beforeInit=function(){r.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},i.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new kf(Vt({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),r.prototype.afterRender.call(this)},i.prototype.geometryParser=function(t,e){return t==="g2"?WA[e]:ZA[e]},i.prototype.processData=function(t){var e=this.options.xField,n=[];return(0,l.each)(t,function(a){var o=(0,l.clone)(a);o[e]=o[e].toString(),n.push(o)}),n},i.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,l.has)(t,"xAxis")&&ur(e[t.xField],t.xAxis),e[t.yField]={},(0,l.has)(t,"yAxis")&&ur(e[t.yField],t.yAxis),this.setConfig("scales",e),r.prototype.scale.call(this)},i.prototype.coord=function(){},i.prototype.adjustColumn=function(t){},i.prototype.addGeometry=function(){var t=this.options,e=Hi("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,l.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},i.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},i.prototype.animation=function(){r.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,F)},i.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n==null?void 0:n.visible){var s=da(this.view,"interval");this.doRenderLabel(s,Vt({type:"column",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},i.prototype.applyResponsive=function(t){var e=this,n=GA[t];(0,l.each)(n,function(a){var o=a;o.method(e)})},i}(Gi),$a=vv;ri("column",vv);var UA=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="column",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=$a.getDefaultOptions,i}(Ue),pv=UA;Xr("groupedColumn",$l);var dv=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},i.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},i.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},i.prototype.addGeometry=function(){r.prototype.addGeometry.call(this)},i.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},i.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},i}($a),Kl=dv;ri("groupedColumn",dv);var $A=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="groupedColumn",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=Kl.getDefaultOptions,i}(Ue),gv=$A;function yv(r,i){var t=[],e=r.get("origin").points;return(0,l.each)(e,function(n){t.push(i.convertPoint(n))}),t}function KA(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var QA=function(){function r(i){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,l.assign)(this,i),this._init()}return r.prototype.draw=function(){var i=this,t=this._getGroupedShapes();(0,l.each)(t,function(e,n){e.length>0&&i._drawConnection(e,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},r.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype.setState=function(i,t){i==="active"&&this._onActive(t),i==="disabled"&&this._onDisabled(t),i==="selected"&&this._onSelected(t)},r.prototype._init=function(){var i=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){i.clear()})},r.prototype._getGroupedShapes=function(){var i=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0],n=e.getShapes(),a={};return(0,l.each)(t,function(o){a[o]=[]}),(0,l.each)(n,function(o){var s=o.get("origin").data,u=s[i.field];a[u].push(o)}),a},r.prototype._drawConnection=function(i,t){var e=i[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(e,"area"),this._lineStyle[t]=this._getShapeStyle(e,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<i.length-1;a++){var o=yv(i[a],n),s=yv(i[a+1],n),u=(0,l.mix)({},this._areaStyle[t]),c=(0,l.mix)({},this._lineStyle[t]);this.triggerOn&&(u.opacity=0,c.opacity=0);var h=this.container.addShape("path",{attrs:(0,l.mix)({},u,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),f=this.container.addShape("path",{attrs:(0,l.mix)({},c,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),p=i[a].get("origin").data;h.set("data",p),f.set("data",p),this.areas.push(h),this.lines.push(f)}},r.prototype._getShapeStyle=function(i,t){var e=t+"Style";if(this[e])return this[e];var n=KA()[e],a={fill:i};return t==="line"&&(a={stroke:i}),(0,l.mix)(n,a)},r.prototype._addInteraction=function(){var i=this,t=this.triggerOn;this.view.on("interval:"+t,function(e){var n=e.target.get("origin").data[i.field];i.setState("active",{name:i.field,exp:n}),i.setState("disabled",{name:i.field,exp:function(a){return a!==n}}),i.view.canvas.draw()}),this.view.on("mousemove",function(e){e.gEvent.target.get("name")!=="interval"&&i.setState("disabled",{name:i.field,exp:function(){return!0}})})},r.prototype._initialAnimation=function(){var i=this.view.coordinateBBox,t=i.x,e=i.y,n=i.width,a=i.height;this.container.setClip({type:"rect",attrs:{x:t,y:e,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},r.prototype._onActive=function(i){var t=this;(0,l.each)(this.areas,function(e){var n=e.get("data"),a=n[t.field];if($n(n,i)){var o=t._areaStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}}),(0,l.each)(this.lines,function(e){var n=e.get("data"),a=n[t.field];if($n(n,i)){var o=t._lineStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}})},r.prototype._onDisabled=function(i){(0,l.each)(this.areas,function(t){var e=t.get("data");$n(e,i)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,l.each)(this.lines,function(t){var e=t.get("data");$n(e,i)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},r.prototype._onSelected=function(i){this._onActive(i)},r.prototype.getGeometry=function(){return(0,l.find)(this.view.geometries,function(i){return i.type==="interval"})},r}(),qA=QA;Xr("stackedColumn",$l);var JA=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(e);(o.height<a.height||o.width<a.width)&&t.hide()}},i}(Ul),lB=null;Yr("stacked-column",JA);var t_=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.shouldInShapeLabels=function(t){return!0},i}(XA),uB=null;Yr("stacked-column-auto",t_);var mv=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},i.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),r.prototype.init.call(this)},i.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new qA(Vt({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),r.prototype.afterRender.call(this)},i.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},i.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},i.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n&&n.visible){var s=da(this.view,"interval");this.doRenderLabel(s,Vt({type:"stacked-column",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},i.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},i}($a),vs=mv;ri("stackedColumn",mv);var e_=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="stackedColumn",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=vs.getDefaultOptions,i}(Ue),xv=e_,Ql=8;function i_(r,i){var t;return(0,l.each)(r,function(e){var n=e;i>=n.from&&i<n.to&&(t=n.color)}),t}var r_=function(){function r(i){this.destroyed=!1,this.view=i.view,this.plot=i.plot;var t=this.getDefaultOptions();this.options=(0,l.deepMix)(t,i,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return r.prototype.init=function(){var i=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){i.clear(),i.plot.canvas.draw()})},r.prototype.render=function(){var i=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,(0,l.each)(n,function(a){var o=a.shape,s=i.getPosition(o),u=i.getValue(o),c=i.getTextBaseline(),h=[];(0,l.each)(s,function(f,p){var g=p===1?i.options.topStyle:i.options.bottomStyle,_=i.getTextColor(o,p);i.options.position==="inner"&&i.options.adjustColor&&_!=="black"&&(g.stroke=null);var H=i.options.formatter,lt=H?H(u[p]):u[p],pt=i.container.addShape("text",{attrs:(0,l.deepMix)({},g,{x:f.x,y:f.y,text:lt,fill:_,textAlign:"center",textBaseline:c[p]}),name:"label"});h.push(pt),i.doAnimation(pt)}),o.set("labelShapes",h),i.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getShapeBbox=function(i){var t=this,e=[];(0,l.each)(i.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Qe(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},r.prototype.getDefaultOptions=function(){var i=this.plot.theme,t=i.label.style;return{position:"outer",offsetX:0,offsetY:Ql,style:(0,l.clone)(t),adjustColor:!0,adjustPosition:!0}},r.prototype.getPosition=function(i){var t=this.getShapeBbox(i),e=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,u=e+o/2,c,h;return this.options.position==="outer"?(c=n-s,h=a+s):(c=n+s,h=a-s),[{x:u,y:h},{x:u,y:c}]},r.prototype.getValue=function(i){var t=this.plot.options.yField;return i.get("origin").data[t]},r.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},r.prototype.getTextColor=function(i,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=i.attr("fill"),n=i.attr("opacity")?i.attr("opacity"):1,a=Kn(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=i_(s,o);return u}var c=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return c},r.prototype.doAnimation=function(i){this.plot.animation&&this.plot.animation===!1||(i.attr("fillOpacity",0),i.attr("strokeOpacity",0),i.stopAnimate(),i.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},r.prototype.adjustPosition=function(i,t,e){var n=e.get("origin"),a=n.y[1],o=n.y[0],s=e.getBBox(),u=s.height,c=u,h=this.view.coordinateBBox,f=[i.getBBox(),t.getBBox()],p=i.attr("y"),g=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var _=f[0].height+f[1].height,H=f[1].maxY-f[0].minY>2,lt=_>c;(H||lt)&&(g=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),p=o+this.options.offsetY,i.attr("fill",this.options.bottomStyle.fill),i.attr("textBaseline","top"),f[0]=i.getBBox(),f[1]=t.getBBox())}f[0].maxY>h.maxY-Ql&&(p=h.maxY-Ql/2,i.attr("textBaseline","bottom")),i.attr("y",p),t.attr("y",g),this.plot.canvas.draw()},r.prototype.getGeometry=function(){return(0,l.find)(this.view.geometries,function(i){return i.type==="interval"})},r}(),n_=r_,bv;function wv(r,i){var t=r.getBBox(),e=t.minY+t.height/2;r.setClip({type:"rect",attrs:{x:t.minX,y:e,width:t.width,height:0}});var n=r.get("clipShape");n.animate({height:t.height,y:t.minY},i.duration,i.easing,function(){r.setClip(null)},i.delay)}wv.animationName="clipInFromCenterVertical";function a_(r){bv=r}function Cv(r,i){var t=o_(r).attr("path"),e=(0,l.clone)(r.attr("path"));r.attr("path",t),r.animate({path:e},i.duration,i.easing,i.callback,100)}function o_(r){var i=r.id,t;return(0,l.each)(bv,function(e){e.id===i&&(t=e)}),t}Cv.animationName="updateFromCenterVertical",ji("clipInFromCenterVertical",wv),ji("updateFromCenterVertical",Cv);var Sv=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="rangeColumn",t}return i.getDefaultOptions=function(){return(0,l.deepMix)(r.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},i.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,l.each)(e,function(n){var a=n.elements;(0,l.each)(a,function(o){t.push(o.shape)})}),a_(t),r.prototype.afterRender.call(this)},i.prototype.animation=function(){r.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},i.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new n_(Vt({view:this.view,plot:this},this.options.label));t.render()}},i}($a),s_=Sv;ri("rangeColumn",Sv);var l_=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="rangeColumn",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=s_.getDefaultOptions,i}(Ue),Mv=l_,Av=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},i.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return Vl(t||[],n,[a])},i.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,l.deepMix)({},this.options.meta,t),r.prototype.scale.call(this)},i}(vs),_v=Av;ri("percentStackedColumn",Av);var u_=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="percentStackedColumn",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=_v.getDefaultOptions,i}(Ue),Tv=u_,c_={pie:"interval"},h_=vr(c_);(0,l.assign)(ui,h_);function ps(r,i,t){return{x:r.x+t*Math.cos(i),y:r.y+t*Math.sin(i)}}function cB(r){return{x:r.x+r.width/2,y:r.y+r.height/2}}function f_(r,i,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(r.x+r.width+t,i.x+i.width+t)-Math.max(r.x-t,i.x-t)),n=Math.max(0,Math.min(r.y+r.height+t,i.y+i.height+t)-Math.max(r.y-t,i.y-t));return e*n}function v_(r,i,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(r.x+r.width+t,i.x+i.width+t)-Math.max(r.x-t,i.x-t)),n=Math.max(0,Math.min(r.y+r.height+t,i.y+i.height+t)-Math.max(r.y-t,i.y-t));return e&&r.x<i.x&&(e=-e),n&&r.y<i.y&&(n=-n),r.x===i.x&&r.width===i.width&&(e=i.width),r.y===i.y&&r.height===i.height&&(n=i.height),{xOverlap:e,yOverlap:n}}function hB(r,i){return r.x<i.x&&r.x+r.width>i.x+i.width&&r.y<i.y&&r.y+r.height>i.y+i.height}var p_=function(r,i,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[r,i].includes(Infinity)?Math.abs(r)===Math.abs(i):Math.abs(r-i)<t};function d_(r,i){var t=r.getCenter();return Math.atan2(i.y-t.y,i.x-t.x)}function g_(r){var i=Math.PI/2,t=r;return(t>i||t<-i)&&(t=t+Math.PI),t}var fB=4;function y_(r){var i=Number(r.endsWith("%")?r.slice(0,-1):r);return i/100}function m_(r,i){var t=r.getBBox();i.y<=t.y&&i.y+i.height>=t.y+t.height||r.get("parent").set("visible",!1)}var x_=function(){function r(i,t){this.destroyed=!1,this.plot=i,this.coordinateBBox=this.plot.view.coordinateBBox;var e=(0,l.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(e),this.options=e,this.init()}return r.prototype.adjustOverlap=function(i,t){for(var e=1;e<i.length;e++)for(var n=i[e],a=0,o=e-1;o>=0;o--){var s=i[o],u=s.getBBox(),c=n.getBBox();if(s.get("parent").get("visible")&&(a=f_(u,c),!p_(a,0))){n.get("parent").set("visible",!1);break}}i.forEach(function(h){return m_(h,t)})},r.prototype.adjustItem=function(i){},r.prototype.init=function(){var i=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){i.clear(),i.plot.canvas.draw()})},r.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getFilteredSum=function(){var i=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(e,n){return e+n[i]},0)},r.prototype.drawTexts=function(){var i=this,t=this.options,e=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,u=t.adjustPosition,c=t.allowOverlap,h=this.getItems(),f=[];h.map(function(p,g){var _=(0,l.deepMix)({},p,e),H=i.getFilteredSum(),lt=i.plot.options.angleField,pt=p.origin[lt]/H,wt=n?n(p.name,{_origin:p.origin,percent:pt},g):p.name,Ft=i.container.addGroup({name:"itemGroup",index:g,capture:!1}),Dt=Ft.addShape("text",{attrs:(0,l.deepMix)({},_,{x:p.x+o,y:p.y+s,text:wt})});Dt.set("id","text-"+p.name+"-"+g),f.push(Dt)}),f.forEach(function(p){var g=i.coordinateBBox;i.adjustText(p,g)}),u&&this.layout(f,h,this.coordinateBBox),c||this.adjustOverlap(f,this.coordinateBBox),f.forEach(function(p,g){a&&i.rotateLabel(p,g_(h[g].angle))})},r.prototype.adjustText=function(i,t){var e=i.getBBox(),n=e.width,a=0;if(e.maxX>t.maxX?n=t.maxX-e.minX:e.minX<t.minX&&(n=e.maxX-t.minX),i.attr("textAlign")==="left"?i.attr("x",Math.max(e.x-a,0)):i.attr("textAlign")==="right"&&i.attr("x",Math.max(e.maxX-a,0)),n!==e.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(u){o[u]=i.attr(u)});var s=i.attr("text").split(`
`).map(function(u){return _h(u,n,o)});i.attr("text",s.join(`
`))}},r.prototype.drawLines=function(){var i=this;if(this.options.line.visible){var t=this.container.get("children"),e=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=i.arcPoints[a],u=s.x<e.x,c=i.options.offset>4?4:0,h=i.getLinePath(o,s,c),f=i.options.line;n.addShape("path",{attrs:Vt({path:h,stroke:s.color},f)}),o.attr("x",o.attr("x")+(u?-c:c))})}},r.prototype.getLinePath=function(i,t,e){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,u=o.radius,c=ps(s,a,u+e);e<4&&(c=t);var h=t.x<s.x,f=i.getBBox(),p={x:h?f.maxX:f.minX,y:f.y+f.height/2},g=["C",p.x+(h?1:-1)*(e<4?e/2:4),p.y,2*c.x-t.x,2*c.y-t.y,c.x,c.y],_=["L",c.x,c.y],H=n?g:_,lt=["M",p.x,p.y].concat(H).concat("L",t.x,t.y);return lt.join(",")},r.prototype.getGeometry=function(){return this.plot.view.geometries[0]},r.prototype.getCoordinate=function(){var i=this.getGeometry().coordinate,t=i.getCenter(),e=i.getRadius(),n=i.startAngle;return{center:t,radius:e,startAngle:n}},r.prototype.adjustOption=function(i){var t=i.offset,e=this.getCoordinate().radius;(0,l.isString)(t)&&(t=e*y_(t)),i.offset=t},r.prototype.rotateLabel=function(i,t){var e=i.attr("x"),n=i.attr("y"),a=Pi.transform(i.getMatrix(),[["t",-e,-n],["r",t],["t",e,n]]);i.setMatrix(a)},r.prototype.getItems=function(){var i=this,t=this.options.offset,e=this.getCoordinate(),n=e.center,a=e.radius,o=this.arcPoints.map(function(s){var u=ps(n,s.angle,a+t),c=Vt(Vt({},s),u);return i.adjustItem(c),c});return o},r.prototype.initArcPoints=function(){var i=this,t=this.plot.options.angleField,e=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,u=this.getGeometry().attributes.position.scales,c=u[1],h=c.field,f=e.map(function(p){var g=p.shape.get("origin"),_=g.color,H=g.data[0]||g.data,lt=s+Math.PI*2*c.scale(H[h]),pt=(s+lt)/2,wt=ps(a,pt,o);s=lt;var Ft=c.getText(H[t]),Dt=wt.x>a.x?"left":"right";return{x:wt.x,y:wt.y,color:_,name:Ft,origin:H,angle:d_(i.getGeometry().coordinate,wt),textAlign:Dt}});this.arcPoints=f},r}(),ql=x_;function vB(r){var i=Number(r.endsWith("%")?r.slice(0,-1):r);return i/100}var b_=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.adjustOption=function(t){r.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},i.prototype.adjustItem=function(t){t.textAlign="middle"},i.prototype.drawLines=function(){},i.prototype.layout=function(t,e){var n=this;t.forEach(function(a,o){o>0&&(0,l.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,e[o])})})},i.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:Vt(Vt({},e),{textAlign:"center",textBaseline:"middle"})}},i.prototype.resolveCollision=function(t,e,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),u=e.getBBox(),c={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,l.clone)(c),f=(0,l.clone)(c);if(e.get("id")!==t.get("id")){var p=v_(s,u),g=p.xOverlap,_=p.yOverlap;if(g&&(h.x=c.x+g,h.y=c.y+Math.tan(o)*g),_){var H=_;c.y<a.y?H=H<0?H:u.minY-s.maxY:H=H>0?H:u.maxY-s.minY,f.y=c.y+H,f.x=c.x+H/Math.tan(o)}var lt=nh(c,h),pt=nh(c,f),wt=lt<pt?h:f;t.attr("x",wt.x),t.attr("y",wt.y)}},i}(ql),w_=b_,pB=16,C_=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.adjustOption=function(t){r.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},i.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:Vt(Vt({},e),{textBaseline:"middle"})}},i.prototype.layout=function(t,e,n){var a=this,o=this.getCoordinate().center,s=(0,l.filter)(t,function(c){return c.attr("x")<=o.x}),u=(0,l.filter)(t,function(c){return c.attr("x")>o.x});[u,s].forEach(function(c,h){a._antiCollision(c,!h,n)})},i.prototype._antiCollision=function(t,e,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),u=s.center,c=s.radius,h=this.options.offset,f=c+h,p=Math.min(n.height,Math.max(f*2+o*2,t.length*o)),g=Math.floor(p/o);this.options.allowOverlap||t.slice(g).forEach(function(we){we.get("parent").set("visible",!1)}),t.splice(g,t.length-g),t.sort(function(we,Xe){return we.getBBox().y-Xe.getBBox().y});for(var _=!0,H,lt=u.y+p/2,pt=u.y-p/2,wt=t.map(function(we){var Xe=we.getBBox();return Xe.maxY>lt&&(lt=Math.min(n.maxY,Xe.maxY)),Xe.minY<pt&&(pt=Math.max(n.minY,Xe.minY)),{text:we.attr("text"),size:o,pos:Xe.y,targets:[]}}),Ft=0;Ft<wt.length;)Ft===wt.length-1?wt[Ft].targets[0]=lt:wt[Ft].targets[0]=wt[Ft+1].pos-wt[Ft+1].size/2,Ft++;for(;_;)for(wt.forEach(function(we){var Xe=(0,l.last)(we.targets);we.pos=Math.max(pt,Math.min(we.pos,Xe-we.size))}),_=!1,H=wt.length;H--;)if(H>0){var Dt=wt[H-1],te=wt[H];if(Dt.pos+Dt.size>te.pos){Dt.size+=te.size,Dt.targets=Dt.targets.concat(te.targets);var ye=(0,l.last)(Dt.targets);Dt.pos+Dt.size>ye&&(Dt.pos=ye-Dt.size),wt.splice(H,1),_=!0}else Dt.targets.splice(-1,1,te.pos)}H=0,wt.forEach(function(we){var Xe=o/2;we.targets.forEach(function(){t[H].attr("y",we.pos+Xe),Xe+=o,H++})});var Oe=[],Re=[];t.forEach(function(we,Xe){var $e=a.arcPoints[Xe];$e.angle>=0&&$e.angle<=Math.PI?Re.push(we):Oe.push(we)}),[Oe,Re].forEach(function(we,Xe){if(!!we.length){var $e=Xe?(0,l.last)(we).getBBox().maxY-u.y:u.y-(0,l.head)(we).getBBox().minY;$e=Math.max(f,$e);var Mi=h>4?4:0,fi=Math.max.apply(0,(0,l.map)(t,function(pr){return pr.getBBox().width}))+h+Mi,xi=Math.max(f,Math.min(($e+f)/2,u.x-(n.minX+fi))),er=xi*xi,Mr=$e*$e;we.forEach(function(pr,dr){var Di=a.arcPoints[dr],gi=pr.getBBox(),ir={x:gi.minX+gi.width/2,y:gi.minY+gi.height/2},Oi=Math.pow(ir.y-u.y,2),cr=ps(u,Di.angle,c),qr=(e?1:-1)*Mi*2;if(Oi>Mr)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",pr.attr("text")),pr.attr("x",cr.x+qr);else{var gr=u.x+(e?1:-1)*Math.sqrt((1-Oi/Mr)*er);(u.x===cr.x&&ir.y===cr.y||u.y===cr.y&&gr===cr.x)&&(gr=cr.x),pr.attr("x",gr+qr)}})}})},i.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,l.head)(t)?(0,l.head)(t).getBBox().height:14},i}(ql),S_=C_,dB=16,M_=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.adjustOption=function(t){r.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},i.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:Vt(Vt({},e),{textBaseline:"middle"})}},i.prototype.adjustItem=function(t){var e=this.options.offset;t.textAlign==="left"?t.x+=e>4?4:e/2:t.textAlign==="right"&&(t.x-=e>4?4:e/2)},i.prototype.layout=function(t,e,n){},i}(ql),A_=M_,Lv={inner:w_,outer:S_,"outer-center":A_};function __(r){if(!Lv[r]){console.warn("this label "+r+" is not registered");return}return Lv[r]}var T_=0,Jl=15,L_="#CCC",E_=2,P_=-2,Ev=15;function Pv(r,i,t){return{x:r.x+t*Math.cos(i),y:r.y+t*Math.sin(i)}}var O_=function(){function r(i){this.destroyed=!1,this.view=i.view,this.options=(0,l.deepMix)({},this.getDefaultOptions(),i),this._adjustOptions(this.options),this.init()}return r.prototype.init=function(){var i=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){i.clear()})},r.prototype.render=function(){var i=this;if(!(!this.view||this.view.destroyed)){var t=(0,l.clone)(this.view.getData());this.halves=[[],[]];var e=[],n=this.view.geometries[0].elements;(0,l.each)(n,function(te){e.push(te.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,u=this.options.fields[0],c=this.view.getScalesByDim("y")[u],h=this.coord.getCenter(),f=this.coord.startAngle,p=this.coord.polarRadius,g=this.view.coordinateBBox,_=g.width,H=g.height;this.width=_,this.height=H;for(var lt=f,pt=function(te){var ye=t[te],Oe=c.scale(ye[u]),Re=lt+Math.PI*2*Oe,we=lt+(Re-lt)/2;lt=Re;var Xe=Pv(h,we,p+T_),$e=Pv(h,we,p+Jl),Mi=L_;if(wt.options.fields.length===2){var fi=wt.options.fields[1],xi=wt.view.geometries[0].scales[fi],er=xi.scale(ye[fi]);if(er){var Mr=Math.floor(er*(e.length-1));Mi=e[Mr].attr("fill")}}var pr={_anchor:Xe,_inflection:$e,_data:ye,x:$e.x,y:$e.y,r:p+Jl,fill:Mi,textGroup:null,_side:null},dr=[];if((0,l.each)(wt.options.fields,function(jr){o&&jr===ds?dr.push(ye[s]):dr.push(ye[jr])}),wt.options.formatter){var Di=wt.options.formatter(ye[s],{_origin:ye,color:Mi},te);(0,l.isString)(Di)&&(Di=[Di]),dr=Di}var gi=wt.container.addGroup({capture:!1,visible:!1}),ir={x:0,y:0,fontSize:wt.options.text.fontSize,lineHeight:wt.options.text.fontSize,fontWeight:wt.options.text.fontWeight,fill:wt.options.text.fill},Oi=ye[s];wt.options.formatter&&(Oi=dr[0]);var cr=(0,l.clone)(ir);dr.length===2&&(cr.fontWeight=700);var qr=gi.addShape("text",{attrs:(0,l.mix)({textBaseline:dr.length===2?"top":"middle",text:Oi},cr),data:ye,offsetY:dr.length===2?E_:0,name:"label"});if(qr.name="label",dr.length===2){var gr=gi.addShape("text",{attrs:(0,l.mix)({textBaseline:"bottom",text:dr[1]},ir),data:ye,offsetY:P_,name:"label"});gr.name="label"}pr.textGroup=gi,Xe.x<h.x?(pr._side="left",wt.halves[0].push(pr)):(pr._side="right",wt.halves[1].push(pr))},wt=this,Ft=0;Ft<t.length;Ft++)pt(Ft);var Dt=Math.floor(H/this.options.lineHeight);(0,l.each)(this.halves,function(te){te.length>Dt&&te.splice(Dt,te.length-Dt),te.sort(function(ye,Oe){return ye.y-Oe.y}),i._antiCollision(te)}),this.view.canvas.draw()}},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},r.prototype._antiCollision=function(i){var t=this,e=this.coord,n=e.getHeight(),a=e.center,o=e.getRadius(),s=a.y-o-Jl-this.options.lineHeight,u=!0,c=n,h,f=0,p=Number.MIN_VALUE,g=0,_=i.map(function(Ft){var Dt=Ft.y;Dt>f&&(f=Dt),Dt<p&&(p=Dt);var te=Ft.textGroup,ye=te.getBBox().width;return ye>=g&&(g=ye),{size:t.options.lineHeight,targets:[Dt-s]}});f-s>c&&(c=f-s);for(var H=function(Ft){Ft.forEach(function(Dt){var te=(Math.min.apply(p,Dt.targets)+Math.max.apply(p,Dt.targets))/2;Dt.pos=Math.min(Math.max(p,te-Dt.size/2),c-Dt.size)})};u;)for(H(_),u=!1,h=_.length;h--;)if(h>0){var lt=_[h-1],pt=_[h];lt.pos+lt.size>pt.pos&&(lt.size+=pt.size,lt.targets=lt.targets.concat(pt.targets),lt.pos+lt.size>c&&(lt.pos=c-lt.size),_.splice(h,1),u=!0)}h=0,_.forEach(function(Ft){var Dt=s;Ft.targets.forEach(function(){i[h].y=Ft.pos+Dt+t.options.lineHeight/2,Dt+=t.options.lineHeight,h++})});var wt=[];i.forEach(function(Ft){var Dt=t._drawLabel(Ft);t._drawLabelLine(Ft,g,Dt),wt.push(Dt)})},r.prototype._drawLabel=function(i){var t=this.coord,e=t.getCenter(),n=t.getRadius(),a=i.y,o=i.textGroup,s=o.get("children"),u=i._side==="left"?1:-1,c=Vt({textAlign:i._side==="left"?"right":"left",x:i._side==="left"?e.x-n-this.options.sidePadding:e.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(c.x+=this.options.offsetX*u),s.forEach(function(h){var f=h.get("offsetY"),p=a+f;h.attr(c),h.attr("y",p)}),o.show(),o},r.prototype._drawLabelLine=function(i,t,e){var n=[i._anchor.x,i._anchor.y],a=[i._inflection.x,i._inflection.y],o=i.y,s=i.textGroup;if(!!s){var u=[i._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],c=[n,a,u];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,f=u[0]+Ev,p=u[0]-Ev,g=[i._side==="left"?f:p,a[1]];c=[n,h,g,u],(i._side==="right"&&g[0]<h[0]||i._side==="left"&&g[0]>h[0])&&(c=[n,h,u])}else c=[n,[a[0],o],u];for(var _=[],H=0;H<c.length;H++){var lt=c[H],pt="L";H===0&&(pt="M"),_.push([pt,lt[0],lt[1]])}e.addShape("path",{attrs:{path:_,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},r.prototype._adjustOptions=function(i){i.text.fontSize&&(i.lineHeight=i.text.fontSize*3)},r}(),I_=O_,B_=function(r){var i=r.opacity||1;return{fillOpacity:i*.8}},k_=function(r){var i=r.opacity||1;return{fillOpacity:i*.5}};Xr("pie",{columnStyle:{normal:{},active:B_,disable:k_,selected:{lineWidth:1,stroke:"black"}}});var ds="$$percentage$$",F_={pie:"interval"},D_={pie:"column"},Ov=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="pie",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},i.prototype.afterInit=function(){r.prototype.afterInit.call(this);var t=this.options,e=t.angleField,n=t.colorField,a=t.data,o=(0,l.every)(a,function(u){return u[e]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+e)}},i.prototype.afterRender=function(){r.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if(e.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,l.every)(n,function(h){return h[o]===0}),u=s?ds:o;this.labelComponent=new I_(Vt({view:this.view,fields:a?[u,a]:[u],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var c=__(e.type);this.labelComponent=new c(this,t.label),this.labelComponent.render()}}},i.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},i.prototype.geometryParser=function(t,e){return t==="g2"?F_[e]:D_[e]},i.prototype.scale=function(){var t=this.options;r.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=(0,l.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},i.prototype.processData=function(t){var e=this.options.angleField,n=(0,l.every)(t,function(a){return a[e]===0});return n?t.map(function(a){var o;return Vt(Vt({},a),(o={},o[e]=typeof a[e]=="string"?Number.parseFloat(a[e]):a[e],o[ds]=1/t.length,o))}):t.map(function(a){var o,s=a[e];return Vt(Vt({},a),(o={},o[e]=s&&!isNaN(s)?+s:s,o))})},i.prototype.axis=function(){},i.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},i.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,a,o=(0,l.every)(e,function(s){return s[n]===0});o?a=Hi("interval","main",{plot:this,positionFields:[1,ds]}):a=Hi("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},i.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},i.prototype.animation=function(){r.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},i.prototype.annotation=function(){},i.prototype.parseEvents=function(t){t?r.prototype.parseEvents.call(this,t):r.prototype.parseEvents.call(this,X)},i.prototype.label=function(){this.pie.label=!1},i}(Gi),Iv=Ov;ri("pie",Ov);var R_=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="pie",r.prototype.createLayers.call(this,e)},i.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},i.getDefaultOptions=Iv.getDefaultOptions,i}(Ue),Bv=R_,N_=.3989422804014327,G_=1/255/16,mo="_origin",Y_=function(r){qt(i,r);function i(t){var e=r.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}return i.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},i.prototype.clear=function(){this.clearShadowCanvasCtx(),r.prototype.clear.call(this)},i.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var u=s[mo][n];u>o&&(o=u),u<a&&(a=u)}),a===o&&(a=o-1),[a,o]},i.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,l.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},i.prototype.prepareBlur=function(){var t=(0,l.get)(this.styleOption,["style","shadowBlur"]);(0,l.isNumber)(t)||(t=this.radius/2),this.blur=t},i.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate,n=Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4));return n},i.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var u=void 0;a[s]?u=a[s]:(u=Kn(e.gradient(s/256)),a[s]=u),n[o-3]=u[0],n[o-2]=u[1],n[o-1]=u[2],n[o]=s}}},i.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(G_/t/n/N_))/3*t,o=a-t,s=a+o,u=e.getContext("2d");e.width=e.height=s*2,u.clearRect(0,0,e.width,e.height),u.shadowOffsetX=u.shadowOffsetY=s*2,u.shadowBlur=o,u.shadowColor="black",u.beginPath(),u.arc(-s,-s,t,0,Math.PI*2,!0),u.closePath(),u.fill()},i.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,e-n)},i.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},i.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},i.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;t=e.addShape({type:"image",attrs:{}}),this.imageShape=t},i.prototype.drawWithRange=function(t,e){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),u=this.coordinate.getHeight(),c=this.getAttribute("color"),h=c.getFields()[0];this.clearShadowCanvasCtx();var f=this.getShadowCanvasCtx();e&&(t=t.filter(function(Ft){return Ft[mo][h]<=e[1]&&Ft[mo][h]>=e[0]}));for(var p=this.scales[h],g=0;g<t.length;g++){var _=t[g],H=this.getDrawCfg(_),lt=p.scale(_[mo][h]);this.drawGrayScaleBlurredCircle(H.x-a.x,H.y-o.y,this.radius+this.blur,lt,f)}var pt=f.getImageData(0,0,s,u);this.clearShadowCanvasCtx(),this.colorize(pt),f.putImageData(pt,0,0);var wt=new Image;wt.src=f.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",u),this.imageShape.attr("img",f.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},i.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return Vt(Vt({},e),{mappingData:t,data:this.getData(t)})},i.prototype.getData=function(t){return t.map(function(e){return e[mo]})},i}(sa);he("linearHeatmap",Y_);var X_=function(r){qt(i,r);function i(t){var e=r.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}return i.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},i.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},i.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},i.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},i.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},i.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},i.prototype.getCoordinate=function(){var t;return(0,l.each)(this.view.geometries,function(e){e.type==="heatmap"&&(t=e.coordinate)}),t},i}(Pt.default),j_=X_,gs=4,kv=1,H_=.1,V_=function(){function r(i){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();i.plot.options.theme&&i.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,l.deepMix)({},t,i),this.view=this.options.view,this.afterRender=!0,this.init()}return r.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var i=this.options.plot.container;this.container=i.addGroup()},r.prototype.render=function(){var i=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=i[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},r.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){var i=this.container.getBBox();return new Qe(this.x,this.y,i.width,i.height)},r.prototype.renderVertical=function(i,t,e){var n=this,a=this.width,o=this.height/e.length,s=this.container.addGroup(),u=(0,l.clone)(e).reverse(),c=(t-i)/e.length;(0,l.each)(u,function(h,f){var p=o*f,g={to:t-c*f,from:t-c*(f+1)},_=n.container.addShape("rect",{attrs:{x:0,y:p,width:a,height:o,fill:h,opacity:kv,cursor:"pointer"},name:"legend"});_.set("info",g);var H=n.getDataSlide(g);n.dataSlides[g.from+"-"+g.to]={mode:"active",data:H},s.addShape("path",{attrs:Vt({path:[["M",0,p+o],["L",a,p+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:Vt({text:t,x:a/2,y:-gs,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:Vt(Vt({text:i,x:a/2,y:this.height+gs,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:Vt({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},r.prototype.renderHorizontal=function(i,t,e){var n=this,a=this.width/e.length,o=this.height,s=this.container.addGroup(),u=(t-i)/e.length;(0,l.each)(e,function(c,h){var f=a*h,p={from:u*h,to:u*(h+1)},g=n.container.addShape("rect",{attrs:{x:f,y:0,width:a,height:o,fill:c,opacity:.8,cursor:"pointer"},name:"legend"});g.set("info",p),s.addShape("path",{attrs:Vt({path:[["M",f+a,0],["L",f+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:Vt(Vt({text:i,x:-gs,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:Vt({text:t,x:this.width+gs,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:Vt({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},r.prototype.getLayout=function(){var i=this.options.position.split("-");return this.position=i[0],i[0]==="left"||i[0]==="right"?"vertical":"horizontal"},r.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var i=this.options.plot.options.width;return i*.5}return 10},r.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var i=this.options.plot.options.height;return i*.5}return 10},r.prototype.legendLayout=function(){var i=this,t=this.options.plot.getPlotTheme().bleeding;(0,l.isArray)(t)&&(0,l.each)(t,function(c,h){typeof t[h]=="function"&&(t[h]=t[h](i.options.plot.options))});var e=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,u=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-e.width:o[1]==="center"?n=(s-e.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-e.width),o[0]==="bottom"?a=u-t[2]-e.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(u-e.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=u-t[2]-e.height),this.x=n,this.y=a,this.container.translate(n,a)},r.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},r.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},r.prototype.addInteraction=function(){var i=this,t=this.options.plot.options.colorField;this.container.on("click",function(e){var n=e.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=i.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:H_},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:kv},200));var u=i.getFilteredData();u.length>0&&(i.view.changeData(u),i.view.scale(t,{min:i.colorScale.min,max:i.colorScale.max,nice:i.colorScale.nice}),i.view.render())}})},r.prototype.getFilteredData=function(){var i=[];return(0,l.each)(this.dataSlides,function(t){t.mode=="active"&&i.push.apply(i,t.data)}),i},r.prototype.getDataSlide=function(i){var t=[],e=this.options.plot.options,n=e.colorField,a=e.data;return(0,l.each)(a,function(o){var s=o[n];s>=i.from&&s<i.to&&t.push(o)}),t},r.prototype.getTopPosition=function(i){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return i[0]},r.prototype.getScales=function(){var i;return(0,l.each)(this.view.geometries,function(t){t.type==="heatmap"&&(i=t.scales)}),i},r}(),z_=V_,W_={background:{Ctr:j_},legend:{Ctr:z_,padding:"outer"}};function Z_(r,i,t){if(r.options[i]&&r.options[i].visible){var e=W_[i],n=new e.Ctr(t);return e.padding&&r.paddingController.registerPadding(n,e.padding),n}}var U_={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},$_=vr(U_);(0,l.assign)(ui,$_);var Fv=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},i.prototype.afterRender=function(){this.renderPlotComponents(),r.prototype.afterRender.call(this)},i.prototype.destroy=function(){(0,l.each)(this.plotComponents,function(t){t.destroy()}),r.prototype.destroy.call(this)},i.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,l.has)(t,"xAxis")&&ur(e[t.xField],t.xAxis),e[t.yField]={},(0,l.has)(t,"yAxis")&&ur(e[t.yField],t.yAxis),this.setConfig("scales",e),r.prototype.scale.call(this)},i.prototype.coord=function(){},i.prototype.geometryParser=function(){return"heatmap"},i.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},i.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,l.deepMix)(e,t.point):t.point=e;var n=Hi("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},i.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=Sr("label",Vt({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e));return n},i.prototype.legend=function(){this.setConfig("legends",!1)},i.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,D)},i.prototype.renderPlotComponents=function(){var t=this;(0,l.each)(this.plotComponents,function(n){n.destroy()});var e=["legend","background"];(0,l.each)(e,function(n){var a=Vt({view:t.view,plot:t},t.options[n]),o=Z_(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},i}(Gi),K_=Fv;ri("densityHeatmap",Fv);var Q_=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="densityHeatmap",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=K_.getDefaultOptions,i}(Ue),Dv=Q_;function ys(r,i,t,e,n){var a=t*n,o=e*n,s=[["M",r-a/2,i+o/2],["Q",r-a/2,i,r-a/2,i-o/2],["Q",r,i-o/2,r+a/2,i-o/2],["Q",r+a/2,i,r+a/2,i+o/2],["Q",r,i+o/2,r-a/2,i+o/2],["Z"]];return s}function ms(r,i,t){var e=[["M",r,i],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return e}function Rv(r,i,t){var e=[["M",r-t,i],["Q",r-t,i-t,r,i-t],["Q",r+t,i-t,r+t,i],["Q",r+t,i+t,r,i+t],["Q",r-t,i+t,r-t,i],["Z"]];return e}vi("polygon","rect",{draw:function(r,i){var t=this.parsePoints(r.points),e=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+e/2,o=t[1].y+n/2,s=ys(a,o,e,n,r.size);return i.addShape("path",{attrs:(0,l.deepMix)({},{path:s,fill:r.color,opacity:1},r.style)})}}),vi("point","curvePoint",{draw:function(r,i){var t=ms(r.x,r.y,r.size);return i.addShape("path",{attrs:(0,l.deepMix)({},{path:t,fill:r.color,opacity:1},r.style)})}});var q_=function(){function r(i){this.destroyed=!1,this.view=i.view,this.plot=i.plot;var t=this.getDefaultOptions();this.options=(0,l.deepMix)(t,i,{}),this.init()}return r.prototype.init=function(){var i=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){i.clear(),i.plot.canvas.draw()})},r.prototype.render=function(){var i=this,t=this.view.geometries[0].elements;(0,l.each)(t,function(e){var n=e.shape,a=i.options,o=a.style,s=a.offsetX,u=a.offsetY,c=i.options.formatter,h=c?c(i.getContent(n)):i.getContent(n),f=i.getPosition(n),p=i.getTextColor(n),g=i.container.addShape("text",{attrs:(0,l.deepMix)({},o,{x:f.x+s,y:f.y+u,text:h,fill:p,textAlign:"center",textBaseline:"middle"}),name:"label"});i.options.adjustPosition&&i.adjustLabel(g,n)})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getDefaultOptions=function(){var i=this.plot.theme,t=i.label.style;return{offsetX:0,offsetY:0,style:(0,l.clone)(t)}},r.prototype.getContent=function(i){var t=i.get("origin").data,e=this.plot.options.colorField;return t[e]},r.prototype.getPosition=function(i){var t=i.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},r.prototype.getTextColor=function(i){if(this.options.adjustColor){var t=i.attr("fill"),e=i.attr("opacity")?i.attr("opacity"):1,n=Kn(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/e,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=hs(o,a);return s}var u=this.options.style.fill;return u},r.prototype.adjustLabel=function(i,t){var e=i.getBBox(),n=t.getBBox();(e.width>n.width||e.height>n.height)&&i.attr("text","")},r}(),J_=q_,Nv=4,tT=function(){function r(i){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,l.deepMix)({},t,i),this.view=this.options.view,this.afterRender=!0,this.init()}return r.prototype.init=function(){var i=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){i.clear(),i.options.plot.canvas.draw()})},r.prototype.render=function(){var i=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=i[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},r.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},r.prototype.getBBox=function(){var i=this.container.getBBox();return new Qe(this.x,this.y,i.width,i.height)},r.prototype.renderVertical=function(i,t,e){var n=this,a=(t-i)/(e.length-1),o=1/(e.length-1),s=this.height/(e.length-1),u="l(90)";(0,l.each)(e,function(p,g){var _=o*g;u+=_+":"+p+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:u},name:"legend"}),(0,l.each)(e,function(p,g){var _=s*g;n.container.addShape("path",{attrs:Vt({path:[["M",0,_],["L",n.width,_]]},n.options.ticklineStyle)});var H=Math.round(a*g);n.container.addShape("text",{attrs:Vt({text:H,textAlign:"left",textBaseline:"middle",x:n.width+Nv,y:_},n.options.text.style),name:"legend-label"})});var c=10,h=14,f=[["M",-c,-h/2],["L",0,0],["L",-c,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:Vt({path:f},this.options.anchorStyle)}),this.anchor.set("visible",!1)},r.prototype.renderHorizontal=function(i,t,e){var n=this,a=(t-i)/(e.length-1),o=1/(e.length-1),s=this.width/(e.length-1),u="l(0)";(0,l.each)(e,function(p,g){var _=o*g;u+=_+":"+p+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:u},name:"legend"}),(0,l.each)(e,function(p,g){var _=s*g;n.container.addShape("path",{attrs:Vt({path:[["M",_,0],["L",_,n.height]]},n.options.ticklineStyle),name:"legend-label"});var H=Math.round(a*g);n.container.addShape("text",{attrs:Vt({text:H,textAlign:"center",textBaseline:"top",x:_,y:n.height+Nv},n.options.text.style)})});var c=14,h=10,f=[["M",0,0],["L",-c/2,-h],["L",c/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:Vt({path:f},this.options.anchorStyle)}),this.anchor.set("visible",!1)},r.prototype.getLayout=function(){var i=this.options.position.split("-");return this.position=i[0],i[0]==="left"||i[0]==="right"?"vertical":"horizontal"},r.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var i=this.view.coordinateBBox.width;return i}return 10},r.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var i=this.view.coordinateBBox.height;return i}return 10},r.prototype.legendLayout=function(){var i=this,t=this.view.coordinateBBox,e=this.options.plot.getPlotTheme().bleeding;(0,l.isArray)(e)&&(0,l.each)(e,function(h,f){typeof e[f]=="function"&&(e[f]=e[f](i.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),u=this.options.plot.width,c=this.options.plot.height;s[0]==="left"?a=e[3]:s[0]==="right"?a=u-e[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(u-n.width)/2:s[1]==="left"?a=e[3]:s[1]==="right"&&(a=this.options.plot.width-e[1]-n.width),s[0]==="bottom"?o=c-e[2]-n.height:s[0]==="top"?o=this.getTopPosition(e):s[1]==="center"?this.height===t.height?o=t.y:o=(c-n.height)/2:s[1]==="top"?o=e[0]:s[1]==="bottom"&&(o=c-e[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},r.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},r.prototype.addInteraction=function(){var i=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var e=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,u=function(h){var f=h.data.data[n],p=(f-o)/(s-o);i.moveAnchor(p)};this.view.on(e,u),this.interactiveEvents[e]={target:this.view,handler:u};var c=function(){i.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",c),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:c}},r.prototype.moveAnchor=function(i){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*i,e=[1,0,0,0,1,0,0,0,1];e[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}else{var t=this.width*i,e=[1,0,0,0,1,0,0,0,1];e[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}},r.prototype.getTopPosition=function(i){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return i[0]},r.prototype.offEvent=function(){(0,l.each)(this.interactiveEvents,function(i,t){var e=i.target,n=i.handler;e.off(t,n)})},r}(),eT=tT,iT={label:{Ctr:J_},legend:{Ctr:eT,padding:"outer"}};function rT(r,i,t){if(r.options[i]&&r.options[i].visible){var e=iT[i],n=new e.Ctr(t);return e.padding&&r.paddingController.registerPadding(n,e.padding),n}}var Gv=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},i.prototype.afterRender=function(){this.renderPlotComponents(),r.prototype.afterRender.call(this)},i.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var e=this.getShape();this.circleToRect(e)}else if(t==="circle"){var e=this.getShape();this.rectToCircle(e)}}},i.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var e=(0,l.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=(0,$t.getScale)("linear"),s=new o({min:n,max:a}),u=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(u,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(u,s,t)}},i.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},i.prototype.destroy=function(){(0,l.each)(this.plotComponents,function(t){t.destroy()}),r.prototype.destroy.call(this)},i.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},i.prototype.geometryParser=function(){return""},i.prototype.coord=function(){},i.prototype.legend=function(){this.setConfig("legends",!1)},i.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var e=this.addCircle();t=e}if(this.options.shapeStyle){var n={};(0,l.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,l.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},i.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},i.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},e},i.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},i.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,a=e.xField,o=e.yField,s=e.data,u=t.width-n[1]-n[3],c=t.height-n[0]-n[2],h=(0,l.valuesOfKey)(s,a).length,f=(0,l.valuesOfKey)(s,o).length;return[u/h,c/f]},i.prototype.circleToRect=function(t){var e=this,n=this.gridSize;(0,l.each)(t,function(a){var o=a.get("origin"),s=o.x,u=o.y,c=o.size,h=c*2/Math.min(n[0],n[1]);e.options.sizeField||(h=1);var f=Rv(s,u,c),p=ys(s,u,n[0],n[1],h);a.stopAnimate(),a.attr("path",f),a.animate({path:p},500,"easeLinear")})},i.prototype.rectToCircle=function(t){var e=this;(0,l.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,l.each)(o,function(lt){s.push(a.convertPoint(lt))});var u=n.getBBox(),c=u.width,h=u.height,f=u.minX+c/2,p=u.minY+h/2,g=e.options.sizeField?1:.9,_=Rv(f,p,Math.min(c,h)/2*g),H=ms(f,p,Math.min(c,h)/2*g);n.stopAnimate(),n.animate({path:_},500,"easeLinear",function(){n.attr("path",H)})})},i.prototype.rectSizeMapping=function(t,e,n){(0,l.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6;a.get("origin").size=s;var u=a.getBBox(),c=u.width,h=u.height,f=u.minX+c/2,p=u.minY+h/2,g=ys(f,p,c,h,s);a.stopAnimate(),a.animate({path:g},500,"easeLinear")})},i.prototype.circleSizeMapping=function(t,e,n){(0,l.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6,u=a.get("origin"),c=u.x,h=u.y,f=u.size,p=ms(c,h,f*s);a.get("origin").size=f*s,a.stopAnimate(),a.animate({path:p},500,"easeLinear")})},i.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,l.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,u=Math.min(e.gridSize[0],e.gridSize[1])*.9;n.get("origin").size=u/2;var c=ms(o,s,u/2);n.stopAnimate(),n.animate({path:c},500,"easeLinear")})},i.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,l.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,u=a.minX+o/2,c=a.minY+s/2,h=ys(u,c,e.gridSize[0],e.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},i.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return(0,l.each)(t,function(n){e.push(n.shape)}),e},i.prototype.renderPlotComponents=function(){var t=this;(0,l.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var e=["label","legend"];(0,l.each)(e,function(n){var a=Vt({view:t.view,plot:t},t.options[n]),o=rT(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},i}(Gi),nT=Gv;ri("heatmap",Gv);var aT=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="heatmap",r.prototype.createLayers.call(this,e)},i.prototype.changeShape=function(t){var e=this.layers[0];e.changeShape(t)},i.prototype.mappingSize=function(t){var e=this.layers[0];e.mappingSize(t)},i.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},i.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},i.getDefaultOptions=nT.getDefaultOptions,i}(Ue),Yv=aT,oT=function(r){qt(i,r);function i(t){var e=this,n=(0,l.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return e=r.call(this,n)||this,e}return i}(n1.Z),sT=oT;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(e+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,e.length)!==e)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(e.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var tu=function(){var i=document.createElement("canvas");if(!i||!i.getContext)return!1;var t=i.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),Ka=function(){if(!!tu){for(var i=document.createElement("canvas").getContext("2d"),t=20,e,n;t;){if(i.font=t.toString(10)+"px sans-serif",i.measureText("\uFF37").width===e&&i.measureText("m").width===n)return t+1;e=i.measureText("\uFF37").width,n=i.measureText("m").width,t--}return 0}}(),lT=function(i){for(var t,e,n=i.length;n;t=Math.floor(Math.random()*n),e=i[--n],i[n]=i[t],i[t]=e);return i},eu=function(i,t){if(!tu)return;Array.isArray(i)||(i=[i]),i.forEach(function(yi,Le){if(typeof yi=="string"){if(i[Le]=document.getElementById(yi),!i[Le])throw"The element id specified is not found."}else if(!yi.tagName&&!yi.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var e={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:Ka,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in e&&(e[o]=t[a][o]);else a in e&&(e[a]=t[a]);if(e.minFontSize<Ka&&(e.minFontSize=Ka),e.minFontSize>e.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,u=0;u<e.data.length;u++)s<e.data[u].weight&&(s=e.data[u].weight);var c=function(Le){var Ae=Math.min(Math.max(e.minFontSize,e.maxFontSize*Le/s),e.maxFontSize);return Ra?Ae*e.fontScale:Ae},h=!1;if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(Le){return 1-Math.sin(Le)},h=!0;break;case"diamond":e.shape=function(Le){var Ae=Le%(2*Math.PI/4);return 1/(Math.cos(Ae)+Math.sin(Ae))};break;case"square":e.shape=function(Le){var Ae=(Le+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(Ae)+Math.sin(Ae))};break;case"triangle-forward":e.shape=function(Le){var Ae=Le%(2*Math.PI/3);return 1/(Math.cos(Ae)+Math.sqrt(3)*Math.sin(Ae))};break;case"triangle-backward":e.shape=function(Le){var Ae=(Le+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(Ae)+Math.sqrt(3)*Math.sin(Ae))};break;case"triangle":case"triangle-up":e.shape=function(Le){var Ae=(Le+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(Ae)+Math.sqrt(3)*Math.sin(Ae))};break;case"triangle-down":e.shape=function(Le){var Ae=(Le+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(Ae)+Math.sqrt(3)*Math.sin(Ae))};break;case"pentagon":e.shape=function(Le){var Ae=(Le+.955)%(2*Math.PI/5);return 1/(Math.cos(Ae)+.726543*Math.sin(Ae))};break;case"star":e.shape=function(Le){var Ae=(Le+.955)%(2*Math.PI/10);return(Le+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-Ae)+3.07768*Math.sin(2*Math.PI/10-Ae)):1/(Math.cos(Ae)+3.07768*Math.sin(Ae))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var f=e.gridSize,p=f-e.maskGapWidth,g=Math.abs(e.maxRotation-e.minRotation),_=Math.min(e.maxRotation,e.minRotation),H=e.rotationSteps,lt,pt,wt,Ft,Dt,te,ye;function Oe(yi,Le){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(Le-yi)+yi).toFixed()+"%)"}switch(e.color){case"random-dark":ye=function(){return Oe(10,50)};break;case"random-light":ye=function(){return Oe(50,90)};break;default:typeof e.color=="function"&&(ye=e.color);break}var Re=null;typeof e.classes=="function"&&(Re=e.classes);var we=!1,Xe=[],$e,Mi=function(Le){var Ae=Le.currentTarget,Ze=Ae.getBoundingClientRect(),ei,He;Le.touches?(ei=Le.touches[0].clientX,He=Le.touches[0].clientY):(ei=Le.clientX,He=Le.clientY);var ci=ei-Ze.left,oi=He-Ze.top,We=Math.floor(ci*(Ae.width/Ze.width||1)/f),Ai=Math.floor(oi*(Ae.height/Ze.height||1)/f);return Xe&&Xe[We]&&Xe[We][Ai]},fi=function(Le,Ae,Ze,ei){ei(Le?Le.id:-1)},xi=function(Le){var Ae=Mi(Le);if($e!==Ae&&!(Ra&&Ae&&Ae.item&&!(0,l.get)(Ae,["item","twiceRender"]))){if(!Ae){e.onWordCloudHover(void 0,void 0,Le,bo),e.active&&fi(void 0,void 0,Le,bo);return}e.onWordCloudHover(Ae.item,Ae.dimension,Le,bo),e.active&&fi(Ae.item,Ae.dimension,Le,bo),$e=Ae}},er=function(Le){var Ae=Mi(Le);!Ae||(e.onWordCloudClick(Ae.item,Ae.dimension,Le),Le.preventDefault())},Mr=[],pr=function(Le){if(Mr[Le])return Mr[Le];var Ae=Le*8,Ze=Ae,ei=[];for(Le===0&&ei.push([Ft[0],Ft[1],0]);Ze--;){var He=1;e.shape!=="circle"&&(He=e.shape(Ze/Ae*2*Math.PI)),ei.push([Ft[0]+Le*He*Math.cos(-Ze/Ae*2*Math.PI),Ft[1]+Le*He*Math.sin(-Ze/Ae*2*Math.PI)*e.ellipticity,Ze/Ae*2*Math.PI])}return Mr[Le]=ei,ei},dr=function(){return e.abortThreshold>0&&new Date().getTime()-te>e.abortThreshold},Di=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:g===0?_:H>0?_+Math.floor(Math.random()*H)*g/H:_+Math.random()*g},gi=function(Le,Ae,Ze){var ei=!1,He=c(Ae);if(He<=0)return!1;var ci=1;He<Ka&&(ci=function(){for(var hu=2;hu*He<Ka;)hu+=2;return hu}());var oi=document.createElement("canvas"),We=oi.getContext("2d",{willReadFrequently:!0});We.font=e.fontWeight+" "+(He*ci).toString(10)+"px "+e.fontFamily;var Ai=We.measureText(Le).width/ci,_i=Math.max(He*ci,We.measureText("m").width,We.measureText("\uFF37").width)/ci,rr=Ai+_i*2,Vi=_i*3,Or=Math.ceil(rr/f),Jr=Math.ceil(Vi/f);rr=Or*f,Vi=Jr*f;var qn=-Ai/2,Jn=-_i*.4,Hr=Math.ceil((rr*Math.abs(Math.sin(Ze))+Vi*Math.abs(Math.cos(Ze)))/f),tn=Math.ceil((rr*Math.abs(Math.cos(Ze))+Vi*Math.abs(Math.sin(Ze)))/f),nr=tn*f,Ir=Hr*f;oi.setAttribute("width",nr),oi.setAttribute("height",Ir),ei&&(document.body.appendChild(oi),We.save()),We.scale(1/ci,1/ci),We.translate(nr*ci/2,Ir*ci/2),We.rotate(-Ze),We.font=e.fontWeight+" "+(He*ci).toString(10)+"px "+e.fontFamily,We.fillStyle="#000",We.textBaseline="middle",We.fillText(Le,qn*ci,(Jn+He*.5)*ci);var to;try{to=We.getImageData(0,0,nr,Ir).data}catch(ba){return!1}if(dr())return!1;ei&&(We.strokeRect(qn*ci,Jn,Ai*ci,_i*ci),We.restore());for(var xa=[],Vr=tn,ar,Ti,Yi,zi=[Hr/2,tn/2,Hr/2,tn/2];Vr--;)for(ar=Hr;ar--;){Yi=f;t:{for(;Yi--;)for(Ti=f;Ti--;)if(to[((ar*f+Yi)*nr+(Vr*f+Ti))*4+3]){xa.push([Vr,ar]),Vr<zi[3]&&(zi[3]=Vr),Vr>zi[1]&&(zi[1]=Vr),ar<zi[0]&&(zi[0]=ar),ar>zi[2]&&(zi[2]=ar),ei&&(We.fillStyle="rgba(255, 0, 0, 0.5)",We.fillRect(Vr*f,ar*f,f-.5,f-.5));break t}ei&&(We.fillStyle="rgba(0, 0, 255, 0.5)",We.fillRect(Vr*f,ar*f,f-.5,f-.5))}}return ei&&(We.fillStyle="rgba(0, 255, 0, 0.5)",We.fillRect(zi[3]*f,zi[0]*f,(zi[1]-zi[3]+1)*f,(zi[2]-zi[0]+1)*f)),{mu:ci,occupied:xa,bounds:zi,gw:tn,gh:Hr,fillTextOffsetX:qn,fillTextOffsetY:Jn,fillTextWidth:Ai,fillTextHeight:_i,fontSize:He}},ir=function(Le,Ae,Ze,ei,He){for(var ci=He.length;ci--;){var oi=Le+He[ci][0],We=Ae+He[ci][1];if(oi>=pt||We>=wt||oi<0||We<0){if(!e.drawOutOfBound)return!1;continue}if(!lt[oi][We])return!1}return!0},Oi=function(Le,Ae,Ze,ei,He,ci,oi,We,Ai,_i,rr){var Vi=Ze.fontSize,Or=e.color,Jr=e.classes;if(!rr)ye?Or=ye(ei,He,Vi,ci,oi):Or=e.color,Re?Jr=Re(ei,He,Vi,ci,oi):Jr=e.classes;else{var qn=og(_i);Or=qn?qn.color:e.color}var Jn,Hr=Ze.bounds;Jn={x:(Le+Hr[3])*f,y:(Ae+Hr[0])*f,w:(Hr[1]-Hr[3]+1)*f,h:(Hr[2]-Hr[0]+1)*f},i.forEach(function(tn){if(tn.getContext){var nr=tn.getContext("2d"),Ir=Ze.mu;nr.save();var to=e.fontWeight+" "+(Vi*Ir).toString(10)+"px "+e.fontFamily;nr.scale(1/Ir,1/Ir),nr.font=to,nr.fillStyle=Or;var xa=(Le+Ze.gw/2)*f*Ir,Vr=(Ae+Ze.gh/2)*f*Ir;nr.translate(xa,Vr),We!==0&&nr.rotate(-We),nr.textBaseline="middle",e.selected===_i&&(nr.shadowColor=e.shadowColor,nr.shadowBlur=e.shadowBlur),nr.fillText(ei,Ze.fillTextOffsetX*Ir,(Ze.fillTextOffsetY+Vi*.5)*Ir),rr||n.push({gx:Le,gy:Ae,info:Ze,word:ei,weight:He,distance:ci,theta:oi,rotateDeg:We,attributes:Ai,id:_i,color:Or}),nr.restore()}else{var ar=document.createElement("span"),Ti="";Ti="rotate("+-We/Math.PI*180+"deg) ",Ze.mu!==1&&(Ti+="translateX(-"+Ze.fillTextWidth/4+"px) scale("+1/Ze.mu+")");var Yi={position:"absolute",display:"block",font:e.fontWeight+" "+Vi*Ze.mu+"px "+e.fontFamily,left:(Le+Ze.gw/2)*f+Ze.fillTextOffsetX+"px",top:(Ae+Ze.gh/2)*f+Ze.fillTextOffsetY+"px",width:Ze.fillTextWidth+"px",height:Ze.fillTextHeight+"px",lineHeight:Vi+"px",whiteSpace:"nowrap",transform:Ti,webkitTransform:Ti,msTransform:Ti,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};Or&&(Yi.color=Or),ar.textContent=ei;for(var zi in Yi)ar.style[zi]=Yi[zi];if(Ai)for(var ba in Ai)ar.setAttribute(ba,Ai[ba]);Jr&&(ar.className+=Jr),tn.appendChild(ar)}})},cr=function(Le,Ae,Ze,ei,He){if(!(Le>=pt||Ae>=wt||Le<0||Ae<0)){if(lt[Le][Ae]=!1,Ze){var ci=i[0].getContext("2d");ci.fillRect(Le*f,Ae*f,p,p)}we&&(Xe[Le][Ae]={item:He,dimension:ei})}},qr=function(Le,Ae,Ze,ei,He){var ci=He.occupied,oi=e.drawMask,We;oi&&(We=i[0].getContext("2d"),We.save(),We.fillStyle=e.maskColor);var Ai;if(we){var _i=He.bounds;Ai={x:(Le+_i[3])*f,y:(Ae+_i[0])*f,w:(_i[1]-_i[3]+1)*f,h:(_i[2]-_i[0]+1)*f}}for(var rr=ci.length;rr--;){var Vi=Le+ci[rr][0],Or=Ae+ci[rr][1];if(!(Vi>=pt||Or>=wt||Vi<0||Or<0)){var Jr=og(He.item.id);Jr&&(He.item.color=Jr.color),cr(Vi,Or,oi,Ai,He.item)}}oi&&We.restore()},gr=function(Le,Ae,Ze,ei,He,ci,oi,We){var Ai=Math.floor(Le[0]-Ae.gw/2),_i=Math.floor(Le[1]-Ae.gh/2),rr=Ae.gw,Vi=Ae.gh;return ir(Ai,_i,rr,Vi,Ae.occupied)?(Oi(Ai,_i,Ae,Ze,ei,He,Le[2],ci,oi,We,!1),qr(Ai,_i,rr,Vi,Ae),{gx:Ai,gy:_i,rot:ci,info:Ae}):!1},jr=function(Le){var Ae,Ze,ei,He;Array.isArray(Le)?(Ae=Le[0],Ze=Le[1]):(Ae=Le.word,Ze=Le.weight,ei=Le.attributes,He=Le.id);var ci=(0,l.isNil)(Le.rotateDeg)?Di():Le.rotateDeg,oi=gi(Ae,Ze,ci);if(oi&&(oi.item=Le),!oi||dr())return!1;if(!e.drawOutOfBound){var We=oi.bounds;if(We[1]-We[3]+1>pt||We[2]-We[0]+1>wt)return!1}for(var Ai=Dt+1;Ai--;){var _i=pr(Dt-Ai);e.shuffle&&(_i=[].concat(_i),lT(_i));for(var rr=0;rr<_i.length;rr++){var Vi=gr(_i[rr],oi,Ae,Ze,Dt-Ai,ci,ei,He);if(Vi)return Vi}}return null},ma=function(Le,Ae,Ze){if(Ae)return!i.some(function(ei){var He=document.createEvent("CustomEvent");return He.initCustomEvent(Le,!0,Ae,Ze||{}),!ei.dispatchEvent(He)},this);i.forEach(function(ei){var He=document.createEvent("CustomEvent");He.initCustomEvent(Le,!0,Ae,Ze||{}),ei.dispatchEvent(He)},this)},og=function(Le){for(var Ae=0;Ae<n.length;Ae++){var Ze=n[Ae];if(n[Ae].id===Le)return Ze}},Ra,bo=function(Le){if(Le!==void 0){if(e.selected!==Le&&i[0].getContext){e.selected=Le;var Ae=i[0].getContext("2d");Ae.fillStyle=e.backgroundColor,Ae.clearRect(0,0,i[0].width,i[0].height),Ae.fillRect(0,0,i[0].width,i[0].height);for(var Ze=0;Ze<n.length;Ze++){var ei=n[Ze];(!Ra||Ra&&(0,l.get)(ei,["info","item","twiceRender"]))&&Oi(ei.gx,ei.gy,ei.info,ei.word,ei.weight,ei.distance,ei.theta,ei.rotateDeg,ei.attributes,ei.id,!0)}}return}var He=i[0];if(He.getContext)pt=Math.ceil(He.width/f),wt=Math.ceil(He.height/f);else{var ci=He.getBoundingClientRect();pt=Math.ceil(ci.width/f),wt=Math.ceil(ci.height/f)}if(!!ma("wordcloudstart",!0)){Ft=e.origin?[e.origin[0]/f,e.origin[1]/f]:[pt/2,wt/(h?4:2)],Dt=Math.floor(Math.sqrt(pt*pt+wt*wt)),lt=[];var oi,We,Ai;if(!He.getContext||e.clearCanvas)for(i.forEach(function(Ti){if(Ti.getContext){var Yi=Ti.getContext("2d");Yi.fillStyle=e.backgroundColor,Yi.clearRect(0,0,pt*(f+1),wt*(f+1)),Yi.fillRect(0,0,pt*(f+1),wt*(f+1))}else Ti.textContent="",Ti.style.backgroundColor=e.backgroundColor,Ti.style.position="relative"}),oi=pt;oi--;)for(lt[oi]=[],We=wt;We--;)lt[oi][We]=!0;else{var _i=document.createElement("canvas").getContext("2d");_i.fillStyle=e.backgroundColor,_i.fillRect(0,0,1,1);var rr=_i.getImageData(0,0,1,1).data,Vi=He.getContext("2d").getImageData(0,0,pt*f,wt*f).data;oi=pt;for(var Or,Jr;oi--;)for(lt[oi]=[],We=wt;We--;){Jr=f;t:for(;Jr--;)for(Or=f;Or--;)for(Ai=4;Ai--;)if(Vi[((We*f+Jr)*pt*f+(oi*f+Or))*4+Ai]!==rr[Ai]){lt[oi][We]=!1;break t}lt[oi][We]!==!1&&(lt[oi][We]=!0)}Vi=_i=rr=void 0}if(e.onWordCloudHover||e.onWordCloudClick){for(we=!0,oi=pt+1;oi--;)Xe[oi]=[];e.onWordCloudHover&&He.addEventListener("mousemove",xi),e.onWordCloudClick&&(He.addEventListener("click",er),He.addEventListener("touchstart",er),He.addEventListener("touchend",function(Ti){Ti.preventDefault()}),He.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),He.addEventListener("wordcloudstart",function Ti(){He.removeEventListener("wordcloudstart",Ti),He.removeEventListener("mousemove",xi),He.removeEventListener("click",er),$e=void 0})}if(e.animatable){Ai=0;var nr,Ir;e.wait!==0?(nr=window.setTimeout,Ir=window.clearTimeout):(nr=window.setImmediate,Ir=window.clearImmediate);var to=function(Yi,zi){i.forEach(function(ba){ba.addEventListener(Yi,zi)},this)},xa=function(Yi,zi){i.forEach(function(ba){ba.removeEventListener(Yi,zi)},this)},Vr=function Ti(){xa("wordcloudstart",Ti),Ir(ar)};to("wordcloudstart",Vr);var ar=nr(function Ti(){if(Ai>=e.data.length){Ir(ar),ma("wordcloudstop",!1),xa("wordcloudstart",Vr);return}te=new Date().getTime();var Yi=jr(e.data[Ai]),zi=!ma("wordclouddrawn",!0,{item:e.data[Ai],drawn:Yi});if(dr()||zi){Ir(ar),e.abort(),ma("wordcloudabort",!1),ma("wordcloudstop",!1),xa("wordcloudstart",Vr);return}Ai++,ar=nr(Ti,e.wait)},e.wait)}else{t.maskImage&&i.forEach(function(Ti){if(Ti.getContext){var Yi=Ti.getContext("2d");Yi.fillStyle=e.backgroundColor,Yi.clearRect(0,0,pt*(f+1),wt*(f+1)),Yi.fillRect(0,0,pt*(f+1),wt*(f+1))}});for(var qn=[],Jn=0;Jn<e.data.length;Jn++){var Hr=jr(e.data[Jn]);Hr&&qn.push(Hr)}if(qn.length===e.data.length&&!Ra){for(i.forEach(function(Ti){if(Ti.getContext){var Yi=Ti.getContext("2d");Yi.fillStyle=e.backgroundColor,Yi.clearRect(0,0,pt*(f+1),wt*(f+1)),Yi.fillRect(0,0,pt*(f+1),wt*(f+1))}}),oi=pt;oi--;)for(lt[oi]=[],We=wt;We--;)lt[oi][We]=!0;Ra=!0;for(var tn=0;tn<e.data.length;tn++)jr(Vt(Vt({},e.data[tn]),{twiceRender:Ra}))}}}};bo()};eu.isSupported=tu,eu.minFontSize=Ka;var uT=eu,cT=function(r){qt(i,r);function i(t){var e=r.call(this,t)||this;return e._toolTipsAction=function(n,a,o,s){a?(e._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),e._toolTips.show()):e._toolTips.hide(),e._toolTips.render(),e._configHoverAction&&e._configHoverAction(n,a,o,s)},e._configHoverAction=t.onWordCloudHover,e._enableToolTips=(0,l.get)(t,"tooltip.visible",!0),e.options=(0,l.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:e._enableToolTips?e._toolTipsAction:e._configHoverAction}),e}return i.prototype.init=function(){r.prototype.init.call(this),this._initToolTips()},i.prototype.render=function(){r.prototype.render.call(this),this._render()},i.prototype._initToolTips=function(){this._toolTips=new sT({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},i.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},i.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+new Date().getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},i.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),uT(this._targetCanvas,this.options)},i.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],e=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,l.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:e[0],maxRotation:e[1],active:n,shadowColor:a,shadowBlur:o})},i.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,a=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,u=a.getImageData(0,0,n.width,n.height),c=a.createImageData(u),h=0;h<u.data.length;h+=4)u.data[h+3]>128?(c.data[h]=s[0],c.data[h+1]=s[1],c.data[h+2]=s[2],c.data[h+3]=s[3]):(c.data[h]=s[0],c.data[h+1]=s[1],c.data[h+2]=s[2],c.data[h+3]=254);a.putImageData(c,0,0);var f=this._targetCanvas.getContext("2d");f.drawImage(n,0,0),this.options=(0,l.deepMix)({},this.options,{clearCanvas:!1}),this._start()},i.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},i.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,e.width,e.height),o=4,s=0,u=255,c=0;c<a.data.length;c+=o){var h=a.data[c]+a.data[c+1]+a.data[c+2],f=a.data[c+3];f<128||h>250*3?(a.data[c]=u,a.data[c+1]=u,a.data[c+2]=u,a.data[c+3]=s):(a.data[c]=s,a.data[c+1]=s,a.data[c+2]=s,a.data[c+3]=u)}return n.putImageData(a,0,0),e},i}(Uo),hT=cT,fT=function(r){qt(i,r);function i(t,e){var n=this;return e.renderer="canvas",n=r.call(this,t,e)||this,n}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,r.prototype.createLayers.call(this,e)},i}(Ue),vT=fT;ri("wordCloud",hT);var pT={rose:"interval"},dT=vr(pT);(0,l.assign)(ui,dT);var gT={rose:"interval"},yT={rose:"column"},Xv=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="rose",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},i.prototype.getOptions=function(t){var e=r.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,l.deepMix)({},e,{columnStyle:n,xField:a,yField:o})},i.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},i.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},i.prototype.geometryParser=function(t,e){return t==="g2"?gT[e]:yT[e]},i.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},i.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},i.prototype.addGeometry=function(){var t=this.options,e=Hi("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},i.prototype.adjustRoseAdjust=function(){},i.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},i.prototype.animation=function(){r.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},i.prototype.annotation=function(){},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,w)},i.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=(0,l.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField],a=Sr("label",Vt({plot:this,labelType:"polar",fields:n},e));return a},i.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,u){return""+u._origin[e]})}},i}(Gi),iu=Xv;ri("rose",Xv);var mT=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="rose",r.prototype.createLayers.call(this,e)},i.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},i.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},i.getDefaultOptions=iu.getDefaultOptions,i}(Ue),jv=mT,xT=function(r){var i=r.opacity||1;return{opacity:i*.5}},bT=function(r){var i=r.opacity||1;return{opacity:i*.5}};Xr("funnel",{columnStyle:{normal:{},active:xT,disable:bT,selected:{lineWidth:1,stroke:"black"}}});var Hv=S(26485);function wT(r,i){i===void 0&&(i=!1);var t=r.x,e=r.y,n=r.y0,a=r.size,o,s;(0,l.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var u,c;(0,l.isArray)(t)?(u=t[0],c=t[1]):(u=t-a/2,c=t+a/2);var h=[{x:u,y:o},{x:u,y:s}];return i?h.push({x:c,y:(s+o)/2}):h.push({x:c,y:s},{x:c,y:o}),h}function CT(r,i){var t=[],e=r.points,n=r.nextPoints;if(i){var a=i.yValues,o=i.yValuesMax,s=i.yValuesNext,u=(e[0].y+e[1].y)/2,c=a[0]+a[1],h=a.map(function(H){return H/c/.5}),f=(o[0]/(o[0]+o[1])-.5)*.9,p=.001;if((0,l.isNil)(n))t.push(["M",e[0].x,f+(e[0].y-u)*h[0]+u],["L",e[1].x,f+u],["L",e[2].x,f+u],["L",e[3].x,f+(e[3].y-u)*h[0]+u],["Z"]),t.push(["M",e[0].x,f+.002+u],["L",e[1].x,f+.002+(e[1].y-u)*h[1]+u],["L",e[2].x,f+.002+(e[2].y-u)*h[1]+u],["L",e[3].x,f+.002+u],["Z"]);else{var g=s[0]+s[1],_=s.map(function(H){return H/g/.5});t.push(["M",e[0].x,f+(e[0].y-u)*h[0]+u-p],["L",e[1].x,f+u-p],["L",n[1].x,f+u-p],["L",n[0].x,f+(n[3].y-u)*_[0]+u-p],["Z"]),t.push(["M",e[0].x,f+u+p],["L",e[1].x,f+(e[1].y-u)*h[1]+u+p],["L",n[1].x,f+(n[2].y-u)*_[1]+u+p],["L",n[0].x,f+u+p],["Z"])}}else(0,l.isNil)(n)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}vi("interval","funnel-basic-rect",{getPoints:function(r){return r.size=r.size*1.8,wT(r)},draw:function(r,i){var t,e=(0,Hv.getStyle)(r,!1,!0),n=(0,l.get)(r,"data.__compare__"),a=this.parsePath(CT(r,n));return i.addShape("path",(t={name:"interval",attrs:Vt(Vt({},e),{path:a})},t.__compare__=n,t))},getMarker:function(r){var i=r.color;return{symbol:"square",style:{r:4,fill:i}}}});function ru(r,i,t){return(1-t)*r+t*i}function ST(r,i){var t=i.reverse,e=i.ratioUpper,n=i.ratioLower,a=[],o=r[0],s=(r[1].x+r[2].x)/2,u=1.2,c=.6;if(t){var h=n;n=e,e=h}var f=(o.x-s)*ru(c,u,n)+s;a.push(["M",f,o.y]);for(var p=1,g=r.length;p<g;p++){var _=r[p].x;switch(p){case 1:case 2:_=(_-s)*ru(c,u,e)+s;break;case 3:_=(_-s)*ru(c,u,n)+s;break}a.push(["L",_,r[p].y])}return a.push(["L",f,o.y]),a.push(["z"]),a}vi("interval","funnel-dynamic-rect",{draw:function(r,i){var t=(0,Hv.getStyle)(r,!1,!0),e=(0,l.get)(r,"data.__custom__"),n=this.parsePath(ST(r.points,e));return i.addShape("path",{attrs:Vt(Vt({},t),{path:n})})},getMarker:function(r){var i=r.color,t=r.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:i}}}});function Vv(r,i){var t=i||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,u=t.reverse,c=r.getBBox(),h=u?c.maxX:c.minX,f=(c.minY+c.maxY)/2,p=r.setClip({type:"rect",attrs:{x:c.x,y:c.y,width:c.width,height:c.height}}),g={matrix:[1,0,0,0,1,0,0,0,1]};p.setMatrix(Pi.transform(p.getMatrix(),[["t",-h,-f],["s",0,1],["t",h,f]]));var _={fillOpacity:r.attr("fillOpacity"),strokeOpacity:r.attr("strokeOpacity"),opacity:r.attr("opacity")};r.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate(g,{duration:200,easing:o,callback:function(){r.setClip(null),p.remove()},delay:a}),r.animate(_,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(r)},n+a)}Vv.animationName="funnelScaleInX",ji("funnelScaleInX",Vv);function zv(r,i){var t=i||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,u=t.reverse,c=r.getBBox(),h=(c.minX+c.maxX)/2,f=u?c.maxY:c.minY,p=r.setClip({type:"rect",attrs:{x:c.x,y:c.y,width:c.width,height:c.height}}),g={matrix:[1,0,0,0,1,0,0,0,1]};p.setMatrix(Pi.transform(p.getMatrix(),[["t",-h,-f],["s",1,0],["t",h,f]]));var _={fillOpacity:r.attr("fillOpacity"),strokeOpacity:r.attr("strokeOpacity"),opacity:r.attr("opacity")};r.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate(g,{duration:200,easing:o,callback:function(){r.setClip(null),p.remove()},delay:a}),r.animate(_,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(r)},n+a)}zv.animationName="funnelScaleInY",ji("funnelScaleInY",zv);function xs(r,i,t){return(1-t)*r+t*i}var MT={column:"interval"},AT={interval:"funnel"},Wv=function(r){qt(i,r);function i(t){var e=r.call(this,t)||this;return e.type="funnel",e._shouldResetPercentages=!0,e._shouldResetLabels=!0,e._shouldResetCompareTexts=!0,e._legendsListenerAttached=!1,e._onLegendContainerMouseDown=function(n){var a=e.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),e.refreshPercentages(),e.refreshLabels(),a.dynamicHeight){var u=e._findCheckedDataByMouseDownLegendItem(s);e._genCustomFieldForDynamicHeight(u)}if(a.compareField){var u=e._findCheckedDataByMouseDownLegendItem(s);e._updateDataForCompare(u),e.refreshCompareTexts()}}},e.adjustProps(e.options),t.dynamicHeight&&e._genCustomFieldForDynamicHeight(e.getData()),t.compareField&&(e.options.data=e._reduceDataForCompare(e.getData())),e}return i.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,l.deepMix)({},va.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,l.deepMix)({},r.getDefaultOptions.call(this),e)},i.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},i.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},i.prototype.axis=function(){this.setConfig("axes",!1)},i.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},(0,l.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},i.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,l.deepMix)(t.tooltip,{htmlContent:function(e,n){var a,o,s,u;a=hr.CONTAINER_CLASS,o=(0,xe.Z)('<div class="'+a+'"></div>'),(0,de.Z)(o,Ba.default[a]);var c=o;if(e){a=hr.TITLE_CLASS,o=(0,xe.Z)('<div class="'+a+'"></div>'),(0,de.Z)(o,Ba.default[a]),c.appendChild(o);var h=o;a=hr.MARKER_CLASS,o=(0,xe.Z)('<span class="'+a+'"></span>'),(0,de.Z)(o,Ba.default[a]),(0,de.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),u=o,o=(0,xe.Z)("<span>"+e+"</span>"),h.appendChild(o)}if(n){a=hr.LIST_CLASS,o=(0,xe.Z)('<ul class="'+a+'"></ul>'),(0,de.Z)(o,Ba.default[a]),c.appendChild(o);var f=o;n.reduce(function(p,g){s||(s=g.color);var _=(0,l.get)(g,"point._origin.__compare__.compareValues"),H=(0,l.get)(g,"point._origin.__compare__.yValues");return H.forEach(function(lt,pt){return p.push([_[pt],lt])}),p},[]).forEach(function(p,g){var _=p[0],H=p[1];a=hr.LIST_ITEM_CLASS,o=(0,xe.Z)('<li class="'+a+'" data-index='+g+"></li>"),(0,de.Z)(o,Ba.default[a]),f.appendChild(o);var lt=o;a=hr.NAME_CLASS,o=(0,xe.Z)('<span class="'+a+'">'+_+"</span>"),(0,de.Z)(o,Ba.default[a]),lt.appendChild(o),a=hr.VALUE_CLASS,o=(0,xe.Z)('<span class="'+a+'">'+H+"</span>"),(0,de.Z)(o,Ba.default[a]),lt.appendChild(o)})}return s&&u&&(0,de.Z)(u,{backgroundColor:s}),c}}),r.prototype.tooltip.call(this)},i.prototype.addGeometry=function(){var t=this.options,e=Hi("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e),t.compareField||this.geometryTooltip()},i.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},i.prototype.animation=function(){var t=this;r.prototype.animation.call(this);var e=this.options;if(e.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,l.get)(e,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),e.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,l.deepMix)({},e.animation,{appear:{animation:e.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,l.findIndex)(n,function(u){return(0,l.isEqual)(u,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},i.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(r.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},i.prototype.updateConfig=function(t){t=this.adjustProps(t),r.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},i.prototype.changeData=function(t){var e=this.options;if(e.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(e.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}r.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},i.prototype.geometryParser=function(t,e){return t==="g2"?MT[e]:AT[e]},i.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,l.set)(t,"meta."+t.yField+".nice",!1),(0,l.set)(t,"tooltip.shared",!1)),t},i.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var e=this.options,n=e.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,u=n.line,c=u===void 0?{}:u,h=n.text,f=h===void 0?{}:h,p=n.value,g=p===void 0?{}:p,_=Date.now(),H=this._findPercentageContainer(!0);this._eachShape(function(lt,pt,wt,Ft){if(pt>0){var Dt=lt.getBBox(),te=Dt.minX,ye=Dt.maxX,Oe=Dt.maxY,Re=Dt.minY,we=e.transpose?te:ye,Xe=e.transpose&&e.compareField?Oe:Re,$e=t._findPercentageMembersInContainerByIndex(H,pt,!0),Mi=$e.line,fi=$e.text,xi=$e.value,er=[function(Di,gi,ir,Oi,cr){ir&&(ir.attr((0,l.deepMix)({},c.style,{x1:Di,y1:gi,x2:e.transpose?Di+a:Di-a,y2:e.transpose?gi-o:gi+o,opacity:0})),ir.set("adjustTimestamp",_));var qr=0,gr=0,jr=function(){Oi&&(Oi.attr((0,l.deepMix)({},f.style,{x:e.transpose?Di+a:Di-a-s-gr-s,y:e.transpose?gi-o-s:gi+o,opacity:0,text:f.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),Oi.set("adjustTimestamp",_),qr=Oi.getBBox().width)},ma=function(){cr&&(cr.attr((0,l.deepMix)({},g.style,{x:e.transpose?Di+a+qr+s:Di-a-s,y:e.transpose?gi-o-s:gi+o,opacity:0,text:(0,l.isFunction)(g.formatter)?e.compareField?g.formatter((0,l.get)(Ft,"__compare__.yValues.0"),(0,l.get)(wt,"__compare__.yValues.0")):g.formatter(Ft[e.yField],wt[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),cr.set("adjustTimestamp",_),gr=cr.getBBox().width)};e.transpose?(jr(),ma()):(ma(),jr())},function(Di,gi,ir,Oi,cr){ir&&(ir.attr((0,l.deepMix)({},c.style,{x1:Di,y1:gi,x2:Di+a,y2:e.transpose?e.compareField?gi+o:gi-o:gi+o,opacity:0})),ir.set("adjustTimestamp",_));var qr=0;Oi&&(Oi.attr((0,l.deepMix)({},f.style,{x:e.transpose?Di+a:Di+a+s,y:e.transpose?e.compareField?gi+o+s:gi-o-s:gi+o,opacity:0,text:f.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),Oi.set("adjustTimestamp",_),qr=Oi.getBBox().width),cr&&(cr.attr((0,l.deepMix)({},g.style,{x:e.transpose?Di+a+qr+s:Di+a+s+qr+s,y:e.transpose?e.compareField?gi+o+s:gi-o-s:gi+o,opacity:0,text:(0,l.isFunction)(g.formatter)?e.compareField?g.formatter((0,l.get)(Ft,"__compare__.yValues.1"),(0,l.get)(wt,"__compare__.yValues.1")):g.formatter(Ft[e.yField],wt[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),cr.set("adjustTimestamp",_))}];if(e.compareField){var Mr=[te,Re],pr=Mr[0],dr=Mr[1];[[pr,dr],[we,Xe]].forEach(function(Di,gi){var ir=Di[0],Oi=Di[1];return er[gi](ir,Oi,Mi&&Mi[gi],fi&&fi[gi],xi&&xi[gi])})}else er[1](we,Xe,Mi,fi,xi)}Ft=wt,pt++}),H.get("children").forEach(function(lt){lt.get("adjustTimestamp")!=_&&(lt.attr({opacity:0}),H.set(lt.get("id"),null),setTimeout(function(){return lt.remove()},0))})}},i.prototype.fadeInPercentages=function(t,e){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(u){var c={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,f){var p=n._findPercentageMembersInContainerByIndex(o,f),g={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},_=function(lt){if(lt&&lt.get("type")=="text"){var pt=lt.getBBox(),wt=pt.minX,Ft=pt.maxX,Dt=pt.minY,te=pt.maxY;wt<g.minX&&(g.minX=wt),Ft>g.maxX&&(g.maxX=Ft),Dt<g.minY&&(g.minY=Dt),te>g.maxY&&(g.maxY=te)}};if((0,l.each)(p,function(lt){return(0,l.isArray)(lt)?_(lt[u]):_(lt)}),g.minX>c.maxX||g.maxX<c.minX||g.minY>c.maxY||g.maxY<c.minY){var H=function(lt){if(lt){var pt={opacity:1};t?lt.animate(pt,t):lt.attr(pt)}};(0,l.each)(p,function(lt){return(0,l.isArray)(lt)?H(lt[u]):H(lt)}),(0,l.assign)(c,g)}})};a.compareField?[0,1].forEach(s):s(),t&&e&&setTimeout(e,t)},i.prototype.fadeOutPercentages=function(t,e){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var u=n._findPercentageMembersInContainerByIndex(a,s),c=function(h){if(h){var f={opacity:0};t?h.animate(f,t):h.attr(f)}};(0,l.each)(u,function(h){return(0,l.isArray)(h)?h.forEach(c):c(h)})}),t&&e&&setTimeout(e,t)},i.prototype.refreshPercentages=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(s,t)})}},i.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},i.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,u=o.line,c=u===void 0?{}:u,h=o.text,f=h===void 0?{}:h,p=o.value,g=p===void 0?{}:p,_={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return _;if(c.visible!==!1){var H=function(Ft){var Dt="_percentage-line-"+e+"-"+Ft,te=t.get(Dt);return!te&&n&&(te=t.addShape({id:Dt,type:"line",attrs:{}}),t.set(Dt,te)),te},lt=a.compareField?[0,1].map(H):H(0);_.line=lt}if(f.visible!==!1){var H=function(Dt){var te="_percentage-text-"+e+"-"+Dt,ye=t.get(te);return!ye&&n&&(ye=t.addShape({id:te,type:"text",attrs:{}}),t.set(te,ye)),ye},pt=a.compareField?[0,1].map(H):H(0);_.text=pt}if(g.visible!==!1){var H=function(Dt){var te="_percentage-value-"+e+"-"+Dt,ye=t.get(te);return!ye&&n&&(ye=t.addShape({id:te,type:"text",attrs:{}}),t.set(te,ye)),ye},wt=a.compareField?[0,1].map(H):H(0);_.value=wt}return _},i.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=(0,l.get)(t,"animation.update.duration"),n=(0,l.get)(t,"animation.enter.duration"),a=Math.min(n,e)*.6,o=Math.max(n,e)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},i.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var e=this.options,n=e.xField,a=e.yField,o=Date.now(),s=this._getGeometry().labelsContainer,u=e.label||{},c=(0,l.deepMix)(Vt({},this.theme.label),e.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(f,p,g,_){var H,lt=f.get("element");p==0&&(h=g);var pt=f.getBBox(),wt=pt.minX,Ft=pt.maxX,Dt=pt.minY,te=pt.maxY,ye=g[n],Oe=g[a];u.adjustColor&&(c.fill=t._getAdjustedTextFillByShape(f));var Re=g.__compare__,we,Xe=(H={},H[fo]=g,H.element=lt,H.elementIndex=_,H.mappingDatum=[].concat(lt.getModel().mappingData)[0],H.mappingDatumIndex=0,H);u.formatter?we=u.formatter(ye,Xe,p,Oe,h[a]):Re?we=[0,1].map(function(){return""+Oe}).join(e.transpose?`

`:"    "):we=ye+" "+Oe;var $e=t._findLabelInContainerByIndex(s,p,!0),Mi=Re?Re.yValues[0]/(Re.yValues[0]+Re.yValues[1]):.5;$e&&($e.attr(Vt(Vt({},c),{x:xs(wt,Ft,e.transpose?.5:Mi),y:xs(Dt,te,e.transpose?Mi:.5),text:we})),$e.set("adjustTimestamp",o))}),s.get("children").forEach(function(f){f.get("adjustTimestamp")!=o&&(f.attr({opacity:0}),s.set(f.get("id"),null),setTimeout(function(){return f.remove()}))})}},i.prototype.fadeInLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,u){if(!t||t==s){var c=a._findLabelInContainerByIndex(o,u);if(c){var h=s.getBBox(),f=c.getBBox();if(f.minX>=h.minX&&f.maxX<=h.maxX&&f.minY>=h.minY&&f.maxY<=h.maxY){var p={opacity:1};e?c.animate(p,e):c.attr(p)}}}}),e&&n&&setTimeout(n,e)},i.prototype.fadeOutLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,u){if(!t||t==s){var c=a._findLabelInContainerByIndex(o,u);if(c){var h={opacity:0};e?c.animate(h,e):c.attr(h)}}}),e&&n&&setTimeout(n,e)},i.prototype.refreshLabels=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,s,t)})}},i.prototype._findLabelInContainerByIndex=function(t,e,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var u="_label-"+e;return s=t.get(u),!s&&n&&(s=t.addShape({id:u,type:"text",attrs:{}}),t.set(u,s)),s},i.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,e,n;if(this._eachShape(function(g,_,H){_==0&&(e=g.get("parent").getBBox(),n=(0,l.get)(H,"__compare__"))}),e&&n&&(0,l.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,u=e.minX,c=e.maxX,h=e.minY,f=e.maxY,p=a.get("children");[0,1].forEach(function(g){var _=p[g];_||(_=a.addShape({type:"text"})),_.attr((0,l.deepMix)({},(0,l.get)(t,"compareText.style"),{text:t.transpose?s[g]:g?"  "+s[g]:s[g]+"  ",x:t.transpose?u+(0,l.get)(t,"compareText.offsetX"):xs(u,c,o[0]/(o[0]+o[1])),y:t.transpose?xs(h,f,o[0]/(o[0]+o[1]))+(g?8:-8):h+(0,l.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":g?"left":"right",textBaseline:t.transpose&&g?"top":"bottom"}))})}}},i.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var u={opacity:1};t?s.animate(u,t):s.attr(u)}})}t&&e&&setTimeout(e,t)},i.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var u={opacity:0};t?s.animate(u,t):s.attr(u)}})}t&&e&&setTimeout(e,t)},i.prototype.refreshCompareTexts=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(o,t)})}},i.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},i.prototype._eachShape=function(t){var e,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(e=this._getGeometry())===null||e===void 0||e.elements.forEach(function(u,c){var h=u.shape,f=n[o];o<a&&t(h,o,f,s,c),s=f,o++})},i.prototype._getGeometry=function(){return this.view.geometries[0]},i.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=Kn(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=hs(s,o);return u},i.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce(function(o,s){return o+s[e.yField]},0),a=1;t.forEach(function(o,s){var u=o[e.yField],c=u/n,h=a-c;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:e.transpose},a=h})},i.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return e[o]});return n},i.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,l.contains)(a,s[e.xField])});return o},i.prototype._findCheckedData=function(t){var e,n=this.options;if((e=n.legend)===null||e===void 0?void 0:e.visible){var a=this.view.getController("legend").container,o=a.findAll(function(u){return u.get("name")=="legend-item"}).filter(function(u){return!u.get("unchecked")}).map(function(u){return u.get("id").replace("-legend-item-","")}),s=t.filter(function(u){return(0,l.contains)(o,u[n.xField])});return s}else return this.processData(n.data)},i.prototype._reduceDataForCompare=function(t){var e=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var u,c=s[e.xField],h=s[e.yField],f=s[e.compareField];n||(n=f);var p=o.find(function(_){return _[e.xField]==c});p||(p=(u={},u[e.xField]=c,u[e.yField]=0,u.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:e.transpose},u),o.push(p));var g=f==n?0:1;return p.__compare__.yValues[g]=h,a[g]<h&&(a[g]=h),p.__compare__.compareValues[g]=f,o},[]),t.forEach(function(o,s){o[e.yField]=(0,l.get)(o,"__compare__.yValues",[]).reduce(function(u,c){return u+=c},0),(0,l.set)(o,"__compare__.yValuesMax",a),(0,l.set)(o,"__compare__.yValuesNext",(0,l.get)(t,s+1+".__compare__.yValues"))}),t},i.prototype._updateDataForCompare=function(t){var e=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,l.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>e[o]&&(e[o]=a[o])})}),t.forEach(function(n,a){(0,l.set)(n,"__compare__.yValuesMax",e),(0,l.set)(n,"__compare__.yValuesNext",(0,l.get)(t,a+1+".__compare__.yValues"))})},i}(Gi),_T=Wv;ri("funnel",Wv);var TT=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="funnel",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=_T.getDefaultOptions,i}(Ue),LT=TT,Zv=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},i.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},i.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},i.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},i}(iu),ET=Zv;ri("stackedRose",Zv);var PT=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="stackedRose",r.prototype.createLayers.call(this,e)},i.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},i.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},i.getDefaultOptions=ET.getDefaultOptions,i}(Ue),Uv=PT,$v=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},i.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},i.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},i.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},i}(iu),OT=$v;ri("groupedRose",$v);var IT=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="groupedRose",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=OT.getDefaultOptions,i}(Ue),Kv=IT,BT={area:"area",line:"line",point:"point"},kT=vr(BT);(0,l.assign)(ui,kT);var FT=function(r){var i=r.opacity||1;return{opacity:i}},DT=function(r){var i=r.opacity||1;return{opacity:i*.5}},RT=function(r){var i=r.opacity||1;return{opacity:i}},NT=function(r){var i=r.opacity||1;return{opacity:i*.5}},GT=function(r){var i=r.lineWidth||1;return{lineWidth:i+2}},YT=function(r){var i=r.fill||r.fillStyle,t=r.size||r.radius;return{radius:t+1,shadowBlur:t,shadowColor:i,stroke:i,strokeOpacity:1,lineWidth:1}},XT=function(r){var i=r.fill||r.fillStyle,t=r.size||r.radius;return{radius:t+2,shadowBlur:t,shadowColor:i,stroke:i,strokeOpacity:1,lineWidth:2}},jT=function(r){var i=r.opacity||r.fillOpacity||1;return{opacity:i*.5}};Xr("radar",{areaStyle:{normal:{},active:FT,disable:DT,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:RT,disable:NT,selected:GT},pointStyle:{normal:{},active:YT,disable:jT,selected:XT}});var HT={area:"area",line:"line",point:"point"},Qv=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="radar",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},i.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,r.prototype.init.call(this)},i.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},i.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},i.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},i.prototype.geometryParser=function(t,e){return HT[e]},i.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},(0,l.has)(t,"angleAxis")&&ur(e[t.angleField],t.angleAxis),e[t.radiusField]={},(0,l.has)(t,"radiusAxis")&&ur(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),r.prototype.scale.call(this)},i.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},i.prototype.axis=function(){var t=this.options,e=Sr("axis",{plot:this,dim:"angle"}),n=Sr("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=e,a[t.radiusField]=n,this.setConfig("axes",a)},i.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=Hi("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=Hi("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=Hi("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},i.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},i.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var e=Sr("label",Vt({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},i.prototype.annotation=function(){},i.prototype.animation=function(){r.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,d)},i}(Gi),VT=Qv;ri("radar",Qv);var zT=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="radar",r.prototype.createLayers.call(this,e)},i.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},i.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},i.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},i.getDefaultOptions=VT.getDefaultOptions,i}(Ue),qv=zT,WT=S(89810),ZT=S(79189),UT=function(){function r(i){var t=this.getDefaultOptions();this.options=(0,l.deepMix)(t,i,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return r.prototype.render=function(){if((0,l.isElement)(this.container)){this.wrapperNode=(0,xe.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,de.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var i=this.html;this.wrapperNode.appendChild(i),this.setDomPosition(this.x,this.y)}},r.prototype.updateHtml=function(i){(0,l.isType)(i,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(i)):this.wrapperNode.innerHTML=i,this.setDomPosition(this.x,this.y)},r.prototype.updatePosition=function(i,t){this.x=i,this.y=t,this.setDomPosition(i,t)},r.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},r.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},r.prototype.setDomPosition=function(i,t){var e=i,n=t,a=(0,WT.Z)(this.wrapperNode),o=(0,ZT.Z)(this.wrapperNode);this.options.alignX==="middle"&&(e=i-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,de.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(e)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},r}(),Jv=UT,$T="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",KT="font-size:32px;font-weight:bold;color:#4D4D4D";function QT(r,i){var t='<span class="liquid-guide-value" style='+KT+">"+r+"</span>";return'<div class="liquid-guide-html '+i+'" style='+$T+">"+t+"</div>"}var qT=function(r){qt(i,r);function i(t){var e=r.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return i.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,a=n===void 0?0:n,o=e.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,l.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=QT(s,this.statisticClass),t},i.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},i}(Jv),JT=qT,tL={liquid:"intervl",statistic:"annotation-text"},eL=vr(tL);(0,l.assign)(ui,eL);var tp=Pr(),ep={splitPoints:function(r){var i=[],t=r.x,e=r.y;return e=(0,l.isArray)(e)?e:[e],(0,l.each)(e,function(n,a){var o={x:(0,l.isArray)(t)?t[a]:t,y:n};i.push(o)}),i},addFillAttrs:function(r,i){i.color&&!r.fill&&(r.fill=i.color),(0,l.isNumber)(i.opacity)&&(r.opacity=r.fillOpacity=i.opacity)},addStrokeAttrs:function(r,i){i.color&&!r.stroke&&(r.stroke=i.color),(0,l.isNumber)(i.opacity)&&(r.opacity=r.strokeOpacity=i.opacity)}},nu={lerp:function(r,i,t){return(1-t)*r+t*i}},iL=function(r){var i={lineWidth:0,fill:tp.color,fillOpacity:.85},t=(0,l.mix)({},i,r.style);return ep.addFillAttrs(t,r),r.color&&!t.stroke&&(t.stroke=t.stroke||r.color),t},rL=function(r){var i={fill:"#fff",stroke:tp.color,fillOpacity:0,lineWidth:2},t=(0,l.mix)({},i,r.style);return ep.addStrokeAttrs(t,r),t};function nL(r,i,t,e){return i===0?[[r+1/2*t/Math.PI/2,e/2],[r+1/2*t/Math.PI,e],[r+t/4,e]]:i===1?[[r+1/2*t/Math.PI/2*(Math.PI-2),e],[r+1/2*t/Math.PI/2*(Math.PI-1),e/2],[r+t/4,0]]:i===2?[[r+1/2*t/Math.PI/2,-e/2],[r+1/2*t/Math.PI,-e],[r+t/4,-e]]:[[r+1/2*t/Math.PI/2*(Math.PI-2),-e],[r+1/2*t/Math.PI/2*(Math.PI-1),-e/2],[r+t/4,0]]}function aL(r,i,t,e,n,a,o){for(var s=Math.ceil(2*r/t*4)*2,u=[],c=e;c<-Math.PI*2;)c+=Math.PI*2;for(;c>0;)c-=Math.PI*2;c=c/Math.PI/2*t;var h=a-r+c-r*2;u.push(["M",h,i]);for(var f=0,p=0;p<s;++p){var g=p%4,_=nL(p*t/4,g,t,n);u.push(["C",_[0][0]+h,-_[0][1]+i,_[1][0]+h,-_[1][1]+i,_[2][0]+h,-_[2][1]+i]),p===s-1&&(f=_[2][0])}return u.push(["L",f+h,o+r]),u.push(["L",h,o+r]),u.push(["L",h,i]),u}function oL(r,i,t,e,n,a,o,s){for(var u=o.getBBox(),c=u.maxX-u.minX,h=u.maxY-u.minY,f=5e3,p=0;p<e;p++){var g=e<=1?0:p/(e-1),_=a.addShape("path",{attrs:{path:aL(s,u.minY+h*t,c/4,0,c/nu.lerp(56,64,g),r,i),fill:n,opacity:nu.lerp(.6,.3,g)}}),H=za([["t",c/2,0]]);_.animate({matrix:H},{duration:nu.lerp(f,.7*f,g),repeat:!0})}}vi("interval","liquid-fill-gauge",{draw:function(r,i){var t=.5,e=Infinity;(0,l.each)(r.points,function(p){p.x<e&&(e=p.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:e,y:.5}),s=a.x-o.x,u=Math.min(s,o.y),c=iL(r).fill,h=i.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:u}});var f=h.get("clipShape");return oL(a.x,a.y,1-r.points[1].y,3,c,h,f,u*4),i.addShape("circle",{name:"wrap",attrs:(0,l.mix)(rL(r),{x:a.x,y:a.y,r:u,fill:"transparent"})}),h[0]}});function ip(r,i){var t=r.get("parent"),e=t.getBBox(),n=Math.min(Math.max(0,(0,l.get)(i,"factor",.5)),1),a=(0,l.get)(i,"delay",0),o=(0,l.get)(i,"duration",800),s=i.callback,u=(e.minX+e.maxX)/2,c=e.maxY,h=t.find(function(H){return H.get("name")=="wrap"}),f=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:f},o*n,"easeLinear",null,a);var p=t.find(function(H){return H.get("name")=="waves"}),g=(0,l.clone)(p.attr("matrix"))||[1,0,0,0,1,0,0,0,1],_=za(g,[["t",-u,-c],["s",1,0],["t",u,c]]);p.setMatrix(_),p.animate({matrix:g},o,i.easing,function(){return s&&s(t,h,p)},a)}ip.animationName="liquidMoveIn",ji("liquidMoveIn",ip);var sL={column:"interval"},lL={interval:"liquid"},rp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return i.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,l.deepMix)({},r.getDefaultOptions.call(this),t)},i.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,a=t.value;if(!(0,l.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,l.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,l.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},i.prototype.init=function(){this.options.data=[{}],r.prototype.init.call(this)},i.prototype.coord=function(){},i.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a={value:{}};ur(a.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",a),r.prototype.scale.call(this)},i.prototype.axis=function(){this.setConfig("axes",!1)},i.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;(0,l.isFunction)(n)&&(n=n()),n&&(t.style=n)},i.prototype.addGeometry=function(){var t=Hi("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=Math.min(e.width,e.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},i.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var e=(0,l.get)(t,"animation.factor"),n=(0,l.get)(t,"animation.easing"),a=(0,l.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:a}}}},i.prototype.geometryParser=function(t,e){return t==="g2"?sL[e]:lL[e]},i.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},i.prototype.useHtmlContent=function(){var t=this.options,e=t.statistic||{};return(0,l.isFunction)(e.htmlContent)},i.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,e=t.statistic||{},n;(0,l.isFunction)(e.formatter)?n=e.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var u;if(e.visible!==!1){var c=(0,l.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:u,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},e);return delete c.visible,delete c.formatter,delete c.adjustColor,c}}},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,I)},i.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var e=this.options,n=e.padding?e.padding:this.config.theme.padding;if(e.defaultState&&n!=="auto"&&this.stateController.defaultStates(e.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,de.Z)(o,{position:"relative"}),this.statistic=new JT(Vt({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}r.prototype.afterRender.call(this)}},i.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},i.prototype.changeValue=function(t){var e=this.options;e.value=t,this.changeData([])},i.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,l.forIn)(o,function(s,u){return n.attr(u,s)})},i.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,l.get)(t,"statistic.adjustColor")===!1)return{fill:(0,l.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,l.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var u;if(a==o?u=1:u=(s-a)/(o-a),u>.55){var c=this.options.color,h=.8,f=Kn(c),p=Math.round(f[0]*.299+f[1]*.587+f[2]*.114)/h;return p<156?e:n}return n},i.prototype.updateConfig=function(t){r.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},i.prototype.getViewRange=function(){var t=r.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,a=t.minX,o=t.minY,s=t.width,u=t.height,c=Math.min(s,u)-n*2,h=a+s/2,f=o+u/2,p=h-c/2,g=f-c/2;return new Qe(p,g,c,c)},i}(Gi),au=rp;ri("liquid",rp);var uL=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="liquid",r.prototype.createLayers.call(this,e)},i.prototype.changeValue=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof au&&a.changeValue(t)});else{var n=this.layers[0];n instanceof au&&n.changeValue(t)}},i.getDefaultOptions=au.getDefaultOptions,i}(Ue),np=uL,ap=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="histogram",t}return i.prototype.init=function(){this.options.xField="range",this.options.yField="count",r.prototype.init.call(this)},i.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,u=(0,l.clone)(t);(0,l.sortBy)(u,a);var c=(0,l.valuesOfKey)(u,a),h=(0,l.getRange)(c),f=h.max-h.min,p=o;if(!o&&s&&(p=f/s),!o&&!s){var g=uh(c);p=f/g}var _={};(0,l.each)(u,function(lt){var pt=lt[a],wt=e.getBin(pt,p),Ft=wt[0]+"-"+wt[1];(0,l.hasKey)(_,Ft)||(_[Ft]={name:Ft,range:wt,count:0,data:[]}),_[Ft].data.push(lt),_[Ft].count+=1});var H=[];return(0,l.each)(_,function(lt){H.push(lt)}),H},i.prototype.scale=function(){r.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},i.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},i}($a),cL=ap;ri("histogram",ap);var hL=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="histogram",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=cL.getDefaultOptions,i}(Ue),op=hL,fL={epanechnikov:function(r){return Math.abs(r)<=1?.75*(1-r*r):0},gaussian:function(r){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(r,2))},uniform:function(r){return Math.abs(r)<=1?.5:0},triangle:function(r){return Math.abs(r)<=1?1-Math.abs(r):0},quartic:function(r){var i=1-r*r;return Math.abs(r)<=1?15/16*i*i:0},triweight:function(r){var i=1-r*r;return Math.abs(r)<=1?15/16*Math.pow(i,3):0},cosinus:function(r){var i=Math.PI/4*Math.cos(.5*Math.PI*r);return Math.abs(r)<=1?i:0}},sp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="density",t}return i.prototype.init=function(){var t=this.options.xAxis?(0,l.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,l.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,r.prototype.init.call(this)},i.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,u=n.kernel,c=u||"epanechnikov",h=fL[c],f=(0,l.clone)(t);(0,l.sortBy)(f,a);var p=(0,l.valuesOfKey)(f,a),g=(0,l.getRange)(p),_=g.max-g.min,H=s,lt=o;!s&&o&&(H=Math.floor(_/o)),!o&&s&&(lt=_/s),!s&&!o&&(H=uh(p),lt=_/s);var pt=(0,$t.getScale)("linear"),wt=new pt({min:g.min,max:g.max,tickCount:H,nice:!1}),Ft=wt.getTicks(),Dt=[];return(0,l.each)(Ft,function(te){var ye=e.kernelDensityEstimator(lt,h,te,p);Dt.push({value:te.text,density:ye})}),Dt},i.prototype.kernelDensityEstimator=function(t,e,n,a){var o=0;return(0,l.each)(a,function(s){var u=(n.tickValue-s)/t;o+=e(u)}),a.length===0?0:o/a.length},i}(zl),vL=sp;ri("density",sp);var gB=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="density",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=vL.getDefaultOptions,i}(Ue),yB=null,pL={ring:"interval"},dL=vr(pL);(0,l.assign)(ui,dL);var gL="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",yL="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",mL="font-size:32px;font-weight:bold;color:#4D4D4D";function xL(r,i,t,e){var n=gL+"width:"+e+"px;",a=r?'<span class="ring-guide-name" style='+yL+">"+r+"</span><br/>":"",o='<span class="ring-guide-value" style='+mL+">"+i+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var bL=function(r){qt(i,r);function i(t){var e=r.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return i.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,(0,l.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,l.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},i.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var e=this.getTotalValue();t=this.parseStatisticData("total",e)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,l.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},i.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},i.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,l.each)(this.plot.options.data,function(c){typeof c[a]=="number"&&(e+=c[a])});var u=(t={},t[a]=e,t[o]=s,t);return u},i.prototype.parseStatisticData=function(t,e,n){var a=this.plot,o=a.options,s=o.angleField,u=o.colorField,c=a.getScaleByField(s),h=a.getScaleByField(u),f={name:h?h.getText(e[u]):null,value:c.getText(e[s])};return t==="item"&&(f.itemData=e,f.color=n),f},i.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize(),n=xL(t.name,t.value,this.statisticClass,e);return n},i.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,a=e.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},i.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n;return e?n=e(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},i}(Jv),wL=bL,CL={ring:"interval"},SL={interval:"ring"},lp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="donut",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},i.prototype.beforeInit=function(){r.prototype.beforeInit.call(this),i.centralId++,this.statisticClass="statisticClassId"+i.centralId,this.adjustLabelDefaultOptions()},i.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var e=this.canvas.get("container");(0,de.Z)(e,{position:"relative"}),this.statistic=new wL(Vt({container:e,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}r.prototype.afterRender.call(this)},i.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),r.prototype.destroy.call(this)},i.prototype.geometryParser=function(t,e){return t==="g2"?CL[e]:SL[e]},i.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,k)},i.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},i.centralId=0,i}(Iv),up=lp;ri("donut",lp);var ML=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="donut",r.prototype.createLayers.call(this,e)},i.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},i.getDefaultOptions=up.getDefaultOptions,i}(Ue),cp=ML;function AL(r,i,t){var e=r.style,n=r.defaultStyle,a=r.color,o=Vt(Vt({},n),e);return a&&(i&&(o.stroke=a),t&&(o.fill=a)),o}function _L(r){var i=[],t=r[0];i.push(["M",t.x,t.y]);for(var e=1,n=r.length;e<n;e++)i.push(["L",r[e].x,r[e].y]);return i.push(["L",t.x,t.y]),i.push(["z"]),i}vi("interval","waterfall",{draw:function(r,i){var t=AL(r,!1,!0),e=this.parsePath(_L(r.points)),n=i.addShape("path",{attrs:Vt(Vt({},t),{path:e}),name:"interval"}),a=(0,l.get)(r.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(r.nextPoints){var s=[["M",r.points[2].x,r.points[2].y],["L",r.nextPoints[0].x,r.nextPoints[0].y]];s=this.parsePath(s),i.addShape("path",{attrs:Vt({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var hp=2,TL=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.adjustLabel=function(t,e){var n,a,o=e.shape,s=o.getBBox(),u=e.getData(),c=u[$r],h=u[this.layer.options.yField],f=(0,l.isArray)(c)?c[1]:c,p=this.options.formatter,g=[].concat(e.getModel().mappingData),_=p?g[0]&&g[0]._origin[bs]:0,H=p?p(f,(n={},n[fo]=(a=g[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=g[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=_,n),_):f,lt=(s.minY+s.maxY)/2,pt="bottom";h<0?(lt=s.maxY+hp,pt="top"):lt=s.minY-hp,t.attr("y",lt),t.attr("text",H),t.attr("textBaseline",pt)},i}(Ul),mB=null;Yr("waterfall",TL);function LL(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var EL=function(){function r(i){this.textAttrs={},this.view=i.view,this.fields=i.fields,this.formatter=i.formatter,this.textAttrs=(0,l.mix)(LL(),i.style),this._init()}return r.prototype.draw=function(){var i=this;if(!(!this.view||this.view.destroyed)){var t=(0,l.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var e=this.view.geometries[0].elements.map(function(n){return n.shape});(0,l.each)(e,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),u=o[$r],c=u;(0,l.isArray)(u)&&(c=u[1]-u[0]),c=c>0?"+"+c:c,o[ou]&&(c=u[0]-u[1]);var h=c;if(i.formatter){var f=e[a].attr("fill");h=i.formatter(""+c,{_origin:t[a],color:f},a)}var p=i.container.addShape("text",{attrs:Vt({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},i.textAttrs),name:"dill-label"});p.getBBox().height>s.height&&p.set("visible",!1)}}),this.view.getCanvas().draw()}},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype._init=function(){var i=this;this.view.on(di.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){i.clear()}),this.view.on(di.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){i.draw()})},r}(),PL=EL,OL={waterfall:"interval"},IL={interval:"waterfall"},$r="$$value$$",ou="$$total$$",bs="$$index$$",fp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="watarfall",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},i.prototype.getOptions=function(t){var e=r.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},i.prototype.afterInit=function(){r.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new PL({view:this.view,fields:[t.xField,t.yField,$r],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},i.prototype.afterRender=function(){r.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(e){for(var n=e.items,a=0;a<n.length;a++){var o=n[a],s=(0,l.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[ou]){var u=s[$r];o.value=u[0]-u[1]}e.items[a]=o}}),this.renderLabel()},i.prototype.renderLabel=function(){var t=da(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,Vt({type:"waterfall"},this.options.label))},i.prototype.geometryParser=function(t,e){return t==="g2"?OL[e]:IL[e]},i.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},i.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,$r]},shape:{values:["waterfall"]}};e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},i.prototype.processData=function(t){var e,n=[],a=this.options.xField,o=this.options.yField;if((0,l.map)(t,function(c,h){var f,p=c[o];if(h>0){var g=n[h-1][$r];(0,l.isArray)(g)?p=[g[1],c[o]+g[1]]:p=[g,c[o]+g]}n.push(Vt(Vt({},c),(f={},f[$r]=p,f[bs]=h,f)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,l.map)(t,function(c){return c[o]}),u=(0,l.reduce)(s,function(c,h){return c+h},0);n.push((e={},e[a]=this.options.showTotal.label,e[o]=null,e[$r]=[u,0],e[bs]=n.length,e[ou]=!0,e))}return n},i.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,l.has)(t,"xAxis")&&ur(e[t.xField],t.xAxis),e[$r]={},(0,l.has)(t,"yAxis")&&ur(e[$r],t.yAxis),this.setConfig("scales",e)},i.prototype.axis=function(){var t=Sr("axis",{plot:this,dim:"x"}),e=Sr("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[$r]=e,this.setConfig("axes",n)},i.prototype.coord=function(){},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,E)},i.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,$r]))},i.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return(0,l.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:e})}:n.cfg=Vt(Vt({},t),{leaderLine:e}),n},i.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,$r,bs]};if((0,l.isFunction)(e.color))s.callback=e.color;else{var u="#f4664a",c="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,l.isString)(e.color))u=c=h=e.color;else if((0,l.isObject)(e.color)){var f=e.color,p=f.rising,g=f.falling,_=f.total;u=p,c=g,h=_}s.callback=function(H,lt,pt,wt){return wt===t.options.data.length?h||(pt[0]>=0?u:c):((0,l.isArray)(pt)?pt[1]-pt[0]:pt)>=0?u:c}}return s},i.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},i.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[$r]=n}},i}(Gi),BL=fp;ri("waterfall",fp);var kL=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="waterfall",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=BL.getDefaultOptions,i}(Ue),vp=kL,FL=function(){function r(i){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=i,this.view=this.options.view,this.init()}return r.prototype.init=function(){var i=this.options,t=i.xBaseline,e=i.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var u=(t-a.min)/(a.max-a.min);s=[new Qe(n.start.x,n.end.y,n.getWidth()*u,n.getHeight()),new Qe(n.start.x+n.getWidth()*u,n.end.y,n.getWidth()*(1-u),n.getHeight())];var c={start:{x:n.start.x+n.getWidth()*u,y:n.end.y},end:{x:n.start.x+n.getWidth()*u,y:n.start.y}};this.lineData.push(c)}else s=[new Qe(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(e>o.min&&e<o.max){var u=(e-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*u},end:{x:n.end.x,y:n.start.y-n.getHeight()*u}};this.lineData.push(h);var f={name:t<=a.min?"top-right":"top-left",bbox:new Qe(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-u)),index:t<=a.min?2:0};this.regionData.push(f);var p={name:t<=a.min?"bottom-right":"bottom-left",bbox:new Qe(s[0].minX,s[0].minY+s[0].height*(1-u),s[0].width,s[0].height*u),index:t<=a.min?3:1};if(this.regionData.push(p),s.length>1){var g={name:"top-right",bbox:new Qe(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-u)),index:2};this.regionData.push(g);var _={name:"bottom-right",bbox:new Qe(s[1].minX,s[1].minY+s[1].height*(1-u),s[1].width,s[1].height*u),index:3};this.regionData.push(_)}}else if(s.length===2)if(e<=o.min){var H={name:"top-left",bbox:s[0],index:0};this.regionData.push(H);var g={name:"top-right",bbox:s[1],index:2};this.regionData.push(g)}else{var lt={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(lt);var _={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(_)}else if(t<=a.min)if(e<=o.min){var g={name:"top-right",bbox:s[0],index:2};this.regionData.push(g)}else{var _={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(_)}else if(e<=o.min){var H={name:"top-left",bbox:s[0],index:0};this.regionData.push(H)}else{var lt={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(lt)}this.container=this.view.backgroundGroup.addGroup()},r.prototype.render=function(){var i=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),e=this.getRegionStyle(this.regionData);(0,l.each)(this.regionData,function(a){var o=a.index,s=i.container.addGroup(),u=s.addShape("rect",{attrs:Vt({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},e[o]),name:"quadrant"});if(i.options.label&&i.options.label.text){var c=(0,l.deepMix)({},t.label,i.options.label),h=i.getLabelConfig(a,c);s.addShape("text",{attrs:Vt({},h),name:"quadrant-label"})}u.set("data",a),i.quadrantGroups.push(s)});var n=(0,l.deepMix)({},t.line,this.options.lineStyle);(0,l.each)(this.lineData,function(a){i.container.addShape("path",{attrs:Vt({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},r.prototype.getRegionStyle=function(i){var t=this.getDefaultStyle(),e=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,l.isArray)(n)?e=e.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,l.isFunction)(n)&&(0,l.each)(i,function(a,o){e[o]=n(a)})}return e},r.prototype.getLabelConfig=function(i,t){var e=i.index,n=0,a=0,o={},s=t.text;(0,l.isFunction)(s)?s=s(i):(0,l.isArray)(s)&&(s=s[e]);var u=t.position,c=u.split("-"),h=i.name.split("-");return h[1]==="left"?(c[0]==="inner"&&(n=i.bbox.maxX-t.offset,o.textAlign="right"),c[0]==="outter"&&(n=i.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(c[0]==="inner"&&(n=i.bbox.minX+t.offset,o.textAlign="left"),c[0]==="outter"&&(n=i.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(c[1]==="inner"&&(a=i.bbox.maxY-t.offset,o.textBaseline="bottom"),c[1]==="outter"&&(a=i.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(c[1]==="inner"&&(a=i.bbox.minY+t.offset,o.textBaseline="top"),c[1]==="outter"&&(a=i.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,l.deepMix)({},t.style,o),o.lineHeight=o.fontSize,Vt({x:n,y:a,text:s},o)},r}(),DL=FL,Da=S(56645),RL={exp:Da.regressionExp,linear:Da.regressionLinear,loess:Da.regressionLoess,log:Da.regressionLog,poly:Da.regressionPoly,pow:Da.regressionPow,quad:Da.regressionQuad};function NL(r,i){return Math.sqrt(r*(1-r)/i)*1.96}var GL=function(){function r(i){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,l.deepMix)({},t,i),this.view=this.options.view,this.init()}return r.prototype.init=function(){var i=this.options.plotOptions,t=i.xField,e=i.yField,n=i.data,a=RL[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[e]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},r.prototype.render=function(){var i=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),e=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,$t.getScale)("linear"),o=this.adjustScale(i,n,"x"),s=new a({min:o.min,max:o.max}),u=this.adjustScale(t,n,"y"),c=new a({min:u.min,max:u.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,c,e);this.container.addShape("path",{attrs:Vt({path:h},this.options.confidenceStyle),name:"confidence"})}var f=this.getTrendlinePoints(s,c,e),p=[[0,0],[1,1]],g=Fl(f,!1,p);this.shape=this.container.addShape("path",{attrs:Vt({path:g},this.options.style),name:"trendline"})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.destroy()},r.prototype.processData=function(i){var t=[],e=[];return(0,l.each)(i,function(n){t.push({x:n[0],y:n[1]});var a=NL(i.rSquared,n[1]);e.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:e}},r.prototype.getTrendlinePoints=function(i,t,e){var n=[];return(0,l.each)(this.data.trendlineData,function(a){var o=i.scale(a.x),s=t.scale(a.y),u=e.start.x+e.width*o,c=e.start.y-e.height*s;n.push({x:u,y:c})}),n},r.prototype.getConfidencePath=function(i,t,e){var n=[],a=[],o=[];(0,l.each)(this.data.confidenceData,function(f){var p=i.scale(f.x),g=t.scale(f.y0),_=t.scale(f.y1),H=e.start.x+e.width*p,lt=e.start.y-e.height*g,pt=e.start.y-e.height*_;n.push({x:H,y:lt}),a.push({x:H,y:pt})});for(var s=0;s<n.length;s++){var u=s===0?"M":"L",c=n[s];!isNaN(c.x)&&!isNaN(c.y)&&o.push([u,c.x,c.y])}for(var h=a.length-1;h>0;h--){var c=a[h];!isNaN(c.x)&&!isNaN(c.y)&&o.push(["L",c.x,c.y])}return o},r.prototype.adjustScale=function(i,t,e){var n=i.min,a=i.max,o=this.options.plotOptions,s=o.data,u=o.xField,c=o.yField,h=e==="x"?u:c,f=(0,l.minBy)(s,h)[h],p=(0,l.maxBy)(s,h)[h],g=(n-f)/(p-f),_=(a-p)/(p-f),H=(0,l.minBy)(t,e)[e],lt=(0,l.maxBy)(t,e)[e];return{min:H+g*(lt-H),max:lt+_*(lt-H)}},r}(),YL=GL,XL={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},jL=vr(XL);(0,l.assign)(ui,jL);var HL=function(r){var i=r.stroke||"#000";return{stroke:i}},VL=function(r){var i=r.stroke||"#000",t=r.lineWidth||2;return{stroke:i,lineWidth:t}},zL=function(r){var i=r.fillOpacity||r.opacity||.3;return{fillOpacity:i}};Xr("scatter",{pointStyle:{normal:{},active:HL,selected:VL,inactive:zL}});var WL={scatter:"point"},ZL={point:"point"},pp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="scatter",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},i.prototype.afterRender=function(){r.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new DL(Vt({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new YL(Vt({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},i.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),r.prototype.destroy.call(this)},i.prototype.isValidLinearValue=function(t){return(0,l.isNil)(t)?!1:!Number.isNaN(Number(t))},i.prototype.processData=function(t){var e=this,n=this.options,a=n.xField,o=n.yField,s=(0,l.get)(this.options,["xAxis","type"],"linear"),u=(0,l.get)(this.options,["yAxis","type"],"linear");if(s&&u){var c=t.filter(function(h){return!(s==="linear"&&!e.isValidLinearValue(h[a])||u==="linear"&&!e.isValidLinearValue(h[o]))}).map(function(h){var f;return Vt(Vt({},h),(f={},f[a]=s==="linear"?Number(h[a]):String(h[a]),f[o]=u==="linear"?Number(h[o]):String(h[o]),f))});return c}return t},i.prototype.geometryParser=function(t,e){return t==="g2"?WL[e]:ZL[e]},i.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,l.has)(t,"xAxis")&&ur(e[t.xField],t.xAxis),e[t.yField]={},(0,l.has)(t,"yAxis")&&ur(e[t.yField],t.yAxis);var n=(0,l.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,l.get)(n,"cfg.key")){var a=n.cfg.key;e[a]?e[a].key=!0:e[a]={key:!0}}this.setConfig("scales",e),r.prototype.scale.call(this)},i.prototype.coord=function(){},i.prototype.annotation=function(){},i.prototype.addGeometry=function(){var t=Hi("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,a=e.titleField;this.extractTooltip(),this.setConfig("tooltip",Vt({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},i.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var e=Sr("label",Vt(Vt({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)},i.prototype.animation=function(){r.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},i.prototype.parseEvents=function(t){r.prototype.parseEvents.call(this,t||P)},i.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},i}(Gi),dp=pp;ri("scatter",pp);var UL=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="scatter",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=dp.getDefaultOptions,i}(Ue),gp=UL,$L=S(75564);vi("point","bubble-point",{draw:function(r,i){var t=(0,$L.iV)(this,r,i,"circle",!1);if(!r.style.stroke){var e=t.attr("fill");t.attr("stroke",e)}return t},getMarker:function(r){var i=r.color;return{symbol:"circle",style:{r:4.5,fill:i}}}});var KL=function(r){var i=r.stroke||"#000",t=r.fillOpacity||r.opacity||.95;return{stroke:i,fillOpacity:t}},QL=function(r){var i=r.stroke||"#000",t=r.lineWidth||2;return{stroke:i,lineWidth:t}},qL=function(r){var i=r.fillOpacity||r.opacity||.3;return{fillOpacity:i}};Xr("bubble",{pointStyle:{normal:{},active:KL,selected:QL,inactive:qL}});var yp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="bubble",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},i.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},i.prototype.legend=function(){var t;r.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,P)},i}(dp),JL=yp;ri("bubble",yp);var t2=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="bubble",r.prototype.createLayers.call(this,e)},i.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},i.getDefaultOptions=JL.getDefaultOptions,i}(Ue),mp=t2,e2={bullet:"interval",bulletTarget:"bullet-target"},i2=vr(e2);(0,l.assign)(ui,i2);var r2=function(){function r(i,t){this.view=i,this.cfg=t,this._init()}return r.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var i=this.getGeometry(),t=(0,l.map)(i==null?void 0:i.elements,function(o){return o.shape}),e=0;e<this.cfg.ranges.length;e+=1){var n=t[e].getBBox(),a=n.width/t[e].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[e]||[0,1],a)}this.view.canvas.draw()}},r.prototype.drawRect=function(i,t,e){for(var n=this.cfg,a=n.rangeColors,o=i.minX,s=i.minY-i.height*(n.rangeSize-1)/2,u=1;u<t.length;u+=1){var c=(t[u]-t[u-1])*n.rangeMax*e;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:c,height:i.height*n.rangeSize,x:o,y:s,fill:a[(u-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=c}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),f=new Qe(i.x,s,o,i.height*n.rangeSize);this.drawBulletTicks(f,h,e)}},r.prototype.drawBulletTicks=function(i,t,e){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,u=(0,l.get)(a,"lineHeight",0)-a.fontSize/2,c=0;c<o;c+=1){var h=i.minX+t*c*e,f=""+t*c;if(n.axis.formatter&&(f=n.axis.formatter(f,c)),this.container.addShape("text",{name:"tick",attrs:Vt({x:h,y:s==="before"?i.minY-u:i.maxY+u,text:""+f},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var p=n.axis.tickLine;c>0&&c!==o-1&&this.container.addShape("path",{attrs:Vt({path:[["M",h,i.minY],["L",h,i.maxY]]},p)}).set("zIndex",-1)}}},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype._init=function(){var i=this;this.view.on("beforerender",function(){i.clear()}),this.view.on("afterrender",function(){i.draw()})},r.prototype.getGeometry=function(){return(0,l.find)(this.view.geometries,function(i){return i.type==="interval"})},r}(),n2=r2,a2=function(){function r(i,t){this.view=i,this.cfg=t,this._init()}return r.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var i=(0,l.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var e=i[t].getBBox(),n=e.width/i[t].get("origin").data[this.cfg.yField];this.drawTarget(e,this.cfg.targets[t],n)}this.view.canvas.draw()}},r.prototype.drawTarget=function(i,t,e){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,u){var c=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:Vt(Vt({width:c.width,height:i.height*a.markerSize-c.width/2,x:i.minX+s*e,y:i.minY-i.height*(a.markerSize-1)/2},c),{fill:o[u%o.length]||c.fill})})})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype._init=function(){var i=this;this.view.on("beforerender",function(){i.clear()}),this.view.on("afterrender",function(){i.draw()})},r.prototype.getGeometry=function(){return(0,l.find)(this.view.geometries,function(i){return i.type==="interval"})},r}(),o2=a2,s2=function(r){var i=r.opacity||1;return{opacity:i*.5,lineWidth:0}},l2=function(r){var i=r.opacity||1;return{opacity:i*.5}};Xr("bullet",{columnStyle:{normal:{},active:s2,disable:l2,selected:{}}});var u2={bullet:"interval"},c2={interval:"bullet"},h2="$$stackField$$",f2="$$xField$$",v2="$$yField$$",xp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="bullet",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{data:[],stackField:h2,xField:f2,yField:v2,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},i.prototype.afterRender=function(){r.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},i.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},(0,l.has)(t,"yAxis")&&ur(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},(0,l.has)(t,"xAxis")&&ur(e[t.xField],t.xAxis),this.setConfig("scales",e),r.prototype.scale.call(this)},i.prototype.getOptions=function(t){var e=r.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},i.prototype.afterInit=function(){r.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new n2(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new o2(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},i.prototype.geometryParser=function(t,e){return t==="g2"?u2[e]:c2[e]},i.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},i.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],o=Vt({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},i.prototype.addGeometry=function(){var t=this.options,e=Hi("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,Y)},i.prototype.extractLabel=function(){var t=this.options,e=(0,l.deepMix)({},t.label);if(e.visible===!1)return!1;var n=Sr("label",Vt({plot:this,labelType:"barLabel",fields:[t.yField]},e));return n},i.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},i.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(n){return e.push(n.measures.reduce(function(a,o){return a+o},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},i.prototype.processData=function(t){var e=this.options,n=[];return t.forEach(function(a,o){for(var s,u=0;u<a.measures.length;u+=1){var c=a.measures[u],h=a.title||""+o;n.push((s={},s[e.xField]=h,s[e.yField]=c,s[e.stackField]=""+u,s))}}),n},i}(Gi),p2=xp;ri("bullet",xp);var d2=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="bullet",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=p2.getDefaultOptions,i}(Ue),bp=d2,Qa="$$day$$",qa="$$week$$",wp="$$date$$",xB="$$is_month_center$$",Ja="YYYY-MM-DD",g2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y2=["S","M","T","W","T","F","S"],xo=864e5;function m2(r){var i=zo(r).sort(function(t,e){return t.getTime()-e.getTime()});return[ga.default.format((0,l.head)(i),Ja),ga.default.format((0,l.last)(i),Ja)]}function bB(r){var i=r||new Date;return[fecha.format(new Date(i.getFullYear(),0,1),FORMATTER),fecha.format(new Date(i.getFullYear(),11,30),FORMATTER)]}function x2(r){return r.getMonth()!==ws(new Date(r),7*xo).getMonth()}function b2(r){return r.getMonth()!==ws(new Date(r),xo).getMonth()}function Cp(r){var i=new Date(r.getFullYear(),0,1);return Math.ceil(((r.getTime()-i.getTime())/xo+i.getDay()+1)/7)}function w2(r){return r.getDay()}function ws(r,i){return r.setMilliseconds(r.getMilliseconds()+i),r}function Sp(r){var i,t=r[0],e=r[1],n=ga.default.parse(t,Ja),a=ga.default.parse(e,Ja);return n>a&&(i=[n,a],a=i[0],n=i[1]),[n,a]}function C2(r,i,t){for(var e=[],n=Sp(i),a=n[0],o=n[1],s=new Date(a),u=function(){var c,h=ga.default.format(s,Ja),f=(0,l.find)(r,function(p){return p[t]===h});e.push(Vt((c={},c[Qa]=w2(s),c[qa]=""+Cp(s),c[t]=h,c[wp]=new Date(s),c),f)),ws(s,xo)};s<=o;)u();return e}function S2(r){var i=Sp(r),t=i[0],e=i[1],n=new Map;function a(u){var c=u.getMonth(),h=Cp(u);n.has(c)||n.set(c,[]),n.get(c).push(h)}for(var o=new Date(t);o<=e;)a(o),ws(o,xo*7);e<o&&a(e);var s={};return n.forEach(function(u,c){var h=Math.ceil(((0,l.head)(u)+(0,l.last)(u))/2);s[h]=c}),s}var M2={rect:"polygon"},A2=vr(M2);(0,l.assign)(ui,A2);var Mp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="calendar",t}return i.getDefaultOptions=function(){var t;return(0,l.deepMix)({},r.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[Qa]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[qa]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},i.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;if((0,l.isNil)(n)){var a=(0,l.map)(t,function(o){return ga.default.parse(""+o[e],Ja)});n=m2(a)}return C2(t,n,e)},i.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[qa,Qa]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},i.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[qa,Qa]))},i.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=this.options.valueField;return Sr("label",Vt({plot:this,fields:[n],position:"top",offset:0},e))},i.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},i.prototype.geometryParser=function(){return""},i.prototype.axis=function(){var t=Sr("axis",{plot:this,dim:"x"}),e=Sr("axis",{plot:this,dim:"y"}),n={};n[qa]=t,n[Qa]=e,this.setConfig("axes",n)},i.prototype.scale=function(){r.prototype.scale.call(this);var t=S2(this.options.dateRange),e=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?y2:a,s=n.months,u=s===void 0?g2:s,c=e[qa],h=e[Qa];c.formatter=function(_){var H=t[_];return H!==void 0?u[H]:""},h.formatter=function(_){return o[_]||""};var f=this.options,p=f.xAxis,g=f.yAxis;c.alias=(0,l.get)(p,["title","text"],c.alias),h.alias=(0,l.get)(g,["title","text"],h.alias),this.setConfig("scales",e)},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,at)},i}(Gi),_2=Mp;ri("calendar",Mp),vi("polygon","calendar-polygon",{draw:function(r,i){if(!(0,l.isEmpty)(r.points)){var t=r.points,e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];e=this.parsePath(e);var n=Vt(Vt({stroke:"#fff",lineWidth:1,fill:r.color},r.style),{path:e}),a=i.addShape("path",{attrs:n}),o=r.data[wp];if(x2(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];i.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),b2(o)&&i.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return i.sort(),a}}});var T2=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="calendar",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=_2.getDefaultOptions,i}(Ue),L2=T2,Ap=function(){function r(i){this.uid=i}return r.prototype.setOption=function(i,t){this.type=i,this.options=t,this.axis=t.axis,this.pivot=t.pivot},r.prototype.render=function(){var i=this;vi("point","gauge",{draw:function(t,e){var n,a,o;this.gauge={},this.gauge.options=i.options,this.gauge.axis=i.axis,this.gauge.pivot=i.pivot,this.gauge.type=i.type;var s=this.gauge,u=this.gauge.type,c=t.points[0],h=this.parsePoint({x:0,y:0}),f=this.parsePoint({x:c.x||0,y:1});s.center=h,s.group=e;var p={x:h.x-f.x,y:h.y-f.y};this.gauge.ringRadius=Math.sqrt(p.x*p.x+p.y*p.y);var g=this.getAngleRange(),_=g.starAngle,H=g.endAngle,lt=c.x*(H-_)+_;switch(u){case"meterGauge":this.drawBarGauge(lt),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(lt),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(lt),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,u=o||Pr().colors,c=this.getAngleRange(),h=c.starAngle,f=c.endAngle,p={min:e,max:n,starAngle:h,endAngle:f},g=0;g<a.length;g++){var _=this.valueToAngle(a[g],p),H=this.valueToAngle(a[g+1],p);if(H>=_){var lt=this.getPath(_,H),pt=(0,l.deepMix)({fill:u[g]},s);this.drawRing(lt,pt)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,n);this.drawRing(o,a)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(e,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,u=o.endAngle,c={min:e,max:n,starAngle:s,endAngle:u},h=(n-e)/a.tickCount,f=0;f<a.tickCount;f++){var p=e+f*h,g=this.valueToAngle(p+h/2,c);this.drawRect(g,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,u=o.endAngle,c={min:n,max:a,starAngle:s,endAngle:u},h=(a-n)/(t.tickCount-1),f=0;f<t.tickCount;f++){var p=n+f*h,g=this.valueToAngle(p,c),_=(0,l.clone)(t.tickLine.style);f%5!=0&&(_.lineWidth=_.lineWidth/2),this.drawRect(g,{length:f%5==0?t.tickLine.length:t.tickLine.length/2,style:_})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,u=o.endAngle,c={min:n,max:a,starAngle:s,endAngle:u},h=(a-n)/(t.tickCount-1),f=0;f<t.tickCount;f++){var p=n+f*h,g=this.valueToAngle(p,c);this.drawRect(g,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,u=n.color,c=n.rangeStyle,h=n.rangeBackgroundStyle,f=u||Pr().colors,p=this.getAngleRange(),g=p.starAngle,_=p.endAngle,H={min:a,max:o,starAngle:g,endAngle:_},lt=(_-g)/(50-1),pt=lt/3,wt=0;wt<50;wt++){var Ft=g+wt*lt,Dt=this.getPath(Ft-pt/2,Ft+pt-pt/2),te=h;if(s&&s.length){var ye=s.map(function(we){return e.valueToAngle(we,H)}),Oe=x1(ye,Ft),Re=Math.min(Oe,s.length-1);te=(0,l.deepMix)({},{fill:f[Re-1]},c)||h}else te=t>=Ft?(0,l.deepMix)({},{fill:u},c):h;this.drawRing(Dt,te)}},getAngleRange:function(){var t=this.gauge.options.angle,e=90-(360-t)*.5,n=(270-90-e)*Math.PI/180,a=(270+90+e)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,e){var n=e.min,a=e.max,o=e.starAngle,s=e.endAngle;if(t===a)return s;if(t===n)return o;var u=(t-n)/(a-n);a===n&&(u=1);var c=u*(s-o)+o;return c=Math.max(c,o),c=Math.min(c,s),c},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:(0,l.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,a=Vt(Vt({},n),e),o=a.offset,s=a.length,u=this.gauge.center,c;o<0?c=this.gauge.ringRadius-this.gauge.options.rangeSize+o:c=this.gauge.ringRadius+o;var h=c*Math.cos(t)+u.x,f=c*Math.sin(t)+u.y,p=(c+s)*Math.cos(t)+u.x,g=(c+s)*Math.sin(t)+u.y,_=this.gauge.group.addShape("line",{attrs:(0,l.deepMix)({},{x1:h,y1:f,x2:p,y2:g},e.style)});_.set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,u=a*Math.sin(t)+n.y,c=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,f=a*Math.cos(e)+n.x,p=a*Math.sin(e)+n.y,g=(a-o)*Math.cos(e)+n.x,_=(a-o)*Math.sin(e)+n.y,H=Math.abs(t-e)>Math.PI?1:0;return[["M",s,u],["A",a,a,0,H,1,f,p],["L",g,_],["A",a-o,a-o,0,H,0,c,h],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,a=e.endAngle,o=this.gauge.options,s=o.radius,u=o.rangeSize,c=this.gauge.pivot,h=c.thickness,f=c.thickness/2.5,p=this.gauge.group,g=t.points[0],_=this.parsePoint({x:0,y:0}),H=g.x*(a-n)+n,lt=(this.gauge.ringRadius-u)*s*Math.cos(H)+this.gauge.center.x,pt=(this.gauge.ringRadius-u)*s*Math.sin(H)+this.gauge.center.y,wt={x:lt,y:pt};if(c.base.visible&&p.addShape("circle",{attrs:(0,l.deepMix)({},{x:_.x,y:_.y,r:c.base.size?c.base.size/2:h*2.2},c.base.style)}),c.pointer.visible){var Ft={x:_.x-wt.x,y:_.y-wt.y},Dt=Math.sqrt(Ft.x*Ft.x+Ft.y*Ft.y);Ft.x*=1/Dt,Ft.y*=1/Dt;var te=-Math.PI/2,ye=Math.cos(te)*Ft.x-Math.sin(te)*Ft.y,Oe=Math.sin(te)*Ft.x+Math.cos(te)*Ft.y,Re=Math.PI/2,we=Math.cos(Re)*Ft.x-Math.sin(Re)*Ft.y,Xe=Math.sin(Re)*Ft.x+Math.cos(Re)*Ft.y,$e=[["M",wt.x+ye*f,wt.y+Oe*f],["L",_.x+ye*h,_.y+Oe*h],["L",_.x+we*h,_.y+Xe*h],["L",wt.x+we*f,wt.y+Xe*f],["Z"]];p.addShape("path",{attrs:(0,l.deepMix)({},{path:$e},c.pointer.style)}),p.addShape("circle",{attrs:{x:wt.x,y:wt.y,r:f,fill:c.pointer.style.fill}}),p.addShape("circle",{attrs:{x:_.x,y:_.y,r:h,fill:c.pointer.style.fill}})}c.pin.visible&&p.addShape("circle",{attrs:(0,l.deepMix)({},{x:_.x,y:_.y,r:f/1.2},c.pin.style)})}})},r}(),E2={range:"point",statistic:"annotation-text"},P2=vr(E2);(0,l.assign)(ui,P2);var _p=function(r){qt(i,r);function i(t){var e=r.call(this,t)||this;return e.type="gauge",e}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},i.prototype.init=function(){var t=this.options,e=t.value,n=t.range,a=(n||[]).map(function(_){return+_}).sort(function(_,H){return _-H}),o=this.options,s=o.min,u=s===void 0?a[0]:s,c=o.max,h=c===void 0?a[a.length-1]:c,f=o.format,p=f===void 0?function(_){return""+_}:f,g=p(e);this.options.data=[{value:e||0}],this.options.valueText=g,this.options.min=u,this.options.max=h,this.options.format=p,this.initG2Shape(),r.prototype.init.call(this)},i.prototype.initG2Shape=function(){this.gaugeShape=new Ap((0,l.uniqueId)()),this.gaugeShape.setOption(this.type,(0,l.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},i.prototype.geometryParser=function(){return"gauge"},i.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a=t.format,o={value:{}};ur(o.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),r.prototype.scale.call(this)},i.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},i.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e["1"]=!1,e.value=t.visible?e.value:!1,this.setConfig("axes",e)},i.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,e={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",e)},i.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},i.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic,n={type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,et)},i}(Gi),su=_p;ri("gauge",_p);var O2=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="gauge",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=su.getDefaultOptions,i}(Ue),Tp=O2,Lp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="fanGauge",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},i.prototype.initG2Shape=function(){this.gaugeShape=new Ap((0,l.uniqueId)()),this.gaugeShape.setOption(this.type,(0,l.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},i.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},i.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var a=this.renderSideText(),o=e.concat(a);this.setConfig("annotations",o)},i.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,u=12;return[n,e].map(function(c,h){return{type:"text",top:!0,position:["50%","50%"],content:a(c),style:(0,l.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:u}})},i}(su),I2=Lp;ri("fanGauge",Lp);var B2=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="fanGauge",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=I2.getDefaultOptions,i}(Ue),Ep=B2,Pp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="meterGauge",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},i}(su),k2=Pp;ri("meterGauge",Pp);var F2=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="meterGauge",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=k2.getDefaultOptions,i}(Ue),Op=F2,D2=S(25155),Qn=S.n(D2),wB=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="donut",r.prototype.createLayers.call(this,e),Qn()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},i.getDefaultOptions=up.getDefaultOptions,i}(Ue),CB=null,SB=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="groupedColumn",r.prototype.createLayers.call(this,e),Qn()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},i.getDefaultOptions=Kl.getDefaultOptions,i}(Ue),MB=null,AB=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="groupedBar",r.prototype.createLayers.call(this,e),Qn()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},i.getDefaultOptions=Hf.getDefaultOptions,i}(Ue),_B=null,TB=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="percentStackedArea",r.prototype.createLayers.call(this,e),Qn()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},i.getDefaultOptions=uv.getDefaultOptions,i}(Ue),LB=null,EB=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="percentStackedBar",r.prototype.createLayers.call(this,e),Qn()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},i.getDefaultOptions=Wf.getDefaultOptions,i}(Ue),PB=null,OB=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="percentStackedColumn",r.prototype.createLayers.call(this,e),Qn()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},i.getDefaultOptions=_v.getDefaultOptions,i}(Ue),IB=null,BB=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="stackedArea",r.prototype.createLayers.call(this,e),Qn()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},i.getDefaultOptions=Zl.getDefaultOptions,i}(Ue),kB=null,FB=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="stackedBar",r.prototype.createLayers.call(this,e),Qn()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},i.getDefaultOptions=Hl.getDefaultOptions,i}(Ue),DB=null,RB=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="stackedColumn",r.prototype.createLayers.call(this,e),Qn()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},i.getDefaultOptions=vs.getDefaultOptions,i}(Ue),NB=null,R2=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},i.prototype.coord=function(){},i.prototype.addGeometry=function(){},i.prototype.annotation=function(){var t=this,e=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,l.each)(e.guideLine,function(o){var s=Sr("guideLine",{plot:t,cfg:(0,l.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},i}(Gi),Cs=R2,N2=function(){function r(i){(0,l.assign)(this,i),this.init()}return r.prototype.destroy=function(){this.shape&&this.shape.destroy()},r.prototype.update=function(i,t,e){var n={};if((0,l.assign)(this,i),this.coord=this.view.geometries[0].coordinate,i.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(i.style){var s=this.shape,u=s.attrs,c=(0,l.deepMix)({},u,i.style);n=(0,l.deepMix)({},c,n)}this.shape.stopAnimate(),this.shape.animate(n,t,e)},r.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var i=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,e=this.coord.center.y+this.progressSize/2+2,n=(0,l.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:Vt({path:[["M",0,t],["L",0,e]]},n),name:"progress-marker"}),this.shape.move(i,0),this.canvas.draw()},r}(),Ip=N2,G2={progress:"interval"},Y2=vr(G2);(0,l.assign)(ui,Y2);var X2={progress:"interval"},j2={interval:"progress"},Bp=["#55A6F3","#E8EDF3"],kp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return i.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||Bp};t=(0,l.mix)(t,e)},i.prototype.init=function(){this.processProps(),r.prototype.init.call(this)},i.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,l.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},i.prototype.update=function(t){var e=this.options;if((0,l.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,l.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},i.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,l.each)(this.markers,function(t){t.destroy()}),this.markers=[]),r.prototype.destroy.call(this)},i.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,l.each)(this.options.marker,function(s){var u=(0,l.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),c=new Ip(u);t.markers.push(c)}));var e=this.view.geometries[0].container,n=e.getBBox(),a=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},i.prototype.geometryParser=function(t,e){return t==="g2"?X2[e]:j2[e]},i.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},i.prototype.addGeometry=function(){var t=this.options,e=Hi("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],(0,l.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},i.prototype.parseEvents=function(t){t?r.prototype.parseEvents.call(this,t):r.prototype.parseEvents.call(this,ot)},i.prototype.parseColorProps=function(t){var e;if(t.color)if((0,l.isFunction)(t.color)?e=t.color(t.percent):e=t.color,(0,l.isString)(e)){var n=(0,l.clone)(Bp);return n[0]=e,n}else return e;return t.color},i.prototype.processData=function(){var t=this.options,e=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return e},i.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if((0,l.each)(this.markers,function(c,h){h>e-1?c.destroy():c.update(t[h],n.duration,n.easing)}),this.markers.length<e)for(var a=this.markers.length,o=a;o<e;o++){var s=(0,l.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),u=new Ip(s);this.markers.push(u)}},i.prototype.getSize=function(){var t=this.height;return t>=50?10:4},i.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,a=e.easing,o=[],s=this.view,u=s.geometries;(0,l.each)(u,function(c){if(c.type==="interval"){var h=c.elements;(0,l.each)(h,function(f){o.push.apply(o,f.shape)})}}),(0,l.isArray)(t)?(0,l.each)(t,function(c,h){o[h].animate(c,n,a)}):o[0].animate(t,n,a)},i.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},i.prototype.updateColorConfigByStyle=function(t){var e=this;(0,l.isArray)(t)?(0,l.each)(t,function(n,a){n.fill&&(e.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},i}(Cs),Fp=kp;ri("progress",kp);var H2=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="progress",r.prototype.createLayers.call(this,e)},i.prototype.update=function(t,e){var n=this.layers[0];n.update(t,e)},i.getDefaultOptions=Fp.getDefaultOptions,i}(Ue),Dp=H2,V2={ringProgress:"interval"},z2=vr(V2);(0,l.assign)(ui,z2);var W2=["#55A6F3","#E8EDF3"],Rp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="ringProgrsss",t}return i.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||W2};t=(0,l.mix)(t,e)},i.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},i.prototype.annotation=function(){},i.prototype.addGeometry=function(){var t=this.options;this.ring=Hi("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},i.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,ft)},i.prototype.getThickness=function(t){var e=this.width,n=this.height,a=Math.min(e,n);return t?1-t/a:a>=60?1-20/a:1-10/a},i}(Fp),Z2=Rp;ri("ringProgress",Rp);var U2=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="ringProgress",r.prototype.createLayers.call(this,e)},i.prototype.update=function(t){var e=this.layers[0];e.update(t)},i.getDefaultOptions=Z2.getDefaultOptions,i}(Ue),Np=U2,$2={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,l.assign)(ui,$2);var K2=.6,Q2={column:"interval"},q2={interval:"column"},Gp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="tinyColumn",t}return i.prototype.init=function(){this.processProps(),r.prototype.init.call(this)},i.prototype.geometryParser=function(t,e){return t==="g2"?Q2[e]:q2[e]},i.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},this.setConfig("scales",e)},i.prototype.addGeometry=function(){var t=this.options,e=Hi("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,ct)},i.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,l.mix)(this.options,t)},i.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField),n=this.width;return n/e*K2},i.prototype.getColumnNum=function(t,e){var n=[];return(0,l.each)(t,function(a){var o=a[e];n.indexOf(o)<0&&n.push(o)}),n.length},i}(Cs),J2=Gp;ri("tinyColumn",Gp);var tE=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="tinyColumn",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=J2.getDefaultOptions,i}(Ue),Yp=tE,eE={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,l.assign)(ui,eE);var iE={area:"area",line:"line"},Xp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="tinyArea",t}return i.prototype.geometryParser=function(t,e){return iE[e]},i.prototype.addGeometry=function(){this.area=Hi("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=Hi("line","mini",{plot:this}),this.setConfig("geometry",this.line)},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,bt)},i}(Cs),rE=Xp;ri("tinyArea",Xp);var nE=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="tinyArea",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=rE.getDefaultOptions,i}(Ue),jp=nE,aE={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,l.assign)(ui,aE);var oE={line:"line"},Hp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="tinyLine",t}return i.prototype.geometryParser=function(t,e){return oE[e]},i.prototype.addGeometry=function(){this.line=Hi("line","mini",{plot:this}),this.setConfig("geometry",this.line)},i.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,tt)},i}(Cs),sE=Hp;ri("tinyLine",Hp);var lE=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="tinyLine",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=sE.getDefaultOptions,i}(Ue),Vp=lE,lu=5,uE=function(r){qt(i,r);function i(t){var e=r.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=(0,l.deepMix)({},t),e.themeController=new Bl,e}return i.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},i.prototype.getOptions=function(t){var e=this.options||{},n=r.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,l.deepMix)({},n,a,e,t)},i.prototype.checkData=function(){for(var t=this,e,n,a=this.options,o=a.data,s=a.xField,u=a.yField,c=0;c<this.requiredField.length;c++){var h=this.requiredField[c];if(!(0,l.hasKey)(this.options,h))return!1}return!(!(0,l.isArray)(u)||u.length<2||!(0,l.isArray)(o)||o.length===0||((e=o[0])===null||e===void 0?void 0:e.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,l.each)(o,function(f,p){if(!(0,l.isArray)(f)||f.length===0){var g=t.getMockData(p);o[p]=g}}),!o[0][0][s]||!o[1][0][s]))},i.prototype.init=function(){r.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},i.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},i.prototype.changeData=function(t){t&&t.length<2||!(0,l.isArray)(t[0])||(0,l.each)(this.geomLayers,function(e,n){e.changeData(t[n])})},i.prototype.changeDataByIndex=function(t,e){if(!(0,l.isArray)(t[0])){var n=this.geomLayers[e];n.changeData(t)}},i.prototype.doDestroy=function(){(0,l.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,l.each)(this.legends,function(t){t.destroy()}),this.legends=[]},i.prototype.createLayer=function(t,e,n){var a=this.getViewRange(),o=new t(Vt({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:e},n));return this.geomLayers.push(o),o},i.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),e=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(e.max,0):t.max},i.prototype.yAxis=function(t){var e=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,l.clone)(a),u={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,l.each)(s,function(h,f){if(!(0,l.isString)(h)&&(0,l.hasKey)(u,f)){var p=u[f];h.style||(h.style={}),h.style[p]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var c=this.getYAxisGlobalConfig();return t===0&&e.max===0&&e.min===0&&(s.max=this.getLeftYAxisMax()),(0,l.deepMix)({},c,s)},i.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=(0,$t.getScale)("linear"),a=new n((0,l.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:e.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,u=s/(o-1),c=[],h=0;h<o;h++){var f=h*u;Number.isInteger(f)||(f=parseFloat(f.toFixed(1))),c.push(f)}return c},i.prototype.getScaleData=function(t){var e=this.options,n=e.data,a=e.yField,o=e.yAxis,s=[];(0,l.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,f){return h-f});var u=s[0],c=o.max?o.max:s[s.length-1];return{min:u,max:c,values:s}},i.prototype.getDataByXField=function(t,e){var n=this.options,a=n.data,o=n.xField,s=a[e];return s.filter(function(u){return u[o]===t})},i.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,e=t.min,n=t.max,a=t.tickCount;return{min:e,max:n,tickCount:a}},i.prototype.adjustLayout=function(){var t=this,e,n,a=Pr().bleeding;(0,l.isArray)(a)&&(0,l.each)(a,function(g,_){typeof a[_]=="function"&&(a[_]=a[_](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),u=this.transfromPadding(this.geomLayers[1].options.padding),c=0,h,f;((e=this.options.legend)===null||e===void 0?void 0:e.visible)&&(h=this.legends[0].getLayoutBBox(),f=this.legends[1].getLayoutBBox(),c=h.height+lu*2);var p=s.map(function(g,_){return _===0?Math.max.apply(null,[g+c,u[_]]):Math.max.apply(null,[g,u[_]])});this.geomLayers[0].updateConfig({padding:p}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:p}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+lu}),this.legends[1].setLocation({x:o.maxX-a[1]-f.width,y:o.minY+lu}))},i.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},i.prototype.legendFilter=function(t){var e=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),e.showLayer(t)):(n.setItemState(o,"unchecked",!0),e.hideLayer(t))})},i.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},i.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},i.prototype.setGeometryVisibility=function(t,e){(0,l.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",e),o&&o.set("visible",e)})},i.prototype.getYAxisContainer=function(t,e){var n,a=t.controllers.filter(function(u){return(0,l.hasKey)(u,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,l.each)(s,function(u){var c=u.get("component").get("field");c===e&&(n=u)})}return n},i.prototype.getUnCheckedValue=function(){var t=[];return(0,l.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,l.each)(n,function(a){t.push(a.name)})}),t},i.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Ha(t.title)){var n=this.width,a=this.theme,o=new $o({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,l.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Ha(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},i.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Ha(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var u=new $o({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,l.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=u}},i.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new Qe(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,l.each)(o,function(s){if(s){var u=s.position,c=s.getBBox(),h=c.minX,f=c.maxX,p=c.minY,g=c.maxY;g>=n&&g<=a&&u==="top"&&(n=g),p>=n&&p<=a&&u==="bottom"&&(a=p),f>t&&f<=e&&u==="left"&&(t=f),h>=t&&f<=e&&u==="right"&&(e=h)}}),new Qe(t,n,e-t,a-n)},i.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o={};return o[n]="null",o[a[t]]=0,[o]},i}(Uo),zp=uE,Wp={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},Zp={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},Up=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dualLine",t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:Zp,rightConfig:Zp},lineConfigs:[(0,l.deepMix)({},Wp,{color:"#5B8FF9"}),(0,l.deepMix)({},Wp,{color:"#e76c5e"})]})},i.prototype.init=function(){var t=this;if(r.prototype.init.call(this),!!this.checkData()){var e=this.options,n=e.data,a=e.meta,o=e.xField,s=e.yField,u=e.xAxis,c=e.tooltip,h=e.lineConfigs,f=e.legend,p=e.events,g=e.customMeta;this.colors=[h[0].color,h[1].color];var _=this.getYAxisGlobalConfig(),H=this.createLayer(go,n[0],Vt({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,l.deepMix)({},_,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:p},h[0]));H.render();var lt={};lt[s[1]]={ticks:this.getTicks()};var pt=this.createLayer(go,n[1],Vt({xField:o,yField:s[1],meta:g?a:(0,l.deepMix)({},a,lt),serieField:s[1],xAxis:u,yAxis:(0,l.deepMix)({},_,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,l.deepMix)({},{showMarkers:!1,custom:{onChange:function(wt,Ft){t.tooltip(wt,Ft)}}},c),events:p},h[1]));pt.render(),f.visible&&this.customLegend(),this.adjustLayout()}},i.prototype.tooltip=function(t,e){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,u=(0,l.clone)(e.items[0]),c=this.getDataByXField(e.title,0)[0];c&&(0,l.findIndex)(e.items,function(h){return h.name===o[0]})<0&&e.items.push(Vt(Vt({},u),{mappingData:(0,l.deepMix)({},u.mappingData,{_origin:c}),data:c,name:o[0],value:c[o[0]],color:this.colors[0]})),s.visible&&(0,l.each)(this.legends,function(h,f){var p=h.get("items")[0];if(p.unchecked){var g=f===0?1:0;e.items.splice(g,1)}})},i.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),u=a;(0,l.each)(this.geomLayers,function(c,h){var f=(0,l.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},u.marker),p=[{name:n[h],unchecked:!1,marker:f}],g=new Zt.Legend.Category({id:t.type,container:s,x:0,y:0,items:p,updateAutoRender:!0,itemBackground:null,itemName:u.text});g.init(),g.render(),t.legends.push(g)}),(0,l.each)(this.geomLayers,function(c,h){t.legendFilter(h)})},i}(zp),cE=Up;ri("dualLine",Up);var hE=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="dualLine",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=cE.getDefaultOptions,i}(Ue),$p=hE,fE={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},vE={color:"#5B8FF9"},Kp={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},Qp=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{yAxis:{leftConfig:Kp,rightConfig:Kp},lineConfig:fE,columnConfig:vE,legend:{visible:!0}})},i.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var s=Pr(),u=s.colors,c=s.colors_20,h=this.getValueBySeriesField(),f=h.length>u.length?c:u,p=[];(0,l.each)(h,function(g,_){p.push(f[_+1])}),a.lineConfig.color=p}},i.prototype.init=function(){if(r.prototype.init.call(this),!!this.checkData()){var t=this.options,e=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,u=t.legend,c=t.lineConfig,h=t.columnConfig,f=t.events,p=t.customMeta;this.colors=[h.color,c.color],this.drawColumn();var g={};g[o[1]]={ticks:this.getTicks()};var _=this.createLayer(go,e[1],Vt({xField:a,yField:o[1],seriesField:s,meta:p?n:(0,l.deepMix)({},n,g),xAxis:{visible:!1},yAxis:(0,l.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:f},c));_.render(),u.visible&&this.customLegend(),this.adjustLayout()}},i.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.xAxis,u=e.tooltip,c=e.columnConfig,h=e.meta,f=e.events,p=this.createLayer($a,n[0],Vt({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,l.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,l.deepMix)({},{showMarkers:!1,custom:{onChange:function(g,_){t.tooltip(g,_)}}},u),events:f},c));p.render()},i.prototype.tooltip=function(t,e){var n=this,a=this.options,o=a.xField,s=a.yField,u=a.tooltip,c=(0,l.clone)(e.items[0]),h=this.getDataByXField(e.title,1),f=(0,l.get)(u,"formatter");if(h&&(0,l.each)(h,function(lt,pt){var wt=n.geomLayers[1].options.seriesField,Ft=wt?lt[wt]:s[1],Dt=f?f(lt[o],lt[s[1]],lt[wt]):{name:Ft,value:lt[s[1]]};e.items.push(Vt(Vt(Vt(Vt({},c),{mappingData:(0,l.deepMix)({},c.mappingData,{_origin:h}),data:lt}),Dt),{color:(0,l.isArray)(n.colors[1])?n.colors[1][pt]:n.colors[1]}))}),this.options.legend.visible){var p=this.getUnCheckedValue(),g=this.legends[0].get("items").length+this.legends[1].get("items").length;if(p.length===g){t.style.display="none";return}else t.style.display="block";var _=[],H=[];(0,l.each)(e.items,function(lt){var pt=lt.name;!(0,l.contains)(_,pt)&&!(0,l.contains)(p,pt)&&(_.push(pt),H.push(lt))}),(0,l.each)(e.items,function(lt,pt){pt<H.length?e.items[pt]=H[pt]:e.items.pop()})}},i.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),u=a,c=["square","circle"];(0,l.each)(this.geomLayers,function(h,f){var p;if(h.options.seriesField){var g=t.getValueBySeriesField();p=t.createNormalLegend(g,c[f],o[f],u,s)}else p=t.createSingleLegend(n[f],c[f],o[f],u,s);t.legends.push(p)}),(0,l.each)(this.geomLayers,function(h,f){h.options.seriesField?t.multipleLegendFilter(f,h.options.seriesField):t.legendFilter(f)})},i.prototype.createSingleLegend=function(t,e,n,a,o){var s=(0,l.deepMix)({},{symbol:e,style:{r:4,fill:n}},a.marker),u=[{name:t,unchecked:!1,marker:s}],c=new Zt.Legend.Category({id:this.type,container:o,x:0,y:0,items:u,updateAutoRender:!0,itemBackground:null,itemName:a.text});return c.init(),c.render(),c},i.prototype.createNormalLegend=function(t,e,n,a,o){var s=[];(0,l.each)(t,function(c,h){s.push({name:c,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[h]}}})});var u=new Zt.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return u.init(),u.render(),u},i.prototype.multipleLegendFilter=function(t,e){var n=this,a=this.legends[t],o=[],s=a.get("group"),u=!1;s.on("click",function(c){var h=n.geomLayers[t].view,f=c.target.get("delegateObject").item;f.unchecked?(u===!0&&(n.showLayer(t),u=!1),(0,l.pull)(o,f.name),h.filter(f.value,function(p){return!(0,l.contains)(o,p)}),h.render(),a.setItemState(f,"unchecked",!1)):(a.setItemState(f,"unchecked",!0),o.push(f.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),u=!0):(h.filter(e,function(p){return!(0,l.contains)(o,p)}),h.render())),n.canvas.draw()})},i.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,l.each)(a,function(s){var u=s[e];(0,l.contains)(o,u)||o.push(u)}),o},i}(zp),uu=Qp;ri("columnLine",Qp);var pE=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="columnLine",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=uu.getDefaultOptions,i}(Ue),qp=pE,dE={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},gE={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},Jp={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},td=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,l.deepMix)({},Jp,{colorMapping:!1}),rightConfig:Jp},lineConfig:dE,columnConfig:gE,legend:{visible:!0}})},i.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var u=Pr(),c=u.colors,h=u.colors_20,f=this.getValueBySeriesField(),p=f.length>c.length?h:c,g=[],_=s.length;(0,l.each)(f,function(lt,pt){g.push(p[pt+_])}),a.lineConfig.color=g}var H=this.options.columnConfig.color;this.options.columnConfig.color=H.slice(0,s.length)},i.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnGroupField,u=e.xAxis,c=e.tooltip,h=e.columnConfig,f=e.events,p=this.createLayer(Kl,n[0],Vt({xField:a,yField:o[0],groupField:s,xAxis:u,yAxis:(0,l.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,l.deepMix)({},c,{showMarkers:!1,custom:{onChange:function(g,_){t.tooltip(g,_)}}}),events:f},h));p.render()},i.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),u=a,c=["square","circle"];(0,l.each)(this.geomLayers,function(h,f){var p;if(h.options.seriesField){var g=t.getValueBySeriesField();p=t.createNormalLegend(g,c[f],o[f],u,s)}else if(h.options.groupField){var g=t.getValueByGroupField();p=t.createNormalLegend(g,c[f],o[f],u,s)}else p=t.createSingleLegend(n[f],c[f],o[f],u,s);t.legends.push(p)}),(0,l.each)(this.geomLayers,function(h,f){h.options.seriesField?t.multipleLegendFilter(f,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(f,h.options.groupField):t.legendFilter(f)})},i.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,l.each)(a,function(s){var u=s[e];(0,l.contains)(o,u)||o.push(u)}),o},i.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var u={};return u[n]="null_1",u[a[t]]=1,u[o]="null_a",[s,u]},i}(uu),yE=td;ri("groupedColumnLine",td);var mE=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="groupedColumnLine",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=yE.getDefaultOptions,i}(Ue),ed=mE,xE={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},bE={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},id={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},rd=function(r){qt(i,r);function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return i.getDefaultOptions=function(){return(0,l.deepMix)({},r.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,l.deepMix)({},id,{colorMapping:!1}),rightConfig:id},lineConfig:xE,columnConfig:bE,legend:{visible:!0}})},i.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((e=s.lineConfig)===null||e===void 0?void 0:e.color))){var u=Pr(),c=u.colors,h=u.colors_20,f=this.getValueBySeriesField(),p=f.length>c.length?h:c,g=[],_=n.length;(0,l.each)(f,function(lt,pt){g.push(p[pt+_])}),o.lineConfig.color=g}var H=this.options.columnConfig.color;this.options.columnConfig.color=H.slice(0,n.length)},i.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnStackField,u=e.xAxis,c=e.tooltip,h=e.columnConfig,f=e.events,p=this.createLayer(vs,n[0],Vt({xField:a,yField:o[0],stackField:s,xAxis:u,yAxis:(0,l.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,l.deepMix)({},c,{showMarkers:!1,custom:{onChange:function(g,_){t.tooltip(g,_)}}}),events:f},h));p.render()},i.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),u=a,c=["square","circle"];(0,l.each)(this.geomLayers,function(h,f){var p;if(h.options.seriesField){var g=t.getValueBySeriesField();p=t.createNormalLegend(g,c[f],o[f],u,s)}else if(h.options.stackField){var g=t.getValueByStackField();p=t.createNormalLegend(g,c[f],o[f],u,s)}else p=t.createSingleLegend(n[f],c[f],o[f],u,s);t.legends.push(p)}),(0,l.each)(this.geomLayers,function(h,f){h.options.seriesField?t.multipleLegendFilter(f,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(f,h.options.stackField):t.legendFilter(f)})},i.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data,a=n[0],o=[];return(0,l.each)(a,function(s){var u=s[e];(0,l.contains)(o,u)||o.push(u)}),o},i.prototype.getUnCheckedValue=function(){var t=[];return(0,l.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,l.each)(n,function(a){t.push(a.name)})}),t},i.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var u={};return u[n]="null_1",u[a[t]]=1,u[o]="null_a",[s,u]},i}(uu),wE=rd;ri("stackedColumnLine",rd);var CE=function(r){qt(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.createLayers=function(t){var e=(0,l.deepMix)({},t);e.type="stackedColumnLine",r.prototype.createLayers.call(this,e)},i.getDefaultOptions=wE.getDefaultOptions,i}(Ue),nd=CE;function ad(r,i){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);i&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,e)}return t}function SE(r){for(var i=1;i<arguments.length;i++){var t=arguments[i]!=null?arguments[i]:{};i%2?ad(Object(t),!0).forEach(function(e){ME(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ad(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function ME(r,i,t){return i in r?Object.defineProperty(r,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[i]=t,r}function ni(r,i){var t=(0,O.useRef)(),e=(0,O.useRef)(null);return(0,O.useEffect)(function(){t.current&&(t.current.updateConfig(i),t.current.render())},[JSON.stringify(i)]),(0,O.useEffect)(function(){if(!e.current)return function(){return null};var n=new r(e.current,SE({},i));return t.current=n,n.render(),function(){return n.destroy()}},[]),{chart:t,container:e}}var AE=O.createContext({});function Ss(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ss=function(t){return typeof t}:Ss=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(r)}function _E(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function od(r,i){for(var t=0;t<i.length;t++){var e=i[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}function TE(r,i,t){return i&&od(r.prototype,i),t&&od(r,t),r}function LE(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),i&&cu(r,i)}function cu(r,i){return cu=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},cu(r,i)}function EE(r){var i=IE();return function(){var t=Ms(r),e;if(i){var n=Ms(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return PE(this,e)}}function PE(r,i){return i&&(Ss(i)==="object"||typeof i=="function")?i:OE(r)}function OE(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function IE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}function Ms(r){return Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ms(r)}var BE=function(r){LE(t,r);var i=EE(t);function t(){var e;return _E(this,t),e=i.apply(this,arguments),e.state={hasError:!1},e.renderError=function(n){switch(n){default:return O.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},e}return TE(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(O.Component),ai=BE,GB=AE.Provider;function kE(r,i){if(r==null)return{};var t=FE(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function FE(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var sd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=kE(r,["chartRef","style","className"]),s=ni(nv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});sd.defaultProps=nv.getDefaultOptions();var DE=sd;function RE(r,i){if(r==null)return{};var t=NE(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function NE(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var ld=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=RE(r,["chartRef","style","className"]),s=ni(Gf,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});ld.defaultProps=Gf.getDefaultOptions();var GE=ld;function YE(r,i){if(r==null)return{};var t=XE(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function XE(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var ud=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=YE(r,["chartRef","style","className"]),s=ni(mp,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});ud.defaultProps=mp.getDefaultOptions();var jE=ud;function HE(r,i){if(r==null)return{};var t=VE(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function VE(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var cd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=HE(r,["chartRef","style","className"]),s=ni(bp,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});cd.defaultProps=bp.getDefaultOptions();var zE=cd;function WE(r,i){if(r==null)return{};var t=ZE(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function ZE(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var UE=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=WE(r,["chartRef","style","className"]),s=ni(L2,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))}),$E=UE;function KE(r,i){if(r==null)return{};var t=QE(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function QE(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var hd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=KE(r,["chartRef","style","className"]),s=ni(pv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});hd.defaultProps=pv.getDefaultOptions();var fd=hd;function qE(r,i){if(r==null)return{};var t=JE(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function JE(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var vd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=qE(r,["chartRef","style","className"]),s=ni(qp,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});vd.defaultProps=qp.getDefaultOptions();var tP=vd;function eP(r,i){if(r==null)return{};var t=iP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function iP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var pd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=eP(r,["chartRef","style","className"]),s=ni(Dv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});pd.defaultProps=Dv.getDefaultOptions();var rP=pd;function nP(r,i){if(r==null)return{};var t=aP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function aP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var dd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=nP(r,["chartRef","style","className"]),s=ni(cp,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});dd.defaultProps=cp.getDefaultOptions();var gd=dd;function oP(r,i){if(r==null)return{};var t=sP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function sP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var yd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=oP(r,["chartRef","style","className"]),s=ni($p,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});yd.defaultProps=$p.getDefaultOptions();var lP=yd;function uP(r,i){if(r==null)return{};var t=cP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function cP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var md=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=uP(r,["chartRef","style","className"]),s=ni(Ep,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});md.defaultProps=Ep.getDefaultOptions();var hP=md;function fP(r,i){if(r==null)return{};var t=vP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function vP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var pP=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=fP(r,["chartRef","style","className"]),s=ni(LT,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))}),dP=pP;function gP(r,i){if(r==null)return{};var t=yP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function yP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var xd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=gP(r,["chartRef","style","className"]),s=ni(Tp,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});xd.defaultProps=Tp.getDefaultOptions();var bd=xd;function mP(r,i){if(r==null)return{};var t=xP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function xP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var wd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=mP(r,["chartRef","style","className"]),s=ni(Vf,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});wd.defaultProps=Vf.getDefaultOptions();var bP=wd;function wP(r,i){if(r==null)return{};var t=CP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function CP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Cd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=wP(r,["chartRef","style","className"]),s=ni(gv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Cd.defaultProps=gv.getDefaultOptions();var SP=Cd;function MP(r,i){if(r==null)return{};var t=AP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function AP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Sd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=MP(r,["chartRef","style","className"]),s=ni(ed,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Sd.defaultProps=ed.getDefaultOptions();var _P=Sd;function TP(r,i){if(r==null)return{};var t=LP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function LP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Md=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=TP(r,["chartRef","style","className"]),s=ni(Kv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Md.defaultProps=Kv.getDefaultOptions();var EP=Md;function PP(r,i){if(r==null)return{};var t=OP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function OP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Ad=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=PP(r,["chartRef","style","className"]),s=ni(Yv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Ad.defaultProps=Yv.getDefaultOptions();var IP=Ad;function BP(r,i){if(r==null)return{};var t=kP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function kP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var _d=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=BP(r,["chartRef","style","className"]),s=ni(op,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});_d.defaultProps=op.getDefaultOptions();var FP=_d;function DP(r,i){if(r==null)return{};var t=RP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function RP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Td=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=DP(r,["chartRef","style","className"]),s=ni(xf,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Td.defaultProps=xf.getDefaultOptions();var Ld=Td;function NP(r,i){if(r==null)return{};var t=GP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function GP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Ed=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=NP(r,["chartRef","style","className"]),s=ni(np,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Ed.defaultProps=np.getDefaultOptions();var Pd=Ed;function YP(r,i){if(r==null)return{};var t=XP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function XP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Od=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=YP(r,["chartRef","style","className"]),s=ni(Op,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Od.defaultProps=Op.getDefaultOptions();var jP=Od;function HP(r,i){if(r==null)return{};var t=VP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function VP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Id=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=HP(r,["chartRef","style","className"]),s=ni(cv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Id.defaultProps=cv.getDefaultOptions();var zP=Id;function WP(r,i){if(r==null)return{};var t=ZP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function ZP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Bd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=WP(r,["chartRef","style","className"]),s=ni(Zf,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Bd.defaultProps=Zf.getDefaultOptions();var UP=Bd;function $P(r,i){if(r==null)return{};var t=KP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function KP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var kd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=$P(r,["chartRef","style","className"]),s=ni(Tv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});kd.defaultProps=Tv.getDefaultOptions();var QP=kd;function qP(r,i){if(r==null)return{};var t=JP(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function JP(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Fd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=qP(r,["chartRef","style","className"]),s=ni(Bv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Fd.defaultProps=Bv.getDefaultOptions();var tO=Fd;function eO(r,i){if(r==null)return{};var t=iO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function iO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Dd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=eO(r,["chartRef","style","className"]),s=ni(Dp,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Dd.defaultProps=Dp.getDefaultOptions();var Rd=Dd;function rO(r,i){if(r==null)return{};var t=nO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function nO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Nd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=rO(r,["chartRef","style","className"]),s=ni(qv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Nd.defaultProps=qv.getDefaultOptions();var Gd=Nd;function aO(r,i){if(r==null)return{};var t=oO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function oO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Yd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=aO(r,["chartRef","style","className"]),s=ni(Jf,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Yd.defaultProps=Jf.getDefaultOptions();var sO=Yd;function lO(r,i){if(r==null)return{};var t=uO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function uO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Xd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=lO(r,["chartRef","style","className"]),s=ni(Mv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Xd.defaultProps=Mv.getDefaultOptions();var cO=Xd;function hO(r,i){if(r==null)return{};var t=fO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function fO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var jd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=hO(r,["chartRef","style","className"]),s=ni(Np,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});jd.defaultProps=Np.getDefaultOptions();var Hd=jd;function vO(r,i){if(r==null)return{};var t=pO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function pO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Vd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=vO(r,["chartRef","style","className"]),s=ni(jv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Vd.defaultProps=jv.getDefaultOptions();var dO=Vd;function gO(r,i){if(r==null)return{};var t=yO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function yO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var zd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=gO(r,["chartRef","style","className"]),s=ni(gp,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});zd.defaultProps=gp.getDefaultOptions();var mO=zd;function xO(r,i){if(r==null)return{};var t=bO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function bO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Wd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=xO(r,["chartRef","style","className"]),s=ni(sv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Wd.defaultProps=sv.getDefaultOptions();var wO=Wd;function CO(r,i){if(r==null)return{};var t=SO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function SO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Zd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=CO(r,["chartRef","style","className"]),s=ni(Xf,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Zd.defaultProps=Xf.getDefaultOptions();var MO=Zd;function AO(r,i){if(r==null)return{};var t=_O(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function _O(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Ud=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=AO(r,["chartRef","style","className"]),s=ni(xv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Ud.defaultProps=xv.getDefaultOptions();var TO=Ud;function LO(r,i){if(r==null)return{};var t=EO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function EO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var $d=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=LO(r,["chartRef","style","className"]),s=ni(nd,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});$d.defaultProps=nd.getDefaultOptions();var PO=$d;function OO(r,i){if(r==null)return{};var t=IO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function IO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Kd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=OO(r,["chartRef","style","className"]),s=ni(Uv,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Kd.defaultProps=Uv.getDefaultOptions();var BO=Kd;function kO(r,i){if(r==null)return{};var t=FO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function FO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Qd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=kO(r,["chartRef","style","className"]),s=ni(If,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});Qd.defaultProps=If.getDefaultOptions();var DO=Qd;function RO(r,i){if(r==null)return{};var t=NO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function NO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var qd=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=RO(r,["chartRef","style","className"]),s=ni(jp,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});qd.defaultProps=jp.getDefaultOptions();var Jd=qd;function GO(r,i){if(r==null)return{};var t=YO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function YO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var tg=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=GO(r,["chartRef","style","className"]),s=ni(Yp,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});tg.defaultProps=Yp.getDefaultOptions();var eg=tg;function XO(r,i){if(r==null)return{};var t=jO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function jO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var ig=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=XO(r,["chartRef","style","className"]),s=ni(Vp,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});ig.defaultProps=Vp.getDefaultOptions();var HO=ig;function VO(r,i){if(r==null)return{};var t=zO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function zO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var rg=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=VO(r,["chartRef","style","className"]),s=ni(Pf,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});rg.defaultProps=Pf.getDefaultOptions();var WO=rg;function ZO(r,i){if(r==null)return{};var t=UO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function UO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var ng=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=ZO(r,["chartRef","style","className"]),s=ni(vp,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))});ng.defaultProps=vp.getDefaultOptions();var $O=ng;function KO(r,i){if(r==null)return{};var t=QO(r,i),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(t[e]=r[e]))}return t}function QO(r,i){if(r==null)return{};var t={},e=Object.keys(r),n,a;for(a=0;a<e.length;a++)n=e[a],!(i.indexOf(n)>=0)&&(t[n]=r[n]);return t}var qO=(0,O.forwardRef)(function(r,i){var t=r.chartRef,e=r.style,n=e===void 0?{}:e,a=r.className,o=KO(r,["chartRef","style","className"]),s=ni(vT,o),u=s.chart,c=s.container;return(0,O.useEffect)(function(){t&&(t.current=u.current)},[u.current]),(0,O.useImperativeHandle)(i,function(){return{getChart:function(){return u.current}}}),O.createElement(ai,null,O.createElement("div",{className:a,style:n,ref:c}))}),ag=qO,YB={Area:DE,Bar:GE,Bubble:jE,Bullet:zE,Calendar:$E,Column:fd,ColumnLine:tP,DensityHeatmap:rP,Donut:gd,DualLine:lP,FanGauge:hP,Funnel:dP,Gauge:bd,GroupedBar:bP,GroupedColumn:SP,GroupedColumnLine:_P,GroupedRose:EP,Heatmap:IP,Histogram:FP,Line:Ld,Liquid:Pd,MeterGauge:jP,PercentStackedArea:zP,PercentStackedBar:UP,PercentStackedColumn:QP,Pie:tO,Progress:Rd,Radar:Gd,RangeBar:sO,RangeColumn:cO,RingProgress:Hd,Rose:dO,Scatter:mO,StackedArea:wO,StackedBar:MO,StackedColumn:TO,StackedColumnLine:PO,StackedRose:BO,StepLine:DO,TinyArea:Jd,TinyColumn:eg,TinyLine:HO,Treemap:WO,Waterfall:$O,WordCloud:ag}},89939:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(49242),K=S(15623),Q=function(){function Z(q){var G=q.xField,z=q.yField,$=q.adjustNames,F=$===void 0?["x","y"]:$,X=q.dimValuesMap;this.adjustNames=F,this.xField=G,this.yField=z,this.dimValuesMap=X}return Z.prototype.isAdjust=function(q){return this.adjustNames.indexOf(q)>=0},Z.prototype.getAdjustRange=function(q,G,z){var $=this.yField,F=z.indexOf(G),X=z.length,D,w;return!$&&this.isAdjust("y")?(D=0,w=1):X>1?(D=z[F===0?0:F-1],w=z[F===X-1?X-1:F+1],F!==0?D+=(G-D)/2:D-=(w-G)/2,F!==X-1?w-=(w-G)/2:w+=(G-z[X-2])/2):(D=G===0?0:G-.5,w=G===0?1:G+.5),{pre:D,next:w}},Z.prototype.adjustData=function(q,G){var z=this,$=this.getDimValues(G);N.each(q,function(F,X){N.each($,function(D,w){z.adjustDim(w,D,F,X)})})},Z.prototype.groupData=function(q,G){return N.each(q,function(z){z[G]===void 0&&(z[G]=K.DEFAULT_Y)}),N.groupBy(q,G)},Z.prototype.adjustDim=function(q,G,z,$){},Z.prototype.getDimValues=function(q){var G=this,z=G.xField,$=G.yField,F=N.assign({},this.dimValuesMap),X=[];if(z&&this.isAdjust("x")&&X.push(z),$&&this.isAdjust("y")&&X.push($),X.forEach(function(w){F&&F[w]||(F[w]=N.valuesOfKey(q,w).sort(function(d,I){return d-I}))}),!$&&this.isAdjust("y")){var D="y";F[D]=[K.DEFAULT_Y,1]}return F},Z}();C.default=Q},15623:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.GAP=C.DODGE_RATIO=C.MARGIN_RATIO=C.DEFAULT_Y=void 0,C.DEFAULT_Y=0,C.MARGIN_RATIO=1/2,C.DODGE_RATIO=1/2,C.GAP=.05},28014:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Adjust=C.registerAdjust=C.getAdjust=void 0;var N=S(99350),K=S(89939);C.Adjust=K.default;var Q={},Z=function(G){return Q[G.toLowerCase()]};C.getAdjust=Z;var q=function(G,z){if(Z(G))throw new Error("Adjust type '"+G+"' existed.");Q[G.toLowerCase()]=z};C.registerAdjust=q,N.__exportStar(S(48551),C)},48551:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0})},21392:function(oe,C,S){"use strict";S.r(C),S.d(C,{Attribute:function(){return Z},Color:function(){return $},Opacity:function(){return X},Position:function(){return w},Scale:function(){return P.Scale},Shape:function(){return I},Size:function(){return E},getAttribute:function(){return at},registerAttribute:function(){return et}});var N=S(49242),K=function(ot,ft){return(0,N.isString)(ft)?ft:ot.invert(ot.scale(ft))},Q=function(){function ot(ft){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(ft)}return ot.prototype.mapping=function(){for(var ft=this,ct=[],bt=0;bt<arguments.length;bt++)ct[bt]=arguments[bt];var tt=ct.map(function(O,J){return ft._toOriginParam(O,ft.scales[J])});return this.callback.apply(this,tt)},ot.prototype.getLinearValue=function(ft){var ct=this.values.length-1,bt=Math.floor(ct*ft),tt=ct*ft-bt,O=this.values[bt],J=bt===ct?O:this.values[bt+1];return O+(J-O)*tt},ot.prototype.getNames=function(){for(var ft=this.scales,ct=this.names,bt=Math.min(ft.length,ct.length),tt=[],O=0;O<bt;O+=1)tt.push(ct[O]);return tt},ot.prototype.getFields=function(){return this.scales.map(function(ft){return ft.field})},ot.prototype.getScale=function(ft){return this.scales[this.names.indexOf(ft)]},ot.prototype.defaultCallback=function(){for(var ft=this,ct=[],bt=0;bt<arguments.length;bt++)ct[bt]=arguments[bt];return ct.length===0?this.values:ct.map(function(tt,O){var J=ft.scales[O];return J.type==="identity"?J.values[0]:ft._getAttributeValue(J,tt)})},ot.prototype._parseCfg=function(ft){var ct=this,bt=ft.type,tt=bt===void 0?"base":bt,O=ft.names,J=O===void 0?[]:O,x=ft.scales,l=x===void 0?[]:x,W=ft.values,it=W===void 0?[]:W,nt=ft.callback;this.type=tt,this.scales=l,this.values=it,this.names=J,this.callback=function(){for(var ht=[],y=0;y<arguments.length;y++)ht[y]=arguments[y];if(nt){var V=nt.apply(void 0,ht);if(!(0,N.isNil)(V))return[V]}return ct.defaultCallback.apply(ct,ht)}},ot.prototype._getAttributeValue=function(ft,ct){if(ft.isCategory&&!this.linear){var bt=ft.translate(ct);return this.values[bt%this.values.length]}var tt=ft.scale(ct);return this.getLinearValue(tt)},ot.prototype._toOriginParam=function(ft,ct){return ct.isLinear?ft:(0,N.isArray)(ft)?ft.map(function(bt){return K(ct,bt)}):K(ct,ft)},ot}(),Z=Q,q=S(54085),G=S(55223),z=function(ot){(0,q.__extends)(ft,ot);function ft(ct){var bt=ot.call(this,ct)||this;return bt.type="color",bt.names=["color"],(0,N.isString)(bt.values)&&(bt.linear=!0),bt.gradient=G.default.gradient(bt.values),bt}return ft.prototype.getLinearValue=function(ct){return this.gradient(ct)},ft}(Z),$=z,F=function(ot){(0,q.__extends)(ft,ot);function ft(ct){var bt=ot.call(this,ct)||this;return bt.type="opacity",bt.names=["opacity"],bt}return ft}(Z),X=F,D=function(ot){(0,q.__extends)(ft,ot);function ft(ct){var bt=ot.call(this,ct)||this;return bt.names=["x","y"],bt.type="position",bt}return ft.prototype.mapping=function(ct,bt){var tt=this.scales,O=tt[0],J=tt[1];return(0,N.isNil)(ct)||(0,N.isNil)(bt)?[]:[(0,N.isArray)(ct)?ct.map(function(x){return O.scale(x)}):O.scale(ct),(0,N.isArray)(bt)?bt.map(function(x){return J.scale(x)}):J.scale(bt)]},ft}(Z),w=D,d=function(ot){(0,q.__extends)(ft,ot);function ft(ct){var bt=ot.call(this,ct)||this;return bt.type="shape",bt.names=["shape"],bt}return ft.prototype.getLinearValue=function(ct){var bt=Math.round((this.values.length-1)*ct);return this.values[bt]},ft}(Z),I=d,k=function(ot){(0,q.__extends)(ft,ot);function ft(ct){var bt=ot.call(this,ct)||this;return bt.type="size",bt.names=["size"],bt}return ft}(Z),E=k,P=S(51082),Y={},at=function(ot){return Y[ot.toLowerCase()]},et=function(ot,ft){if(at(ot))throw new Error("Attribute type '"+ot+"' existed.");Y[ot.toLowerCase()]=ft};et("Color",$),et("Opacity",X),et("Position",w),et("Shape",I),et("Size",E)},74839:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(49242),K=function(Z,q){return N.isString(q)?q:Z.invert(Z.scale(q))},Q=function(){function Z(q){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(q)}return Z.prototype.mapping=function(){for(var q=this,G=[],z=0;z<arguments.length;z++)G[z]=arguments[z];var $=G.map(function(F,X){return q._toOriginParam(F,q.scales[X])});return this.callback.apply(this,$)},Z.prototype.getLinearValue=function(q){var G=this.values.length-1,z=Math.floor(G*q),$=G*q-z,F=this.values[z],X=z===G?F:this.values[z+1];return F+(X-F)*$},Z.prototype.getNames=function(){for(var q=this.scales,G=this.names,z=Math.min(q.length,G.length),$=[],F=0;F<z;F+=1)$.push(G[F]);return $},Z.prototype.getFields=function(){return this.scales.map(function(q){return q.field})},Z.prototype.getScale=function(q){return this.scales[this.names.indexOf(q)]},Z.prototype.defaultCallback=function(){for(var q=this,G=[],z=0;z<arguments.length;z++)G[z]=arguments[z];return G.length===0?this.values:G.map(function($,F){var X=q.scales[F];return X.type==="identity"?X.values[0]:q._getAttributeValue(X,$)})},Z.prototype._parseCfg=function(q){var G=this,z=q.type,$=z===void 0?"base":z,F=q.names,X=F===void 0?[]:F,D=q.scales,w=D===void 0?[]:D,d=q.values,I=d===void 0?[]:d,k=q.callback;this.type=$,this.scales=w,this.values=I,this.names=X,this.callback=function(){for(var E=[],P=0;P<arguments.length;P++)E[P]=arguments[P];if(k){var Y=k.apply(void 0,E);if(!N.isNil(Y))return[Y]}return G.defaultCallback.apply(G,E)}},Z.prototype._getAttributeValue=function(q,G){if(q.isCategory&&!this.linear){var z=q.translate(G);return this.values[z%this.values.length]}var $=q.scale(G);return this.getLinearValue($)},Z.prototype._toOriginParam=function(q,G){return G.isLinear?q:N.isArray(q)?q.map(function(z){return K(G,z)}):K(G,q)},Z}();C.default=Q},24796:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Attribute=C.registerAttribute=C.getAttribute=void 0;var N=S(54085),K=S(74839);C.Attribute=K.default;var Q={},Z=function(G){return Q[G.toLowerCase()]};C.getAttribute=Z;var q=function(G,z){if(Z(G))throw new Error("Attribute type '"+G+"' existed.");Q[G.toLowerCase()]=z};C.registerAttribute=q,N.__exportStar(S(77290),C)},77290:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Scale=void 0;var N=S(51082);Object.defineProperty(C,"Scale",{enumerable:!0,get:function(){return N.Scale}})},55223:function(oe,C,S){"use strict";S.r(C);var N=S(49242),K=/rgba?\(([\s.,0-9]+)\)/,Q=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Z=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,q=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,G=function(P){return/^[r,R,L,l]{1}[\s]*\(/.test(P)},z=function(){var P=document.createElement("i");return P.title="Web Colour Picker",P.style.display="none",document.body.appendChild(P),P},$=function(P,Y,at,et){return P[et]+(Y[et]-P[et])*at};function F(P){return"#"+D(P[0])+D(P[1])+D(P[2])}var X=function(P){return[parseInt(P.substr(1,2),16),parseInt(P.substr(3,2),16),parseInt(P.substr(5,2),16)]},D=function(P){var Y=Math.round(P).toString(16);return Y.length===1?"0"+Y:Y},w=function(P,Y){var at=isNaN(Number(Y))||Y<0?0:Y>1?1:Number(Y),et=P.length-1,ot=Math.floor(et*at),ft=et*at-ot,ct=P[ot],bt=ot===et?ct:P[ot+1];return F([$(ct,bt,ft,0),$(ct,bt,ft,1),$(ct,bt,ft,2)])},d,I=function(P){if(P[0]==="#"&&P.length===7)return P;d||(d=z()),d.style.color=P;var Y=document.defaultView.getComputedStyle(d,"").getPropertyValue("color"),at=K.exec(Y),et=at[1].split(/\s*,\s*/).map(function(ot){return Number(ot)});return Y=F(et),Y},k=function(P){var Y=(0,N.isString)(P)?P.split("-"):P,at=(0,N.map)(Y,function(et){return X(et.indexOf("#")===-1?I(et):et)});return function(et){return w(at,et)}},E=function(P){if(G(P)){var Y,at=void 0;if(P[0]==="l"){var et=Q.exec(P),ot=+et[1]+90;at=et[2],Y="linear-gradient("+ot+"deg, "}else if(P[0]==="r"){Y="radial-gradient(";var et=Z.exec(P);at=et[4]}var ft=at.match(q);return(0,N.each)(ft,function(ct,bt){var tt=ct.split(":");Y+=tt[1]+" "+tt[0]*100+"%",bt!==ft.length-1&&(Y+=", ")}),Y+=")",Y}return P};C.default={rgb2arr:X,gradient:k,toRGB:(0,N.memoize)(I),toCSSGradient:E}},51441:function(oe,C,S){"use strict";S.r(C),S.d(C,{Annotation:function(){return N},Axis:function(){return G},Component:function(){return de},Crosshair:function(){return z},Grid:function(){return $},GroupComponent:function(){return Pt},HtmlComponent:function(){return qi},Legend:function(){return F},Scrollbar:function(){return na},Slider:function(){return Ma},Tooltip:function(){return D}});var N={};S.r(N),S.d(N,{Arc:function(){return Ee},DataMarker:function(){return ze},DataRegion:function(){return si},Image:function(){return Pe},Line:function(){return Te},Region:function(){return Ce},RegionFilter:function(){return or},Text:function(){return Se}});var K={};S.r(K),S.d(K,{ellipsisHead:function(){return Wi},ellipsisMiddle:function(){return Br},ellipsisTail:function(){return mr},getDefault:function(){return zr}});var Q={};S.r(Q),S.d(Q,{equidistance:function(){return Et},getDefault:function(){return gn},reserveBoth:function(){return Tt},reserveFirst:function(){return en},reserveLast:function(){return Kr}});var Z={};S.r(Z),S.d(Z,{fixedAngle:function(){return Qt},getDefault:function(){return Ut},unfixedAngle:function(){return fe}});var q={};S.r(q),S.d(q,{autoEllipsis:function(){return K},autoHide:function(){return Q},autoRotate:function(){return Z}});var G={};S.r(G),S.d(G,{Base:function(){return $i},Circle:function(){return Fe},Line:function(){return Ye}});var z={};S.r(z),S.d(z,{Base:function(){return bi},Circle:function(){return Ri},Html:function(){return _r},Line:function(){return ti}});var $={};S.r($),S.d($,{Base:function(){return nn},Circle:function(){return Nr},Line:function(){return on}});var F={};S.r(F),S.d(F,{Base:function(){return Tr},Category:function(){return Lr},Continuous:function(){return Dn}});var X={};S.r(X),S.d(X,{CONTAINER_CLASS:function(){return ln},CROSSHAIR_X:function(){return xn},CROSSHAIR_Y:function(){return Pn},LIST_CLASS:function(){return Bi},LIST_ITEM_CLASS:function(){return Rn},MARKER_CLASS:function(){return Ln},NAME_CLASS:function(){return En},TITLE_CLASS:function(){return mn},VALUE_CLASS:function(){return lr}});var D={};S.r(D),S.d(D,{Html:function(){return Yn}});var w=S(62117),d=S(49242),I=S(66192);function k(mt,R,v){var m=new I.default(R,v);m.target=mt,m.propagationPath.push(mt),mt.emitDelegation(R,m);for(var L=mt.getParent();L;)L.emitDelegation(R,m),m.propagationPath.push(L),L=L.getParent()}var E=S(31506),P=S(31437),Y=[1,0,0,0,1,0,0,0,1];function at(mt,R,v){if(v===void 0&&(v=Y),!R)return null;var m=E.transform(v,[["t",-mt.x,-mt.y],["r",R],["t",mt.x,mt.y]]);return m}function et(mt,R){return!mt.x&&!mt.y?null:E.transform(R||Y,[["t",mt.x,mt.y]])}function ot(mt){var R=[1,0,0],v=[0,0,0];return vec3.transformMat3(v,R,mt),Math.atan2(v[1],v[0])}function ft(mt,R){var v=[0,0];return P.transformMat3(v,R,mt),v}function ct(mt,R){var v=ft(mt,[R.minX,R.minY]),m=ft(mt,[R.maxX,R.minY]),L=ft(mt,[R.minX,R.maxY]),j=ft(mt,[R.maxX,R.maxY]),ut=Math.min(v[0],m[0],L[0],j[0]),gt=Math.max(v[0],m[0],L[0],j[0]),_t=Math.min(v[1],m[1],L[1],j[1]),Lt=Math.max(v[1],m[1],L[1],j[1]);return{x:ut,y:_t,minX:ut,minY:_t,maxX:gt,maxY:Lt,width:gt-ut,height:Lt-_t}}function bt(mt,R,v,m){if(R){var L=at({x:v,y:m},R,mt.getMatrix());mt.setMatrix(L)}}function tt(mt,R,v){var m=et({x:R,y:v});mt.attr("matrix",m)}function O(mt){var R=0,v=0,m=0,L=0;return(0,d.isNumber)(mt)?R=v=m=L=mt:(0,d.isArray)(mt)&&(R=mt[0],m=(0,d.isNil)(mt[1])?mt[0]:mt[1],L=(0,d.isNil)(mt[2])?mt[0]:mt[2],v=(0,d.isNil)(mt[3])?m:mt[3]),[R,m,L,v]}function J(mt){for(var R=mt.childNodes,v=R.length,m=v-1;m>=0;m--)mt.removeChild(R[m])}function x(mt,R){return!!mt.className.match(new RegExp("(\\s|^)"+R+"(\\s|$)"))}function l(mt){var R=mt.start,v=mt.end,m=Math.min(R.x,v.x),L=Math.min(R.y,v.y),j=Math.max(R.x,v.x),ut=Math.max(R.y,v.y);return{x:m,y:L,minX:m,minY:L,maxX:j,maxY:ut,width:j-m,height:ut-L}}function W(mt){var R=mt.map(function(gt){return gt.x}),v=mt.map(function(gt){return gt.y}),m=Math.min.apply(Math,R),L=Math.min.apply(Math,v),j=Math.max.apply(Math,R),ut=Math.max.apply(Math,v);return{x:m,y:L,minX:m,minY:L,maxX:j,maxY:ut,width:j-m,height:ut-L}}function it(mt,R,v,m){return{x:mt,y:R,width:v,height:m,minX:mt,minY:R,maxX:mt+v,maxY:R+m}}function nt(mt,R,v){return(1-v)*mt+R*v}function ht(mt,R,v){return{x:mt.x+Math.cos(v)*R,y:mt.y+Math.sin(v)*R}}function y(mt,R){var v=R.x-mt.x,m=R.y-mt.y;return Math.sqrt(v*v+m*m)}var V=function(mt){return new Promise(function(R){setTimeout(R,mt)})},yt=function(mt,R){return[mt,R].includes(Infinity)?Math.abs(mt)===Math.abs(R):Math.abs(mt-R)<Math.pow(Number.EPSILON,.5)};function Mt(mt,R){var v=Math.max(mt.minX,R.minX),m=Math.max(mt.minY,R.minY),L=Math.min(mt.maxX,R.maxX),j=Math.min(mt.maxY,R.maxY);return it(v,m,L-v,j-m)}function Gt(mt,R){var v=Math.min(mt.minX,R.minX),m=Math.min(mt.minY,R.minY),L=Math.max(mt.maxX,R.maxX),j=Math.max(mt.maxY,R.maxY);return it(v,m,L-v,j-m)}function ee(mt){var R=mt.getClip(),v=R&&R.getBBox(),m;if(!mt.isGroup())m=mt.getBBox();else{var L=Infinity,j=-Infinity,ut=Infinity,gt=-Infinity,_t=mt.getChildren();_t.length>0?(0,d.each)(_t,function(Lt){if(Lt.get("visible")){if(Lt.isGroup()&&Lt.get("children").length===0)return!0;var Rt=ee(Lt),Ht=Lt.applyToMatrix([Rt.minX,Rt.minY,1]),ae=Lt.applyToMatrix([Rt.minX,Rt.maxY,1]),ve=Lt.applyToMatrix([Rt.maxX,Rt.minY,1]),B=Lt.applyToMatrix([Rt.maxX,Rt.maxY,1]),A=Math.min(Ht[0],ae[0],ve[0],B[0]),b=Math.max(Ht[0],ae[0],ve[0],B[0]),M=Math.min(Ht[1],ae[1],ve[1],B[1]),st=Math.max(Ht[1],ae[1],ve[1],B[1]);A<L&&(L=A),b>j&&(j=b),M<ut&&(ut=M),st>gt&&(gt=st)}}):(L=0,j=0,ut=0,gt=0),m=it(L,ut,j-L,gt-ut)}return v?Mt(m,v):m}function re(mt,R){if(!(!mt.getClip()&&!R.getClip())){var v=R.getClip();if(!v){mt.setClip(null);return}var m={type:v.get("type"),attrs:v.attr()};mt.setClip(m)}}function ce(mt){return mt+"px"}function pe(mt,R,v,m){var L=y(mt,R),j=m/L,ut=0;return v==="start"?ut=0-j:v==="end"&&(ut=1+j),{x:nt(mt.x,R.x,ut),y:nt(mt.y,R.y,ut)}}var ge=S(32409),me={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},xe=function(mt){(0,w.__extends)(R,mt);function R(v){var m=mt.call(this,v)||this;return m.initCfg(),m}return R.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},R.prototype.clear=function(){},R.prototype.update=function(v){var m=this,L=this.get("defaultCfg");(0,d.each)(v,function(j,ut){var gt=m.get(ut),_t=j;gt!==j&&((0,d.isObject)(j)&&L[ut]&&(_t=(0,d.deepMix)({},L[ut],j)),m.set(ut,_t))}),this.updateInner(v),this.afterUpdate(v)},R.prototype.updateInner=function(v){},R.prototype.afterUpdate=function(v){(0,d.hasKey)(v,"visible")&&(v.visible?this.show():this.hide()),(0,d.hasKey)(v,"capture")&&this.setCapture(v.capture)},R.prototype.getLayoutBBox=function(){return this.getBBox()},R.prototype.getLocationType=function(){return this.get("locationType")},R.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},R.prototype.setOffset=function(v,m){this.update({offsetX:v,offsetY:m})},R.prototype.setLocation=function(v){var m=(0,w.__assign)({},v);this.update(m)},R.prototype.getLocation=function(){var v=this,m={},L=this.get("locationType"),j=me[L];return(0,d.each)(j,function(ut){m[ut]=v.get(ut)}),m},R.prototype.isList=function(){return!1},R.prototype.isSlider=function(){return!1},R.prototype.init=function(){},R.prototype.initCfg=function(){var v=this,m=this.get("defaultCfg");(0,d.each)(m,function(L,j){var ut=v.get(j);if((0,d.isObject)(ut)){var gt=(0,d.deepMix)({},L,ut);v.set(j,gt)}})},R}(ge.Base),de=xe,kt="update_status",jt=["visible","tip","delegateObject"],Jt=["container","group","shapesMap","isRegister","isUpdating","destroyed"],At=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},R.prototype.remove=function(){this.clear();var v=this.get("group");v.remove()},R.prototype.clear=function(){var v=this.get("group");v.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},R.prototype.getChildComponentById=function(v){var m=this.getElementById(v),L=m&&m.get("component");return L},R.prototype.getElementById=function(v){return this.get("shapesMap")[v]},R.prototype.getElementByLocalId=function(v){var m=this.getElementId(v);return this.getElementById(m)},R.prototype.getElementsByName=function(v){var m=[];return(0,d.each)(this.get("shapesMap"),function(L){L.get("name")===v&&m.push(L)}),m},R.prototype.getContainer=function(){return this.get("container")},R.prototype.updateInner=function(v){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},R.prototype.render=function(){var v=this.get("offScreenGroup");v||(v=this.offScreenRender());var m=this.get("group");this.updateElements(v,m),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},R.prototype.show=function(){var v=this.get("group");v.show(),this.set("visible",!0)},R.prototype.hide=function(){var v=this.get("group");v.hide(),this.set("visible",!1)},R.prototype.setCapture=function(v){var m=this.get("group");m.set("capture",v),this.set("capture",v)},R.prototype.destroy=function(){this.removeEvent(),this.remove(),mt.prototype.destroy.call(this)},R.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},R.prototype.getLayoutBBox=function(){var v=this.get("group"),m=this.getInnerLayoutBBox(),L=v.getTotalMatrix();return L&&(m=ct(L,m)),m},R.prototype.on=function(v,m,L){var j=this.get("group");return j.on(v,m,L),this},R.prototype.off=function(v,m){var L=this.get("group");return L&&L.off(v,m),this},R.prototype.emit=function(v,m){var L=this.get("group");L.emit(v,m)},R.prototype.init=function(){mt.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},R.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},R.prototype.delegateEmit=function(v,m){var L=this.get("group");m.target=L,L.emit(v,m),k(L,v,m)},R.prototype.createOffScreenGroup=function(){var v=this.get("group"),m=v.getGroupBase(),L=new m({delegateObject:this.getDelegateObject()});return L},R.prototype.applyOffset=function(){var v=this.get("offsetX"),m=this.get("offsetY");this.moveElementTo(this.get("group"),{x:v,y:m})},R.prototype.initGroup=function(){var v=this.get("container");this.set("group",v.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},R.prototype.offScreenRender=function(){this.clearOffScreenCache();var v=this.createOffScreenGroup();return this.renderInner(v),this.set("offScreenGroup",v),this.set("offScreenBBox",ee(v)),v},R.prototype.addGroup=function(v,m){this.appendDelegateObject(v,m);var L=v.addGroup(m);return this.get("isRegister")&&this.registerElement(L),L},R.prototype.addShape=function(v,m){this.appendDelegateObject(v,m);var L=v.addShape(m);return this.get("isRegister")&&this.registerElement(L),L},R.prototype.addComponent=function(v,m){var L=m.id,j=m.component,ut=(0,w.__rest)(m,["id","component"]),gt=new j((0,w.__assign)((0,w.__assign)({},ut),{id:L,container:v,updateAutoRender:this.get("updateAutoRender")}));return gt.init(),gt.render(),this.get("isRegister")&&this.registerElement(gt.get("group")),gt},R.prototype.initEvent=function(){},R.prototype.removeEvent=function(){var v=this.get("group");v.off()},R.prototype.getElementId=function(v){var m=this.get("id"),L=this.get("name");return m+"-"+L+"-"+v},R.prototype.registerElement=function(v){var m=v.get("id");this.get("shapesMap")[m]=v},R.prototype.unregisterElement=function(v){var m=v.get("id");delete this.get("shapesMap")[m]},R.prototype.moveElementTo=function(v,m){var L=et(m);v.attr("matrix",L)},R.prototype.addAnimation=function(v,m,L){var j=m.attr("opacity");(0,d.isNil)(j)&&(j=1),m.attr("opacity",0),m.animate({opacity:j},L)},R.prototype.removeAnimation=function(v,m,L){m.animate({opacity:0},L)},R.prototype.updateAnimation=function(v,m,L,j){m.animate(L,j)},R.prototype.updateElements=function(v,m){var L=this,j=this.get("animate"),ut=this.get("animateOption"),gt=v.getChildren().slice(0),_t;(0,d.each)(gt,function(Lt){var Rt=Lt.get("id"),Ht=L.getElementById(Rt),ae=Lt.get("name");if(Ht)if(Lt.get("isComponent")){var ve=Lt.get("component"),B=Ht.get("component"),A=(0,d.pick)(ve.cfg,(0,d.difference)((0,d.keys)(ve.cfg),Jt));B.update(A),Ht.set(kt,"update")}else{var b=L.getReplaceAttrs(Ht,Lt);j&&ut.update?L.updateAnimation(ae,Ht,b,ut.update):Ht.attr(b),Lt.isGroup()&&L.updateElements(Lt,Ht),(0,d.each)(jt,function(T){Ht.set(T,Lt.get(T))}),re(Ht,Lt),_t=Ht,Ht.set(kt,"update")}else{m.add(Lt);var M=m.getChildren();if(M.splice(M.length-1,1),_t){var st=M.indexOf(_t);M.splice(st+1,0,Lt)}else M.unshift(Lt);if(L.registerElement(Lt),Lt.set(kt,"add"),Lt.get("isComponent")){var ve=Lt.get("component");ve.set("container",m)}else Lt.isGroup()&&L.registerNewGroup(Lt);if(_t=Lt,j){var vt=L.get("isInit")?ut.appear:ut.enter;vt&&L.addAnimation(ae,Lt,vt)}}})},R.prototype.clearUpdateStatus=function(v){var m=v.getChildren();(0,d.each)(m,function(L){L.set(kt,null)})},R.prototype.clearOffScreenCache=function(){var v=this.get("offScreenGroup");v&&v.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},R.prototype.getDelegateObject=function(){var v,m=this.get("name"),L=(v={},v[m]=this,v.component=this,v);return L},R.prototype.appendDelegateObject=function(v,m){var L=v.get("delegateObject");m.delegateObject||(m.delegateObject={}),(0,d.mix)(m.delegateObject,L)},R.prototype.getReplaceAttrs=function(v,m){var L=v.attr(),j=m.attr();return(0,d.each)(L,function(ut,gt){j[gt]===void 0&&(j[gt]=void 0)}),j},R.prototype.registerNewGroup=function(v){var m=this,L=v.getChildren();(0,d.each)(L,function(j){m.registerElement(j),j.set(kt,"add"),j.isGroup()&&m.registerNewGroup(j)})},R.prototype.deleteElements=function(){var v=this,m=this.get("shapesMap"),L=[];(0,d.each)(m,function(gt,_t){!gt.get(kt)||gt.destroyed?L.push([_t,gt]):gt.set(kt,null)});var j=this.get("animate"),ut=this.get("animateOption");(0,d.each)(L,function(gt){var _t=gt[0],Lt=gt[1];if(!Lt.destroyed){var Rt=Lt.get("name");if(j&&ut.leave){var Ht=(0,d.mix)({callback:function(){v.removeElement(Lt)}},ut.leave);v.removeAnimation(Rt,Lt,Ht)}else v.removeElement(Lt)}delete m[_t]})},R.prototype.removeElement=function(v){if(v.get("isGroup")){var m=v.get("component");m&&m.destroy()}v.remove()},R}(de),Pt=At,Xt="\u2026";function se(mt){for(var R=0,v=0;v<mt.length;v++)R+=dt(mt,v);return R}function dt(mt,R){return mt.charCodeAt(R)>0&&mt.charCodeAt(R)<128?1:2}function Ct(mt,R,v){v===void 0&&(v="tail");var m=mt.length,L="";if(v==="tail"){for(var j=0,ut=0;j<R;){var gt=dt(mt,ut);if(j+gt<=R)L+=mt[ut],j+=dt(mt,ut),ut++;else break}L+=Xt}else if(v==="head"){for(var j=0,ut=m-1;j<R;){var gt=dt(mt,ut);if(j+gt<=R)L+=mt[ut],j+=dt(mt,ut),ut--;else break}L=Xt+L}else{for(var _t="",Lt="",j=0,Rt=0,Ht=m-1;j<R;){var ae=dt(mt,Rt),ve=!1;ae+j<=R&&(_t+=mt[Rt],Rt++,j+=ae,ve=!0);var B=dt(mt,Ht);if(B+j<=R&&(Lt=mt[Ht]+Lt,j+=B,Ht--,ve=!0),!ve)break}L=_t+Xt+Lt}return L}var It="\u2026",Bt=2;function Wt(mt){var R=0;return(0,d.each)(mt,function(v){var m=v.getBBox(),L=m.width;R<L&&(R=L)}),R}function $t(mt,R){var v=R.getCanvasBBox();return mt?v.width:v.height}function Zt(mt,R){return mt.getBBox().width<R}function ie(mt,R,v,m){m===void 0&&(m="tail");var L=R.attr("text"),j=$t(mt,R),ut=se(L),gt=!1;if(v<j){var _t=Math.floor(v/j*ut)-Bt,Lt=void 0;_t>=0?Lt=Ct(L,_t,m):Lt=It,Lt&&(R.attr("text",Lt),gt=!0)}return gt?R.set("tip",L):R.set("tip",null),gt}function zt(mt,R){var v=R.x,m=R.y,L=R.content,j=R.style,ut=R.id,gt=R.name,_t=R.rotate,Lt=R.maxLength,Rt=R.autoEllipsis,Ht=R.isVertical,ae=R.ellipsisPosition,ve=R.background,B=mt.addGroup({id:ut+"-group",name:gt+"-group",attrs:{x:v,y:m}}),A=B.addShape({type:"text",id:ut,name:gt,attrs:(0,w.__assign)({x:0,y:0,text:L},j)}),b=O((0,d.get)(ve,"padding",0));if(Lt&&Rt){var M=Lt-(b[1]+b[3]);ie(!Ht,A,M,ae)}if(ve){var st=(0,d.get)(ve,"style",{}),vt=A.getCanvasBBox(),T=vt.minX,U=vt.minY,rt=vt.width,xt=vt.height,Ot=B.addShape("rect",{id:ut+"-bg",name:ut+"-bg",attrs:(0,w.__assign)({x:T-b[3],y:U-b[0],width:rt+b[1]+b[3],height:xt+b[0]+b[2]},st)});Ot.toBack()}tt(B,v,m),bt(B,_t,v,m)}var Kt={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},ne=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Kt.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Kt.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Kt.lineColor,lineWidth:1}}}})},R.prototype.renderInner=function(v){this.renderLine(v),this.get("text")&&this.renderLabel(v)},R.prototype.renderLine=function(v){var m=this.get("start"),L=this.get("end"),j=this.get("style");this.addShape(v,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,w.__assign)({x1:m.x,y1:m.y,x2:L.x,y2:L.y},j)})},R.prototype.getLabelPoint=function(v,m,L){var j;return L==="start"?j=0:L==="center"?j=.5:(0,d.isString)(L)&&L.indexOf("%")!==-1?j=parseInt(L,10)/100:(0,d.isNumber)(L)?j=L:j=1,(j>1||j<0)&&(j=1),{x:nt(v.x,m.x,j),y:nt(v.y,m.y,j)}},R.prototype.renderLabel=function(v){var m=this.get("text"),L=this.get("start"),j=this.get("end"),ut=m.position,gt=m.content,_t=m.style,Lt=m.offsetX,Rt=m.offsetY,Ht=m.autoRotate,ae=m.maxLength,ve=m.autoEllipsis,B=m.ellipsisPosition,A=m.background,b=m.isVertical,M=b===void 0?!1:b,st=this.getLabelPoint(L,j,ut),vt=st.x+Lt,T=st.y+Rt,U={id:this.getElementId("line-text"),name:"annotation-line-text",x:vt,y:T,content:gt,style:_t,maxLength:ae,autoEllipsis:ve,ellipsisPosition:B,background:A,isVertical:M};if(Ht){var rt=[j.x-L.x,j.y-L.y];U.rotate=Math.atan2(rt[1],rt[0])}zt(v,U)},R}(Pt),Te=ne,ke=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Kt.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Kt.fontFamily}}})},R.prototype.setLocation=function(v){this.set("x",v.x),this.set("y",v.y),this.resetLocation()},R.prototype.renderInner=function(v){var m=this.getLocation(),L=m.x,j=m.y,ut=this.get("content"),gt=this.get("style"),_t=this.getElementId("text"),Lt=this.get("name")+"-text",Rt=this.get("maxLength"),Ht=this.get("autoEllipsis"),ae=this.get("isVertical"),ve=this.get("ellipsisPosition"),B=this.get("background"),A=this.get("rotate"),b={id:_t,name:Lt,x:L,y:j,content:ut,style:gt,maxLength:Rt,autoEllipsis:Ht,isVertical:ae,ellipsisPosition:ve,background:B,rotate:A};zt(v,b)},R.prototype.resetLocation=function(){var v=this.getElementByLocalId("text-group");if(v){var m=this.getLocation(),L=m.x,j=m.y,ut=this.get("rotate");tt(v,L,j),bt(v,ut,L,j)}},R}(Pt),Se=ke,Ie=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},R.prototype.renderInner=function(v){this.renderArc(v)},R.prototype.getArcPath=function(){var v=this.getLocation(),m=v.center,L=v.radius,j=v.startAngle,ut=v.endAngle,gt=ht(m,L,j),_t=ht(m,L,ut),Lt=ut-j>Math.PI?1:0,Rt=[["M",gt.x,gt.y]];if(ut-j==Math.PI*2){var Ht=ht(m,L,j+Math.PI);Rt.push(["A",L,L,0,Lt,1,Ht.x,Ht.y]),Rt.push(["A",L,L,0,Lt,1,_t.x,_t.y])}else Rt.push(["A",L,L,0,Lt,1,_t.x,_t.y]);return Rt},R.prototype.renderArc=function(v){var m=this.getArcPath(),L=this.get("style");this.addShape(v,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,w.__assign)({path:m},L)})},R}(Pt),Ee=Ie,Be=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Kt.regionColor,opacity:.4}}})},R.prototype.renderInner=function(v){this.renderRegion(v)},R.prototype.renderRegion=function(v){var m=this.get("start"),L=this.get("end"),j=this.get("style"),ut=l({start:m,end:L});this.addShape(v,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,w.__assign)({x:ut.x,y:ut.y,width:ut.width,height:ut.height},j)})},R}(Pt),Ce=Be,Ge=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},R.prototype.renderInner=function(v){this.renderImage(v)},R.prototype.getImageAttrs=function(){var v=this.get("start"),m=this.get("end"),L=this.get("style"),j=l({start:v,end:m}),ut=this.get("src");return(0,w.__assign)({x:j.x,y:j.y,img:ut,width:j.width,height:j.height},L)},R.prototype.renderImage=function(v){this.addShape(v,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},R}(Pt),Pe=Ge,Ve=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Kt.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Kt.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Kt.fontFamily}}}})},R.prototype.renderInner=function(v){(0,d.get)(this.get("line"),"display")&&this.renderLine(v),(0,d.get)(this.get("text"),"display")&&this.renderText(v),(0,d.get)(this.get("point"),"display")&&this.renderPoint(v),this.get("autoAdjust")&&this.autoAdjust(v)},R.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},R.prototype.renderPoint=function(v){var m=this.getShapeAttrs().point;this.addShape(v,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:m})},R.prototype.renderLine=function(v){var m=this.getShapeAttrs().line;this.addShape(v,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:m})},R.prototype.renderText=function(v){var m=this.getShapeAttrs().text,L=m.x,j=m.y,ut=m.text,gt=(0,w.__rest)(m,["x","y","text"]),_t=this.get("text"),Lt=_t.background,Rt=_t.maxLength,Ht=_t.autoEllipsis,ae=_t.isVertival,ve=_t.ellipsisPosition,B={x:L,y:j,id:this.getElementId("text"),name:"annotation-text",content:ut,style:gt,background:Lt,maxLength:Rt,autoEllipsis:Ht,isVertival:ae,ellipsisPosition:ve};zt(v,B)},R.prototype.autoAdjust=function(v){var m=this.get("direction"),L=this.get("x"),j=this.get("y"),ut=(0,d.get)(this.get("line"),"length",0),gt=this.get("coordinateBBox"),_t=v.getBBox(),Lt=_t.minX,Rt=_t.maxX,Ht=_t.minY,ae=_t.maxY,ve=v.findById(this.getElementId("text-group")),B=v.findById(this.getElementId("text")),A=v.findById(this.getElementId("line"));if(!!gt){if(ve){if(L+Lt<=gt.minX){var b=gt.minX-(L+Lt);tt(ve,ve.attr("x")+b,ve.attr("y"))}if(L+Rt>=gt.maxX){var b=L+Rt-gt.maxX;tt(ve,ve.attr("x")-b,ve.attr("y"))}}if(m==="upward"&&j+Ht<=gt.minY||m!=="upward"&&j+ae>=gt.maxY){var M=void 0,st=void 0;m==="upward"&&j+Ht<=gt.minY?(M="top",st=1):(M="bottom",st=-1),B.attr("textBaseline",M),A&&A.attr("path",[["M",0,0],["L",0,ut*st]]),tt(ve,ve.attr("x"),(ut+2)*st)}}},R.prototype.getShapeAttrs=function(){var v=(0,d.get)(this.get("line"),"display"),m=(0,d.get)(this.get("point"),"style",{}),L=(0,d.get)(this.get("line"),"style",{}),j=(0,d.get)(this.get("text"),"style",{}),ut=this.get("direction"),gt=v?(0,d.get)(this.get("line"),"length",0):0,_t=ut==="upward"?-1:1;return{point:(0,w.__assign)({x:0,y:0},m),line:(0,w.__assign)({path:[["M",0,0],["L",0,gt*_t]]},L),text:(0,w.__assign)({x:0,y:(gt+2)*_t,text:(0,d.get)(this.get("text"),"content",""),textBaseline:ut==="upward"?"bottom":"top"},j)}},R}(Pt),ze=Ve,Je=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Kt.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Kt.textColor,fontFamily:Kt.fontFamily}}}})},R.prototype.renderInner=function(v){var m=(0,d.get)(this.get("region"),"style",{}),L=(0,d.get)(this.get("text"),"style",{}),j=this.get("lineLength")||0,ut=this.get("points");if(!!ut.length){var gt=W(ut),_t=[];_t.push(["M",ut[0].x,gt.minY-j]),ut.forEach(function(Rt){_t.push(["L",Rt.x,Rt.y])}),_t.push(["L",ut[ut.length-1].x,ut[ut.length-1].y-j]),this.addShape(v,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,w.__assign)({path:_t},m)});var Lt=(0,w.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(gt.minX+gt.maxX)/2,y:gt.minY-j},this.get("text"));zt(v,Lt)}},R}(Pt),si=Je,Li=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},R.prototype.renderInner=function(v){var m=this,L=this.get("start"),j=this.get("end"),ut=this.addGroup(v,{id:this.getElementId("region-filter"),capture:!1});(0,d.each)(this.get("shapes"),function(_t,Lt){var Rt=_t.get("type"),Ht=(0,d.clone)(_t.attr());m.adjustShapeAttrs(Ht),m.addShape(ut,{id:m.getElementId("shape-"+Rt+"-"+Lt),capture:!1,type:Rt,attrs:Ht})});var gt=l({start:L,end:j});ut.setClip({type:"rect",attrs:{x:gt.minX,y:gt.minY,width:gt.width,height:gt.height}})},R.prototype.adjustShapeAttrs=function(v){var m=this.get("color");v.fill&&(v.fill=v.fillStyle=m),v.stroke=v.strokeStyle=m},R}(Pt),or=Li;function wi(mt,R,v){var m=R+"Style",L=null;return(0,d.each)(v,function(j,ut){mt[ut]&&j[m]&&(L||(L={}),(0,d.mix)(L,j[m]))}),L}var yr=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Kt.lineColor}},tickLine:{style:{lineWidth:1,stroke:Kt.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Kt.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Kt.textColor,textBaseline:"middle",fontFamily:Kt.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Kt.textColor,textBaseline:"middle",fontFamily:Kt.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Kt.uncheckedColor}}}}})},R.prototype.renderInner=function(v){this.get("line")&&this.drawLine(v),this.drawTicks(v),this.get("title")&&this.drawTitle(v)},R.prototype.isList=function(){return!0},R.prototype.getItems=function(){return this.get("ticks")},R.prototype.setItems=function(v){this.update({ticks:v})},R.prototype.updateItem=function(v,m){(0,d.mix)(v,m),this.clear(),this.render()},R.prototype.clearItems=function(){var v=this.getElementByLocalId("label-group");v&&v.clear()},R.prototype.setItemState=function(v,m,L){v[m]=L,this.updateTickStates(v)},R.prototype.hasState=function(v,m){return!!v[m]},R.prototype.getItemStates=function(v){var m=this.get("tickStates"),L=[];return(0,d.each)(m,function(j,ut){v[ut]&&L.push(ut)}),L},R.prototype.clearItemsState=function(v){var m=this,L=this.getItemsByState(v);(0,d.each)(L,function(j){m.setItemState(j,v,!1)})},R.prototype.getItemsByState=function(v){var m=this,L=this.getItems();return(0,d.filter)(L,function(j){return m.hasState(j,v)})},R.prototype.getSidePoint=function(v,m){var L=this,j=L.getSideVector(m,v);return{x:v.x+j[0],y:v.y+j[1]}},R.prototype.getTextAnchor=function(v){var m;return(0,d.isNumberEqual)(v[0],0)?m="center":v[0]>0?m="start":v[0]<0&&(m="end"),m},R.prototype.processOverlap=function(v){},R.prototype.drawLine=function(v){var m=this.getLinePath(),L=this.get("line");this.addShape(v,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,d.mix)({path:m},L.style)})},R.prototype.getTickLineItems=function(v){var m=this,L=[],j=this.get("tickLine"),ut=j.alignTick,gt=j.length,_t=1,Lt=v.length;return Lt>=2&&(_t=v[1].value-v[0].value),(0,d.each)(v,function(Rt){var Ht=Rt.point;ut||(Ht=m.getTickPoint(Rt.value-_t/2));var ae=m.getSidePoint(Ht,gt);L.push({startPoint:Ht,tickValue:Rt.value,endPoint:ae,tickId:Rt.id,id:"tickline-"+Rt.id})}),L},R.prototype.getSubTickLineItems=function(v){var m=[],L=this.get("subTickLine"),j=L.count,ut=v.length;if(ut>=2)for(var gt=0;gt<ut-1;gt++)for(var _t=v[gt],Lt=v[gt+1],Rt=0;Rt<j;Rt++){var Ht=(Rt+1)/(j+1),ae=(1-Ht)*_t.tickValue+Ht*Lt.tickValue,ve=this.getTickPoint(ae),B=this.getSidePoint(ve,L.length);m.push({startPoint:ve,endPoint:B,tickValue:ae,id:"sub-"+_t.id+"-"+Rt})}return m},R.prototype.getTickLineAttrs=function(v,m){var L=this.get(m).style,j=v.startPoint,ut=v.endPoint,gt=(0,d.mix)({x1:j.x,y1:j.y,x2:ut.x,y2:ut.y},L);return gt},R.prototype.drawTick=function(v,m,L){this.addShape(m,{type:"line",id:this.getElementId(v.id),name:"axis-"+L,attrs:this.getTickLineAttrs(v,L)})},R.prototype.drawTickLines=function(v){var m=this,L=this.get("ticks"),j=this.get("subTickLine"),ut=this.getTickLineItems(L),gt=this.addGroup(v,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),_t=this.get("tickLine");if((0,d.each)(ut,function(Rt){if(_t.displayWithLabel){var Ht=m.getElementId("label-"+Rt.tickId);v.findById(Ht)&&m.drawTick(Rt,gt,"tickLine")}else m.drawTick(Rt,gt,"tickLine")}),j){var Lt=this.getSubTickLineItems(ut);(0,d.each)(Lt,function(Rt){m.drawTick(Rt,gt,"subTickLine")})}},R.prototype.processTicks=function(){var v=this,m=this.get("ticks");(0,d.each)(m,function(L){L.point=v.getTickPoint(L.value),(0,d.isNil)(L.id)&&(L.id=L.name)})},R.prototype.drawTicks=function(v){var m=this;this.processTicks(),this.get("label")&&this.drawLabels(v),this.get("tickLine")&&this.drawTickLines(v);var L=this.get("ticks");(0,d.each)(L,function(j){m.applyTickStates(j,v)})},R.prototype.getLabelAttrs=function(v,m){var L=this.get("label"),j=L.offset,ut=L.style,gt=L.rotate,_t=L.formatter,Lt=this.getSidePoint(v.point,j),Rt=this.getSideVector(j,Lt),Ht=_t?_t(v.name,v,m):v.name,ae=(0,d.mix)({x:Lt.x,y:Lt.y,text:Ht,textAlign:this.getTextAnchor(Rt)},ut);return gt&&(ae.matrix=at(Lt,gt)),ae},R.prototype.drawLabels=function(v){var m=this,L=this.get("ticks"),j=this.addGroup(v,{name:"axis-label-group",id:this.getElementId("label-group")});(0,d.each)(L,function(ut,gt){m.addShape(j,{type:"text",name:"axis-label",id:m.getElementId("label-"+ut.id),attrs:m.getLabelAttrs(ut,gt),delegateObject:{tick:ut,item:ut,index:gt}})}),this.processOverlap(j)},R.prototype.getTitleAttrs=function(){var v=this.get("title"),m=v.style,L=v.position,j=v.offset,ut=v.spacing,gt=ut===void 0?0:ut,_t=v.autoRotate,Lt=m.fontSize,Rt=.5;L==="start"?Rt=0:L==="end"&&(Rt=1);var Ht=this.getTickPoint(Rt),ae=this.getSidePoint(Ht,j||gt+Lt/2),ve=(0,d.mix)({x:ae.x,y:ae.y,text:v.text},m),B=v.rotate,A=B;if((0,d.isNil)(B)&&_t){var b=this.getAxisVector(Ht),M=[1,0];A=E.angleTo(b,M,!0)}if(A){var st=at(ae,A);ve.matrix=st}return ve},R.prototype.drawTitle=function(v){this.addShape(v,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},R.prototype.applyTickStates=function(v,m){var L=this.getItemStates(v);if(L.length){var j=this.get("tickStates"),ut=this.getElementId("label-"+v.id),gt=m.findById(ut);if(gt){var _t=wi(v,"label",j);_t&&gt.attr(_t)}var Lt=this.getElementId("tickline-"+v.id),Rt=m.findById(Lt);if(Rt){var Ht=wi(v,"tickLine",j);Ht&&Rt.attr(Ht)}}},R.prototype.updateTickStates=function(v){var m=this.getItemStates(v),L=this.get("tickStates"),j=this.get("label"),ut=this.getElementByLocalId("label-"+v.id),gt=this.get("tickLine"),_t=this.getElementByLocalId("tickline-"+v.id);if(m.length){if(ut){var Lt=wi(v,"label",L);Lt&&ut.attr(Lt)}if(_t){var Rt=wi(v,"tickLine",L);Rt&&_t.attr(Rt)}}else ut&&ut.attr(j.style),_t&&_t.attr(gt.style)},R}(Pt),$i=yr;function Ar(mt,R,v,m){var L=R.getChildren(),j=!1;return(0,d.each)(L,function(ut){var gt=ie(mt,ut,v,m);j=j||gt}),j}function zr(){return mr}function Wi(mt,R,v){return Ar(mt,R,v,"head")}function mr(mt,R,v){return Ar(mt,R,v,"tail")}function Br(mt,R,v){return Ar(mt,R,v,"middle")}function Ki(mt){var R=mt.attr("matrix");return R&&R[0]!==1}function Zi(mt,R,v,m,L){L===void 0&&(L=!1);var j=!1;if(mt)j=Math.abs(v.y-m.y)<v.height;else if(R){var ut=L?m.height:v.height;j=Math.abs(v.x-m.x)<ut}else{var gt=L?m.width:v.width;j=Math.abs(v.x-m.x)<gt}return j}function Ci(mt,R,v){var m=R.getChildren().slice();if(!m.length)return!1;var L=!1;v&&m.reverse();for(var j=m.length,ut=m[0],gt=Ki(ut),_t=ut.getBBox(),Lt=1;Lt<j;Lt++){var Rt=m[Lt],Ht=Rt.getBBox(),ae=Zi(mt,gt,_t,Ht,v);ae?(Rt.hide(),L=!0):_t=Ht}return L}function gn(){return Et}function en(mt,R){return Ci(mt,R,!1)}function Kr(mt,R){return Ci(mt,R,!0)}function Tt(mt,R){var v=R.getChildren().slice();if(v.length<=2)return!1;for(var m=!1,L=v.length,j=v[0],ut=v[L-1],gt=Ki(j),_t=j.getBBox(),Lt=j,Rt=1;Rt<L-1;Rt++){var Ht=v[Rt],ae=Ht.getBBox(),ve=Zi(mt,gt,_t,ae);ve?(Ht.hide(),m=!0):(_t=ae,Lt=Ht)}var B=ut.getBBox(),A=Zi(mt,gt,_t,B);return A&&(Lt.hide(),m=!0),m}function Et(mt,R){var v=R.getChildren().slice();if(v.length<2)return!1;var m=!1,L=v[0],j=L.getBBox(),ut=v[1],gt=Ki(L),_t=v.length,Lt=0;if(mt){var Rt=Math.abs(ut.attr("y")-L.attr("y"));Lt=j.height/Rt}else if(gt){var Rt=Math.abs(ut.attr("x")-L.attr("x"));Lt=j.width/Rt}else{var Ht=Wt(v),Rt=Math.abs(ut.attr("x")-L.attr("x"));Lt=Ht/Rt}if(Lt>1){Lt=Math.ceil(Lt);for(var ae=0;ae<_t;ae++)ae%Lt!=0&&(v[ae].hide(),m=!0)}return m}function St(mt,R){(0,d.each)(mt,function(v){var m=v.attr("x"),L=v.attr("y"),j=at({x:m,y:L},R);v.attr("matrix",j)})}function Yt(mt,R,v,m){var L=R.getChildren();if(!L.length||!mt&&L.length<2)return!1;var j=Wt(L),ut=!1;if(mt)ut=!!v&&j>v;else{var gt=Math.abs(L[1].attr("x")-L[0].attr("x"));ut=j>gt}if(ut){var _t=m(v,j);St(L,_t)}return ut}function Ut(){return Qt}function Qt(mt,R,v){return Yt(mt,R,v,function(){return mt?Kt.verticalAxisRotate:Kt.horizontalAxisRotate})}function fe(mt,R,v){return Yt(mt,R,v,function(m,L){if(!m)return mt?Kt.verticalAxisRotate:Kt.horizontalAxisRotate;if(mt)return-Math.acos(m/L);var j=0;return m>L?j=Math.PI/4:(j=Math.asin(m/L),j>Math.PI/4&&(j=Math.PI/4)),j})}var be=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{type:"line",locationType:"region",start:null,end:null})},R.prototype.getLinePath=function(){var v=this.get("start"),m=this.get("end"),L=[];return L.push(["M",v.x,v.y]),L.push(["L",m.x,m.y]),L},R.prototype.getInnerLayoutBBox=function(){var v=this.get("start"),m=this.get("end"),L=mt.prototype.getInnerLayoutBBox.call(this),j=Math.min(v.x,m.x,L.x),ut=Math.min(v.y,m.y,L.y),gt=Math.max(v.x,m.x,L.maxX),_t=Math.max(v.y,m.y,L.maxY);return{x:j,y:ut,minX:j,minY:ut,maxX:gt,maxY:_t,width:gt-j,height:_t-ut}},R.prototype.isVertical=function(){var v=this.get("start"),m=this.get("end");return(0,d.isNumberEqual)(v.x,m.x)},R.prototype.isHorizontal=function(){var v=this.get("start"),m=this.get("end");return(0,d.isNumberEqual)(v.y,m.y)},R.prototype.getTickPoint=function(v){var m=this,L=m.get("start"),j=m.get("end"),ut=j.x-L.x,gt=j.y-L.y;return{x:L.x+ut*v,y:L.y+gt*v}},R.prototype.getSideVector=function(v){var m=this.getAxisVector(),L=P.normalize([0,0],m),j=this.get("verticalFactor"),ut=[L[1],L[0]*-1];return P.scale([0,0],ut,v*j)},R.prototype.getAxisVector=function(){var v=this.get("start"),m=this.get("end");return[m.x-v.x,m.y-v.y]},R.prototype.processOverlap=function(v){var m=this,L=this.isVertical(),j=this.isHorizontal();if(!(!L&&!j)){var ut=this.get("label"),gt=this.get("title"),_t=this.get("verticalLimitLength"),Lt=ut.offset,Rt=_t,Ht=0,ae=0;gt&&(Ht=gt.style.fontSize,ae=gt.spacing),Rt&&(Rt=Rt-Lt-ae-Ht);var ve=this.get("overlapOrder");if((0,d.each)(ve,function(b){ut[b]&&m.autoProcessOverlap(b,ut[b],v,Rt)}),gt){var B=v.getBBox(),A=L?B.width:B.height;(0,d.isNil)(gt.offset)&&(gt.offset=Lt+A+ae+Ht/2)}}},R.prototype.autoProcessOverlap=function(v,m,L,j){var ut=this,gt=this.isVertical(),_t=!1,Lt=q[v];if(m===!0?_t=Lt.getDefault()(gt,L,j):(0,d.isFunction)(m)?_t=m(gt,L,j):Lt[m]&&(_t=Lt[m](gt,L,j)),v==="autoRotate"){if(_t){var Rt=L.getChildren(),Ht=this.get("verticalFactor");(0,d.each)(Rt,function(ve){var B=ve.attr("textAlign");if(B==="center"){var A=Ht>0?"end":"start";ve.attr("textAlign",A)}})}}else if(v==="autoHide"){var ae=L.getChildren().slice(0);(0,d.each)(ae,function(ve){ve.get("visible")||(ut.get("isRegister")&&ut.unregisterElement(ve),ve.remove())})}},R}($i),Ye=be,_e=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},R.prototype.getLinePath=function(){var v=this.get("center"),m=v.x,L=v.y,j=this.get("radius"),ut=j,gt=this.get("startAngle"),_t=this.get("endAngle"),Lt=[];if(Math.abs(_t-gt)===Math.PI*2)Lt=[["M",m,L-ut],["A",j,ut,0,1,1,m,L+ut],["A",j,ut,0,1,1,m,L-ut],["Z"]];else{var Rt=this.getCirclePoint(gt),Ht=this.getCirclePoint(_t),ae=Math.abs(_t-gt)>Math.PI?1:0,ve=gt>_t?0:1;Lt=[["M",m,L],["L",Rt.x,Rt.y],["A",j,ut,0,ae,ve,Ht.x,Ht.y],["L",m,L]]}return Lt},R.prototype.getTickPoint=function(v){var m=this.get("startAngle"),L=this.get("endAngle"),j=m+(L-m)*v;return this.getCirclePoint(j)},R.prototype.getSideVector=function(v,m){var L=this.get("center"),j=[m.x-L.x,m.y-L.y],ut=this.get("verticalFactor"),gt=P.length(j);return P.scale(j,j,ut*v/gt),j},R.prototype.getAxisVector=function(v){var m=this.get("center"),L=[v.x-m.x,v.y-m.y];return[L[1],-1*L[0]]},R.prototype.getCirclePoint=function(v,m){var L=this.get("center");return m=m||this.get("radius"),{x:L.x+Math.cos(v)*m,y:L.y+Math.sin(v)*m}},R}($i),Fe=_e,li=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Kt.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Kt.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Kt.fontFamily}},textBackground:{padding:5,style:{stroke:Kt.lineColor}}}})},R.prototype.renderInner=function(v){this.get("line")&&this.renderLine(v),this.get("text")&&(this.renderText(v),this.renderBackground(v))},R.prototype.renderText=function(v){var m=this.get("text"),L=m.style,j=m.autoRotate,ut=m.content;if(!(0,d.isNil)(ut)){var gt=this.getTextPoint(),_t=null;if(j){var Lt=this.getRotateAngle();_t=at(gt,Lt)}this.addShape(v,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,w.__assign)((0,w.__assign)((0,w.__assign)({},gt),{text:ut,matrix:_t}),L)})}},R.prototype.renderLine=function(v){var m=this.getLinePath(),L=this.get("line"),j=L.style;this.addShape(v,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,w.__assign)({path:m},j)})},R.prototype.renderBackground=function(v){var m=this.getElementId("text"),L=v.findById(m),j=this.get("textBackground");if(j&&L){var ut=L.getBBox(),gt=O(j.padding),_t=j.style,Lt=this.addShape(v,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,w.__assign)({x:ut.x-gt[3],y:ut.y-gt[0],width:ut.width+gt[1]+gt[3],height:ut.height+gt[0]+gt[2],matrix:L.attr("matrix")},_t)});Lt.toBack()}},R}(Pt),bi=li,Ii=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{type:"line",locationType:"region",start:null,end:null})},R.prototype.getRotateAngle=function(){var v=this.getLocation(),m=v.start,L=v.end,j=this.get("text").position,ut=Math.atan2(L.y-m.y,L.x-m.x),gt=j==="start"?ut-Math.PI/2:ut+Math.PI/2;return gt},R.prototype.getTextPoint=function(){var v=this.getLocation(),m=v.start,L=v.end,j=this.get("text"),ut=j.position,gt=j.offset;return pe(m,L,ut,gt)},R.prototype.getLinePath=function(){var v=this.getLocation(),m=v.start,L=v.end;return[["M",m.x,m.y],["L",L.x,L.y]]},R}(bi),ti=Ii,Ei=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},R.prototype.getRotateAngle=function(){var v=this.getLocation(),m=v.startAngle,L=v.endAngle,j=this.get("text").position,ut=j==="start"?m+Math.PI/2:L-Math.PI/2;return ut},R.prototype.getTextPoint=function(){var v=this.get("text"),m=v.position,L=v.offset,j=this.getLocation(),ut=j.center,gt=j.radius,_t=j.startAngle,Lt=j.endAngle,Rt=m==="start"?_t:Lt,Ht=this.getRotateAngle()-Math.PI,ae=ht(ut,gt,Rt),ve=Math.cos(Ht)*L,B=Math.sin(Ht)*L;return{x:ae.x+ve,y:ae.y+B}},R.prototype.getLinePath=function(){var v=this.getLocation(),m=v.center,L=v.radius,j=v.startAngle,ut=v.endAngle,gt=null;if(ut-j==Math.PI*2){var _t=m.x,Lt=m.y;gt=[["M",_t,Lt-L],["A",L,L,0,1,1,_t,Lt+L],["A",L,L,0,1,1,_t,Lt-L],["Z"]]}else{var Rt=ht(m,L,j),Ht=ht(m,L,ut),ae=Math.abs(ut-j)>Math.PI?1:0,ve=j>ut?0:1;gt=[["M",Rt.x,Rt.y],["A",L,L,0,ae,ve,Ht.x,Ht.y]]}return gt},R}(bi),Ri=Ei,Qi=S(6056),hi=S(45442),Wr=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},R.prototype.getContainer=function(){return this.get("container")},R.prototype.show=function(){var v=this.get("container");v.style.display="",this.set("visible",!0)},R.prototype.hide=function(){var v=this.get("container");v.style.display="none",this.set("visible",!1)},R.prototype.setCapture=function(v){var m=this.getContainer(),L=v?"auto":"none";m.style.pointerEvents=L,this.set("capture",v)},R.prototype.getBBox=function(){var v=this.getContainer(),m=parseFloat(v.style.left)||0,L=parseFloat(v.style.top)||0;return it(m,L,v.clientWidth,v.clientHeight)},R.prototype.clear=function(){var v=this.get("container");J(v)},R.prototype.destroy=function(){this.removeEvent(),this.removeDom(),mt.prototype.destroy.call(this)},R.prototype.init=function(){mt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},R.prototype.initCapture=function(){this.setCapture(this.get("capture"))},R.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},R.prototype.initDom=function(){},R.prototype.initContainer=function(){var v=this.get("container");if((0,d.isNil)(v)){v=this.createDom();var m=this.get("parent");(0,d.isString)(m)&&(m=document.getElementById(m),this.set("parent",m)),m.appendChild(v),this.set("container",v)}else(0,d.isString)(v)&&(v=document.getElementById(v),this.set("container",v));this.get("parent")||this.set("parent",v.parentNode)},R.prototype.resetStyles=function(){var v=this.get("domStyles"),m=this.get("defaultStyles");v?v=(0,d.deepMix)({},m,v):v=m,this.set("domStyles",v)},R.prototype.applyStyles=function(){var v=this.get("domStyles");if(!!v){var m=this.getContainer();this.applyChildrenStyles(m,v);var L=this.get("containerClassName");if(L&&x(m,L)){var j=v[L];(0,hi.Z)(m,j)}}},R.prototype.applyChildrenStyles=function(v,m){(0,d.each)(m,function(L,j){var ut=v.getElementsByClassName(j);(0,d.each)(ut,function(gt){(0,hi.Z)(gt,L)})})},R.prototype.applyStyle=function(v,m){var L=this.get("domStyles");(0,hi.Z)(m,L[v])},R.prototype.createDom=function(){var v=this.get("containerTpl");return(0,Qi.Z)(v)},R.prototype.initEvent=function(){},R.prototype.removeDom=function(){var v=this.get("container");v&&v.parentNode.removeChild(v)},R.prototype.removeEvent=function(){},R.prototype.updateInner=function(v){(0,d.hasKey)(v,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},R.prototype.resetPosition=function(){},R}(de),qi=Wr,xr="g2-crosshair",br=xr+"-line",kr=xr+"-text",Ji,sr=(Ji={},Ji[""+xr]={position:"relative"},Ji[""+br]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ji[""+kr]={position:"absolute",color:Kt.textColor,fontFamily:Kt.fontFamily},Ji),rn=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+xr+'"></div>',crosshairTpl:'<div class="'+br+'"></div>',textTpl:'<span class="'+kr+'">{content}</span>',domStyles:null,containerClassName:xr,defaultStyles:sr,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},R.prototype.render=function(){this.resetText(),this.resetPosition()},R.prototype.initCrossHair=function(){var v=this.getContainer(),m=this.get("crosshairTpl"),L=(0,Qi.Z)(m);v.appendChild(L),this.applyStyle(br,L),this.set("crosshairEl",L)},R.prototype.getTextPoint=function(){var v=this.getLocation(),m=v.start,L=v.end,j=this.get("text"),ut=j.position,gt=j.offset;return pe(m,L,ut,gt)},R.prototype.resetText=function(){var v=this.get("text"),m=this.get("textEl");if(v){var L=v.content;if(!m){var j=this.getContainer(),ut=(0,d.substitute)(this.get("textTpl"),v);m=(0,Qi.Z)(ut),j.appendChild(m),this.applyStyle(kr,m),this.set("textEl",m)}m.innerHTML=L}else m&&m.remove()},R.prototype.isVertical=function(v,m){return v.x===m.x},R.prototype.resetPosition=function(){var v=this.get("crosshairEl");v||(this.initCrossHair(),v=this.get("crosshairEl"));var m=this.get("start"),L=this.get("end"),j=Math.min(m.x,L.x),ut=Math.min(m.y,L.y);this.isVertical(m,L)?(0,hi.Z)(v,{width:"1px",height:ce(Math.abs(L.y-m.y))}):(0,hi.Z)(v,{height:"1px",width:ce(Math.abs(L.x-m.x))}),(0,hi.Z)(v,{top:ce(ut),left:ce(j)}),this.alignText()},R.prototype.alignText=function(){var v=this.get("textEl");if(v){var m=this.get("text").align,L=v.clientWidth,j=this.getTextPoint();switch(m){case"center":j.x=j.x-L/2;break;case"right":j.x=j.x-L;case"left":break}(0,hi.Z)(v,{top:ce(j.y),left:ce(j.x)})}},R.prototype.updateInner=function(v){(0,d.hasKey)(v,"text")&&this.resetText(),mt.prototype.updateInner.call(this,v)},R}(qi),_r=rn,wr=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Kt.lineColor}}}})},R.prototype.getLineType=function(){var v=this.get("line")||this.get("defaultCfg").line;return v.type},R.prototype.renderInner=function(v){this.drawGrid(v)},R.prototype.getAlternatePath=function(v,m){var L=this.getGridPath(v),j=m.slice(0).reverse(),ut=this.getGridPath(j,!0),gt=this.get("closed");return gt?L=L.concat(ut):(ut[0][0]="L",L=L.concat(ut),L.push(["Z"])),L},R.prototype.getPathStyle=function(){return this.get("line").style},R.prototype.drawGrid=function(v){var m=this,L=this.get("line"),j=this.get("items"),ut=this.get("alternateColor"),gt=null;(0,d.each)(j,function(_t,Lt){var Rt=_t.id||Lt;if(L){var Ht=m.getPathStyle(),ae=m.getElementId("line-"+Rt),ve=m.getGridPath(_t.points);m.addShape(v,{type:"path",name:"grid-line",id:ae,attrs:(0,d.mix)({path:ve},Ht)})}if(ut&&Lt>0){var B=m.getElementId("region-"+Rt),A=Lt%2==0;if((0,d.isString)(ut))A&&m.drawAlternateRegion(B,v,gt.points,_t.points,ut);else{var b=A?ut[1]:ut[0];m.drawAlternateRegion(B,v,gt.points,_t.points,b)}}gt=_t})},R.prototype.drawAlternateRegion=function(v,m,L,j,ut){var gt=this.getAlternatePath(L,j);this.addShape(m,{type:"path",id:v,name:"grid-region",attrs:{path:gt,fill:ut}})},R}(Pt),nn=wr;function kn(mt,R,v,m){var L=v-mt,j=m-R;return Math.sqrt(L*L+j*j)}var An=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{type:"circle",center:null,closed:!0})},R.prototype.getGridPath=function(v,m){var L=this.getLineType(),j=this.get("closed"),ut=[];if(v.length)if(L==="circle"){var gt=this.get("center"),_t=v[0],Lt=kn(gt.x,gt.y,_t.x,_t.y),Rt=m?0:1;j?(ut.push(["M",gt.x,gt.y-Lt]),ut.push(["A",Lt,Lt,0,0,Rt,gt.x,gt.y+Lt]),ut.push(["A",Lt,Lt,0,0,Rt,gt.x,gt.y-Lt]),ut.push(["Z"])):(0,d.each)(v,function(Ht,ae){ae===0?ut.push(["M",Ht.x,Ht.y]):ut.push(["A",Lt,Lt,0,0,Rt,Ht.x,Ht.y])})}else(0,d.each)(v,function(Ht,ae){ae===0?ut.push(["M",Ht.x,Ht.y]):ut.push(["L",Ht.x,Ht.y])}),j&&ut.push(["Z"]);return ut},R}(nn),Nr=An,an=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{type:"line"})},R.prototype.getGridPath=function(v){var m=[];return(0,d.each)(v,function(L,j){j===0?m.push(["M",L.x,L.y]):m.push(["L",L.x,L.y])}),m},R}(nn),on=an,_n=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},R.prototype.getLayoutBBox=function(){var v=mt.prototype.getLayoutBBox.call(this),m=this.get("x"),L=this.get("y"),j=this.get("offsetX"),ut=this.get("offsetY"),gt=this.get("maxWidth"),_t=this.get("maxHeight"),Lt=m+j,Rt=L+ut,Ht=v.maxX-Lt,ae=v.maxY-Rt;return gt&&(Ht=Math.min(Ht,gt)),_t&&(ae=Math.min(ae,_t)),it(Lt,Rt,Ht,ae)},R.prototype.setLocation=function(v){this.set("x",v.x),this.set("y",v.y),this.resetLocation()},R.prototype.resetLocation=function(){var v=this.get("x"),m=this.get("y"),L=this.get("offsetX"),j=this.get("offsetY");this.moveElementTo(this.get("group"),{x:v+L,y:m+j})},R.prototype.applyOffset=function(){this.resetLocation()},R.prototype.getDrawPoint=function(){return this.get("currentPoint")},R.prototype.setDrawPoint=function(v){return this.set("currentPoint",v)},R.prototype.renderInner=function(v){this.resetDraw(),this.get("title")&&this.drawTitle(v),this.drawLegendContent(v),this.get("background")&&this.drawBackground(v)},R.prototype.drawBackground=function(v){var m=this.get("background"),L=v.getBBox(),j=O(m.padding),ut=(0,w.__assign)({x:0,y:0,width:L.width+j[1]+j[3],height:L.height+j[0]+j[2]},m.style),gt=this.addShape(v,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:ut});gt.toBack()},R.prototype.drawTitle=function(v){var m=this.get("currentPoint"),L=this.get("title"),j=L.spacing,ut=L.style,gt=L.text,_t=this.addShape(v,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,w.__assign)({text:gt,x:m.x,y:m.y},ut)}),Lt=_t.getBBox();this.set("currentPoint",{x:m.x,y:Lt.maxY+j})},R.prototype.resetDraw=function(){var v=this.get("background"),m={x:0,y:0};if(v){var L=O(v.padding);m.x=L[3],m.y=L[0]}this.set("currentPoint",m)},R}(Pt),Tr=_n,Fn=function(mt){(0,w.__extends)(R,mt);function R(){var v=mt!==null&&mt.apply(this,arguments)||this;return v.currentPageIndex=1,v.totalPagesCnt=1,v.pageWidth=0,v.pageHeight=0,v.startX=0,v.startY=0,v.onNavigationBack=function(){var m=v.getElementByLocalId("item-group");if(v.currentPageIndex>1){v.currentPageIndex-=1,v.updateNavigation();var L=v.getCurrentNavigationMatrix();v.get("animate")?m.animate({matrix:L},100):m.attr({matrix:L})}},v.onNavigationAfter=function(){var m=v.getElementByLocalId("item-group");if(v.currentPageIndex<v.totalPagesCnt){v.currentPageIndex+=1,v.updateNavigation();var L=v.getCurrentNavigationMatrix();v.get("animate")?m.animate({matrix:L},100):m.attr({matrix:L})}},v}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:Kt.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Kt.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:Kt.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:Kt.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Kt.uncheckedColor},markerStyle:{fill:Kt.uncheckedColor,stroke:Kt.uncheckedColor}},inactive:{nameStyle:{fill:Kt.uncheckedColor},markerStyle:{opacity:.2}}}}})},R.prototype.isList=function(){return!0},R.prototype.getItems=function(){return this.get("items")},R.prototype.setItems=function(v){this.update({items:v})},R.prototype.updateItem=function(v,m){(0,d.mix)(v,m),this.clear(),this.render()},R.prototype.clearItems=function(){var v=this.getElementByLocalId("item-group");v&&v.clear()},R.prototype.setItemState=function(v,m,L){v[m]=L;var j=this.getElementByLocalId("item-"+v.id);if(j){var ut=this.getItems(),gt=ut.indexOf(v),_t=this.createOffScreenGroup(),Lt=this.drawItem(v,gt,this.getItemHeight(),_t);this.updateElements(Lt,j),this.clearUpdateStatus(j)}},R.prototype.hasState=function(v,m){return!!v[m]},R.prototype.getItemStates=function(v){var m=this.get("itemStates"),L=[];return(0,d.each)(m,function(j,ut){v[ut]&&L.push(ut)}),L},R.prototype.clearItemsState=function(v){var m=this,L=this.getItemsByState(v);(0,d.each)(L,function(j){m.setItemState(j,v,!1)})},R.prototype.getItemsByState=function(v){var m=this,L=this.getItems();return(0,d.filter)(L,function(j){return m.hasState(j,v)})},R.prototype.drawLegendContent=function(v){this.processItems(),this.drawItems(v)},R.prototype.processItems=function(){var v=this.get("items");(0,d.each)(v,function(m){m.id||(m.id=m.name)})},R.prototype.drawItems=function(v){var m=this,L=this.addGroup(v,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),j=this.addGroup(L,{id:this.getElementId("item-group"),name:"legend-item-group"}),ut=this.getItemHeight(),gt=this.get("itemWidth"),_t=this.get("itemSpacing"),Lt=this.get("currentPoint"),Rt=Lt.x,Ht=Lt.y,ae=this.get("layout"),ve=this.get("items"),B=!1,A=0,b=this.get("maxWidth"),M=this.get("maxHeight");(0,d.each)(ve,function(st,vt){var T=m.drawItem(st,vt,ut,j),U=T.getBBox(),rt=gt||U.width;rt>A&&(A=rt),ae==="horizontal"?(b&&b<Lt.x+rt-Rt&&(B=!0,Lt.x=Rt,Lt.y+=ut),m.moveElementTo(T,Lt),Lt.x+=rt+_t):(M&&M<Lt.y+ut-Ht&&(B=!0,Lt.x+=A+_t,Lt.y=Ht,A=0),m.moveElementTo(T,Lt),Lt.y+=ut)}),B&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=Rt,this.startY=Ht,this.adjustNavigation(v,j))},R.prototype.getItemHeight=function(){var v=this.get("itemHeight");if(!v){var m=this.get("itemName");m&&(v=m.style.fontSize+8)}return v},R.prototype.drawMarker=function(v,m,L,j){var ut=(0,w.__assign)((0,w.__assign)((0,w.__assign)({x:0,y:j/2},m.style),{symbol:(0,d.get)(L.marker,"symbol","circle")}),(0,d.get)(L.marker,"style",{})),gt=this.addShape(v,{type:"marker",id:this.getElementId("item-"+L.id+"-marker"),name:"legend-item-marker",attrs:ut}),_t=gt.getBBox();gt.attr("x",_t.width/2);var Lt=gt.attr(),Rt=Lt.stroke,Ht=Lt.fill;return Rt&&gt.set("isStroke",!0),Ht&&gt.set("isFill",!0),gt},R.prototype.drawItemText=function(v,m,L,j,ut,gt,_t){var Lt=L.formatter,Rt=(0,w.__assign)({x:gt,y:ut/2,text:Lt?Lt(j[m],j,_t):j[m]},L.style);return this.addShape(v,{type:"text",id:this.getElementId("item-"+j.id+"-"+m),name:"legend-item-"+m,attrs:Rt})},R.prototype.drawItem=function(v,m,L,j){var ut="item-"+v.id,gt=this.addGroup(j,{name:"legend-item-container",id:this.getElementId("item-container-"+ut),delegateObject:{item:v,index:m}}),_t=this.addGroup(gt,{name:"legend-item",id:this.getElementId(ut),delegateObject:{item:v,index:m}}),Lt=this.get("marker"),Rt=this.get("itemName"),Ht=this.get("itemValue"),ae=this.get("itemBackground"),ve=this.getLimitItemWidth(),B=0;if(Lt){var A=this.drawMarker(_t,Lt,v,L);B=A.getBBox().maxX+Lt.spacing}if(Rt){var b=this.drawItemText(_t,"name",Rt,v,L,B,m);ve&&ie(!0,b,(0,d.clamp)(ve-B,0,ve)),B=b.getBBox().maxX+Rt.spacing}if(Ht){var M=this.drawItemText(_t,"value",Ht,v,L,B,m);ve&&(Ht.alignRight?(M.attr({textAlign:"right",x:ve}),ie(!0,M,(0,d.clamp)(ve-B,0,ve),"head")):ie(!0,M,(0,d.clamp)(ve-B,0,ve)))}if(ae){var st=_t.getBBox(),vt=this.addShape(_t,{type:"rect",name:"legend-item-background",id:this.getElementId(ut+"-background"),attrs:(0,w.__assign)({x:0,y:0,width:st.width,height:L},ae.style)});vt.toBack()}return this.applyItemStates(v,_t),_t},R.prototype.adjustNavigation=function(v,m){var L=this,j=this.startX,ut=this.startY,gt=this.get("layout"),_t=m.findAll(function(rt){return rt.get("name")==="legend-item"}),Lt=this.get("maxWidth"),Rt=this.get("maxHeight"),Ht=this.get("itemWidth"),ae=this.get("itemSpacing"),ve=this.getItemHeight(),B=this.drawNavigation(v,gt,"00/00",12),A=B.getBBox(),b={x:j,y:ut},M=1,st=0,vt=0,T=0;if(gt==="horizontal")this.pageHeight=ve,(0,d.each)(_t,function(rt){var xt=rt.getBBox(),Ot=Ht||xt.width;(st&&st<b.x+Ot+ae||Lt<b.x+Ot+ae+A.width)&&(M===1&&(st=b.x+ae,L.pageWidth=st,L.moveElementTo(B,{x:Lt-ae-A.width-A.minX,y:b.y+ve/2-A.height/2-A.minY})),M+=1,b.x=j,b.y+=ve),L.moveElementTo(rt,b),rt.getParent().setClip({type:"rect",attrs:{x:b.x,y:b.y,width:Ot+ae,height:ve}}),b.x+=Ot+ae});else{(0,d.each)(_t,function(rt){var xt=rt.getBBox();xt.width>vt&&(vt=xt.width)}),T=vt,vt+=ae,Lt&&(vt=Math.min(Lt,vt),T=Math.min(Lt,T)),this.pageWidth=vt,this.pageHeight=Rt-Math.max(A.height,ve);var U=Math.floor(this.pageHeight/ve);(0,d.each)(_t,function(rt,xt){xt!==0&&xt%U==0&&(M+=1,b.x+=vt,b.y=ut),L.moveElementTo(rt,b),rt.getParent().setClip({type:"rect",attrs:{x:b.x,y:b.y,width:vt,height:ve}}),b.y+=ve}),this.totalPagesCnt=M,this.moveElementTo(B,{x:j+T/2-A.width/2-A.minX,y:Rt-A.height-A.minY})}this.pageHeight&&this.pageWidth&&m.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=M,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(B),m.attr("matrix",this.getCurrentNavigationMatrix())},R.prototype.drawNavigation=function(v,m,L,j){var ut={x:0,y:0},gt=this.addGroup(v,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),_t=this.drawArrow(gt,ut,"navigation-arrow-left",m==="horizontal"?"up":"left",j);_t.on("click",this.onNavigationBack);var Lt=_t.getBBox();ut.x+=Lt.width+2;var Rt=this.addShape(gt,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:ut.x,y:ut.y+j/2,text:L,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),Ht=Rt.getBBox();ut.x+=Ht.width+2;var ae=this.drawArrow(gt,ut,"navigation-arrow-right",m==="horizontal"?"down":"right",j);return ae.on("click",this.onNavigationAfter),gt},R.prototype.updateNavigation=function(v){var m=this.currentPageIndex+"/"+this.totalPagesCnt,L=v?v.getChildren()[1]:this.getElementByLocalId("navigation-text"),j=v?v.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),ut=v?v.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),gt=L.getBBox();L.attr("text",m);var _t=L.getBBox();L.attr("x",L.attr("x")-(_t.width-gt.width)/2),j.attr("opacity",this.currentPageIndex===1?.45:1),j.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),ut.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),ut.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},R.prototype.drawArrow=function(v,m,L,j,ut){var gt=m.x,_t=m.y,Lt={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Rt=this.addShape(v,{type:"path",id:this.getElementId(L),name:L,attrs:{path:[["M",gt+ut/2,_t],["L",gt,_t+ut],["L",gt+ut,_t+ut],["Z"]],fill:"#000",cursor:"pointer"}});return Rt.attr("matrix",at({x:gt+ut/2,y:_t+ut/2},Lt[j])),Rt},R.prototype.getCurrentNavigationMatrix=function(){var v=this,m=v.currentPageIndex,L=v.pageWidth,j=v.pageHeight,ut=this.get("layout"),gt=ut==="horizontal"?{x:0,y:j*(1-m)}:{x:L*(1-m),y:0};return et(gt)},R.prototype.applyItemStates=function(v,m){var L=this.getItemStates(v),j=L.length>0;if(j){var ut=m.getChildren(),gt=this.get("itemStates");(0,d.each)(ut,function(_t){var Lt=_t.get("name"),Rt=Lt.split("-")[2],Ht=wi(v,Rt,gt);Ht&&(_t.attr(Ht),Rt==="marker"&&!(_t.get("isStroke")&&_t.get("isFill"))&&(_t.get("isStroke")&&_t.attr("fill",null),_t.get("isFill")&&_t.attr("stroke",null)))})}},R.prototype.getLimitItemWidth=function(){var v=this.get("itemWidth"),m=this.get("maxItemWidth");return m?v&&(m=v<=m?v:m):v&&(m=v),m},R}(Tr),Lr=Fn,sn=1.4,Tn=.4,yn=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Kt.textColor,textBaseline:"middle",fontFamily:Kt.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Kt.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},R.prototype.isSlider=function(){return!0},R.prototype.getValue=function(){return this.getCurrentValue()},R.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},R.prototype.setRange=function(v,m){this.update({min:v,max:m})},R.prototype.setValue=function(v){var m=this.getValue();this.set("value",v);var L=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(L),this.delegateEmit("valuechanged",{originValue:m,value:v})},R.prototype.initEvent=function(){var v=this.get("group");this.bindSliderEvent(v),this.bindRailEvent(v),this.bindTrackEvent(v)},R.prototype.drawLegendContent=function(v){this.drawRail(v),this.drawLabels(v),this.fixedElements(v),this.resetTrack(v),this.resetTrackClip(v),this.get("slidable")&&this.resetHandlers(v)},R.prototype.bindSliderEvent=function(v){this.bindHandlersEvent(v)},R.prototype.bindHandlersEvent=function(v){var m=this;v.on("legend-handler-min:drag",function(L){var j=m.getValueByCanvasPoint(L.x,L.y),ut=m.getCurrentValue(),gt=ut[1];gt<j&&(gt=j),m.setValue([j,gt])}),v.on("legend-handler-max:drag",function(L){var j=m.getValueByCanvasPoint(L.x,L.y),ut=m.getCurrentValue(),gt=ut[0];gt>j&&(gt=j),m.setValue([gt,j])})},R.prototype.bindRailEvent=function(v){},R.prototype.bindTrackEvent=function(v){var m=this,L=null;v.on("legend-track:dragstart",function(j){L={x:j.x,y:j.y}}),v.on("legend-track:drag",function(j){if(!!L){var ut=m.getValueByCanvasPoint(L.x,L.y),gt=m.getValueByCanvasPoint(j.x,j.y),_t=m.getCurrentValue(),Lt=_t[1]-_t[0],Rt=m.getRange(),Ht=gt-ut;Ht<0?_t[0]+Ht>Rt.min?m.setValue([_t[0]+Ht,_t[1]+Ht]):m.setValue([Rt.min,Rt.min+Lt]):Ht>0&&(Ht>0&&_t[1]+Ht<Rt.max?m.setValue([_t[0]+Ht,_t[1]+Ht]):m.setValue([Rt.max-Lt,Rt.max])),L={x:j.x,y:j.y}}}),v.on("legend-track:dragend",function(j){L=null})},R.prototype.drawLabels=function(v){this.drawLabel("min",v),this.drawLabel("max",v)},R.prototype.drawLabel=function(v,m){var L=this.get("label"),j=L.style,ut=L.align,gt=this.get(v),_t=this.getLabelAlignAttrs(v,ut),Lt="label-"+v;this.addShape(m,{type:"text",id:this.getElementId(Lt),name:"legend-label-"+v,attrs:(0,w.__assign)((0,w.__assign)({x:0,y:0,text:gt},j),_t)})},R.prototype.getLabelAlignAttrs=function(v,m){var L=this.isVertical(),j="center",ut="middle";return L?(j="start",m!=="rail"?v==="min"?ut="top":ut="bottom":ut="top"):m!=="rail"?(ut="top",v==="min"?j="start":j="end"):(j="start",ut="middle"),{textAlign:j,textBaseline:ut}},R.prototype.getRailPath=function(v,m,L,j){var ut=this.get("rail"),gt=ut.size,_t=ut.defaultLength,Lt=ut.type,Rt=this.isVertical(),Ht=_t,ae=L,ve=j;ae||(ae=Rt?gt:Ht),ve||(ve=Rt?Ht:gt);var B=[];return Lt==="color"?(B.push(["M",v,m]),B.push(["L",v+ae,m]),B.push(["L",v+ae,m+ve]),B.push(["L",v,m+ve]),B.push(["Z"])):(B.push(["M",v+ae,m]),B.push(["L",v+ae,m+ve]),B.push(["L",v,m+ve]),B.push(["Z"])),B},R.prototype.drawRail=function(v){var m=this.get("rail"),L=m.style;this.addShape(v,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,w.__assign)({path:this.getRailPath(0,0)},L)})},R.prototype.getTrackColor=function(v){var m=v.length;if(!m)return null;if(m===1)return v[0];var L;this.isVertical()?L="l(90)":L="l(0)";for(var j=0;j<m;j++){var ut=j/(m-1);L+=" "+ut+":"+v[j]}return L},R.prototype.getTrackPath=function(v){var m=this.getRailShape(v),L=m.attr("path");return(0,d.clone)(L)},R.prototype.getClipTrackAttrs=function(v){var m=this.getCurrentValue(),L=m[0],j=m[1],ut=this.getRailBBox(v),gt=this.getPointByValue(L,v),_t=this.getPointByValue(j,v),Lt=this.isVertical(),Rt,Ht,ae,ve;return Lt?(Rt=ut.minX,Ht=gt.y,ae=ut.width,ve=_t.y-gt.y):(Rt=gt.x,Ht=ut.minY,ae=_t.x-gt.x,ve=ut.height),{x:Rt,y:Ht,width:ae,height:ve}},R.prototype.getTrackAttrs=function(v){var m=this.get("track"),L=this.get("colors"),j=this.getTrackPath(v);return(0,d.mix)({path:j,fill:this.getTrackColor(L)},m.style)},R.prototype.resetTrackClip=function(v){var m=v||this.get("group"),L=this.getElementId("track"),j=m.findById(L),ut=j.getClip(),gt=this.getClipTrackAttrs(v);ut?ut.attr(gt):j.setClip({type:"rect",attrs:gt})},R.prototype.resetTrack=function(v){var m=this.getElementId("track"),L=v.findById(m),j=this.getTrackAttrs(v);L?L.attr(j):this.addShape(v,{type:"path",id:m,draggable:this.get("slidable"),name:"legend-track",attrs:j})},R.prototype.getPointByValue=function(v,m){var L=this.getRange(),j=L.min,ut=L.max,gt=(v-j)/(ut-j),_t=this.getRailBBox(m),Lt=this.isVertical(),Rt={x:0,y:0};return Lt?(Rt.x=_t.minX+_t.width/2,Rt.y=nt(_t.minY,_t.maxY,gt)):(Rt.x=nt(_t.minX,_t.maxX,gt),Rt.y=_t.minY+_t.height/2),Rt},R.prototype.getRailShape=function(v){var m=v||this.get("group");return m.findById(this.getElementId("rail"))},R.prototype.getRailBBox=function(v){var m=this.getRailShape(v),L=m.getBBox();return L},R.prototype.getRailCanvasBBox=function(){var v=this.get("group"),m=v.findById(this.getElementId("rail")),L=m.getCanvasBBox();return L},R.prototype.isVertical=function(){return this.get("layout")==="vertical"},R.prototype.getValueByCanvasPoint=function(v,m){var L=this.getRange(),j=L.min,ut=L.max,gt=this.getRailCanvasBBox(),_t=this.isVertical(),Lt=this.get("step"),Rt;_t?Rt=(m-gt.minY)/gt.height:Rt=(v-gt.minX)/gt.width;var Ht=nt(j,ut,Rt);if(Lt){var ae=Math.round((Ht-j)/Lt);Ht=j+ae*Lt}return Ht>ut&&(Ht=ut),Ht<j&&(Ht=j),Ht},R.prototype.getCurrentValue=function(){var v=this.get("value");return v||(v=[this.get("min"),this.get("max")]),v},R.prototype.resetHandlers=function(v){var m=this.getCurrentValue(),L=m[0],j=m[1];this.resetHandler(v,"min",L),this.resetHandler(v,"max",j)},R.prototype.getHandlerPath=function(v,m){var L=this.isVertical(),j=[],ut=v.size,gt=m.x,_t=m.y,Lt=ut*sn,Rt=ut/2,Ht=ut/6;if(L){var ae=gt+Lt*Tn;j.push(["M",gt,_t]),j.push(["L",ae,_t+Rt]),j.push(["L",gt+Lt,_t+Rt]),j.push(["L",gt+Lt,_t-Rt]),j.push(["L",ae,_t-Rt]),j.push(["Z"]),j.push(["M",ae,_t+Ht]),j.push(["L",gt+Lt-2,_t+Ht]),j.push(["M",ae,_t-Ht]),j.push(["L",gt+Lt-2,_t-Ht])}else{var ve=_t+Lt*Tn;j.push(["M",gt,_t]),j.push(["L",gt-Rt,ve]),j.push(["L",gt-Rt,_t+Lt]),j.push(["L",gt+Rt,_t+Lt]),j.push(["L",gt+Rt,ve]),j.push(["Z"]),j.push(["M",gt-Ht,ve]),j.push(["L",gt-Ht,_t+Lt-2]),j.push(["M",gt+Ht,ve]),j.push(["L",gt+Ht,_t+Lt-2])}return j},R.prototype.resetHandler=function(v,m,L){var j=this.getPointByValue(L,v),ut=this.get("handler"),gt=this.getHandlerPath(ut,j),_t=this.getElementId("handler-"+m),Lt=v.findById(_t),Rt=this.isVertical();Lt?Lt.attr("path",gt):this.addShape(v,{type:"path",name:"legend-handler-"+m,draggable:!0,id:_t,attrs:(0,w.__assign)((0,w.__assign)({path:gt},ut.style),{cursor:Rt?"ns-resize":"ew-resize"})})},R.prototype.fixedElements=function(v){var m=v.findById(this.getElementId("rail")),L=v.findById(this.getElementId("label-min")),j=v.findById(this.getElementId("label-max")),ut=this.getDrawPoint();this.isVertical()?this.fixedVertail(L,j,m,ut):this.fixedHorizontal(L,j,m,ut)},R.prototype.fitRailLength=function(v,m,L,j){var ut=this.isVertical(),gt=ut?"height":"width",_t=this.get("label"),Lt=_t.align,Rt=_t.spacing,Ht=this.get("max"+(0,d.upperFirst)(gt));if(Ht){var ae=Lt==="rail"?L[gt]+v[gt]+m[gt]+Rt*2:L[gt],ve=ae-Ht;ve>0&&this.changeRailLength(j,gt,L[gt]-ve)}},R.prototype.changeRailLength=function(v,m,L){var j=v.getBBox(),ut;m==="height"?ut=this.getRailPath(j.x,j.y,j.width,L):ut=this.getRailPath(j.x,j.y,L,j.height),v.attr("path",ut)},R.prototype.changeRailPosition=function(v,m,L){var j=v.getBBox(),ut=this.getRailPath(m,L,j.width,j.height);v.attr("path",ut)},R.prototype.fixedHorizontal=function(v,m,L,j){var ut=this.get("label"),gt=ut.align,_t=ut.spacing,Lt=L.getBBox(),Rt=v.getBBox(),Ht=m.getBBox(),ae=Lt.height;this.fitRailLength(Rt,Ht,Lt,L),Lt=L.getBBox(),gt==="rail"?(v.attr({x:j.x,y:j.y+ae/2}),this.changeRailPosition(L,j.x+Rt.width+_t,j.y),m.attr({x:j.x+Rt.width+Lt.width+_t*2,y:j.y+ae/2})):gt==="top"?(v.attr({x:j.x,y:j.y}),m.attr({x:j.x+Lt.width,y:j.y}),this.changeRailPosition(L,j.x,j.y+Rt.height+_t)):(this.changeRailPosition(L,j.x,j.y),v.attr({x:j.x,y:j.y+Lt.height+_t}),m.attr({x:j.x+Lt.width,y:j.y+Lt.height+_t}))},R.prototype.fixedVertail=function(v,m,L,j){var ut=this.get("label"),gt=ut.align,_t=ut.spacing,Lt=L.getBBox(),Rt=v.getBBox(),Ht=m.getBBox();if(this.fitRailLength(Rt,Ht,Lt,L),Lt=L.getBBox(),gt==="rail")v.attr({x:j.x,y:j.y}),this.changeRailPosition(L,j.x,j.y+Rt.height+_t),m.attr({x:j.x,y:j.y+Rt.height+Lt.height+_t*2});else if(gt==="right")v.attr({x:j.x+Lt.width+_t,y:j.y}),this.changeRailPosition(L,j.x,j.y),m.attr({x:j.x+Lt.width+_t,y:j.y+Lt.height});else{var ae=Math.max(Rt.width,Ht.width);v.attr({x:j.x,y:j.y}),this.changeRailPosition(L,j.x+ae+_t,j.y),m.attr({x:j.x,y:j.y+Lt.height})}},R}(Tr),Dn=yn,Cr=S(55223),ln="g2-tooltip",mn="g2-tooltip-title",Bi="g2-tooltip-list",Rn="g2-tooltip-list-item",Ln="g2-tooltip-marker",lr="g2-tooltip-value",En="g2-tooltip-name",xn="g2-tooltip-crosshair-x",Pn="g2-tooltip-crosshair-y",Fr,Nn=(Fr={},Fr[""+ln]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Kt.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Fr[""+mn]={marginBottom:"4px"},Fr[""+Bi]={margin:"0px",listStyleType:"none",padding:"0px"},Fr[""+Rn]={listStyleType:"none",marginBottom:"4px"},Fr[""+Ln]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Fr[""+lr]={display:"inline-block",float:"right",marginLeft:"30px"},Fr[""+xn]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Fr[""+Pn]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Fr);function Gn(mt,R,v,m,L){var j={left:mt<L.x,right:mt+v>L.x+L.width,top:R<L.y,bottom:R+m>L.y+L.height};return j}function wa(mt,R,v,m,L,j){var ut=mt,gt=R;switch(j){case"left":ut=mt-m-v,gt=R-L/2;break;case"right":ut=mt+v,gt=R-L/2;break;case"top":ut=mt-m/2,gt=R-L-v;break;case"bottom":ut=mt-m/2,gt=R+v;break;default:ut=mt+v,gt=R-L-v;break}return{x:ut,y:gt}}function ta(mt,R,v,m,L,j,ut){var gt=wa(mt,R,v,m,L,j);if(ut){var _t=Gn(gt.x,gt.y,m,L,ut);j==="auto"?(_t.right&&(gt.x=Math.max(0,mt-m-v)),_t.top&&(gt.y=Math.max(0,R-L-v))):j==="top"||j==="bottom"?(_t.left&&(gt.x=ut.x),_t.right&&(gt.x=ut.x+ut.width-m),j==="top"&&_t.top&&(gt.y=R+v),j==="bottom"&&_t.bottom&&(gt.y=R-L-v)):(_t.top&&(gt.y=ut.y),_t.bottom&&(gt.y=ut.y+ut.height-L),j==="left"&&_t.left&&(gt.x=mt+v),j==="right"&&_t.right&&(gt.x=mt-m-v))}return gt}function Dr(mt,R){var v=!1;return(0,d.each)(R,function(m){if((0,d.hasKey)(mt,m))return v=!0,!1}),v}var On=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+ln+'"><div class="'+mn+'"></div><ul class="'+Bi+'"></ul></div>',itemTpl:'<li class="'+Rn+`" data-index={index}>
          <span class="`+Ln+`" style="background:{color}"></span>
          <span class="`+En+`">{name}</span>:
          <span class="`+lr+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+xn+'"></div>',yCrosshairTpl:'<div class="'+Pn+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:ln,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Nn})},R.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},R.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},R.prototype.show=function(){var v=this.getContainer();!v||this.destroyed||(this.set("visible",!0),(0,hi.Z)(v,{visibility:"visible"}),this.setCrossHairsVisible(!0))},R.prototype.hide=function(){var v=this.getContainer();!v||this.destroyed||(this.set("visible",!1),(0,hi.Z)(v,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},R.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},R.prototype.setLocation=function(v){this.set("x",v.x),this.set("y",v.y),this.resetPosition()},R.prototype.setCrossHairsVisible=function(v){var m=v?"":"none",L=this.get("xCrosshairDom"),j=this.get("yCrosshairDom");L&&(0,hi.Z)(L,{display:m}),j&&(0,hi.Z)(j,{display:m})},R.prototype.initContainer=function(){if(mt.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var v=this.getHtmlContentNode();this.get("parent").appendChild(v),this.set("container",v),this.resetStyles(),this.applyStyles()}},R.prototype.updateInner=function(v){this.get("customContent")?this.renderCustomContent():(Dr(v,["title","showTitle"])&&this.resetTitle(),(0,d.hasKey)(v,"items")&&this.renderItems()),mt.prototype.updateInner.call(this,v)},R.prototype.initDom=function(){this.cacheDoms()},R.prototype.removeDom=function(){mt.prototype.removeDom.call(this),this.clearCrosshairs()},R.prototype.resetPosition=function(){var v=this.get("x"),m=this.get("y"),L=this.get("offset"),j=this.getOffset(),ut=j.offsetX,gt=j.offsetY,_t=this.get("position"),Lt=this.get("region"),Rt=this.getContainer(),Ht=this.getBBox(),ae=Ht.width,ve=Ht.height,B;Lt&&(B=l(Lt));var A=ta(v,m,L,ae,ve,_t,B);(0,hi.Z)(Rt,{left:ce(A.x+ut),top:ce(A.y+gt)}),this.resetCrosshairs()},R.prototype.renderCustomContent=function(){var v=this.getHtmlContentNode(),m=this.get("parent"),L=this.get("container");L&&L.parentNode===m?m.replaceChild(v,L):m.appendChild(v),this.set("container",v),this.resetStyles(),this.applyStyles()},R.prototype.getHtmlContentNode=function(){var v,m=this.get("customContent");if(m){var L=m(this.get("title"),this.get("items"));(0,d.isElement)(L)?v=L:v=(0,Qi.Z)(L)}return v},R.prototype.cacheDoms=function(){var v=this.getContainer(),m=v.getElementsByClassName(mn)[0],L=v.getElementsByClassName(Bi)[0];this.set("titleDom",m),this.set("listDom",L)},R.prototype.resetTitle=function(){var v=this.get("title"),m=this.get("showTitle");m&&v?this.setTitle(v):this.setTitle("")},R.prototype.setTitle=function(v){var m=this.get("titleDom");m&&(m.innerText=v)},R.prototype.resetCrosshairs=function(){var v=this.get("crosshairsRegion"),m=this.get("crosshairs");if(!v||!m)this.clearCrosshairs();else{var L=l(v),j=this.get("xCrosshairDom"),ut=this.get("yCrosshairDom");m==="x"?(this.resetCrosshair("x",L),ut&&(ut.remove(),this.set("yCrosshairDom",null))):m==="y"?(this.resetCrosshair("y",L),j&&(j.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",L),this.resetCrosshair("y",L)),this.setCrossHairsVisible(this.get("visible"))}},R.prototype.resetCrosshair=function(v,m){var L=this.checkCrosshair(v),j=this.get(v);v==="x"?(0,hi.Z)(L,{left:ce(j),top:ce(m.y),height:ce(m.height)}):(0,hi.Z)(L,{top:ce(j),left:ce(m.x),width:ce(m.width)})},R.prototype.checkCrosshair=function(v){var m=v+"CrosshairDom",L=v+"CrosshairTpl",j="CROSSHAIR_"+v.toUpperCase(),ut=X[j],gt=this.get(m),_t=this.get("parent");return gt||(gt=(0,Qi.Z)(this.get(L)),this.applyStyle(ut,gt),_t.appendChild(gt),this.set(m,gt)),gt},R.prototype.renderItems=function(){this.clearItemDoms();var v=this.get("items"),m=this.get("itemTpl"),L=this.get("listDom");L&&((0,d.each)(v,function(j){var ut=Cr.default.toCSSGradient(j.color),gt=(0,w.__assign)((0,w.__assign)({},j),{color:ut}),_t=(0,d.substitute)(m,gt),Lt=(0,Qi.Z)(_t);L.appendChild(Lt)}),this.applyChildrenStyles(L,this.get("domStyles")))},R.prototype.clearItemDoms=function(){this.get("listDom")&&J(this.get("listDom"))},R.prototype.clearCrosshairs=function(){var v=this.get("xCrosshairDom"),m=this.get("yCrosshairDom");v&&v.remove(),m&&m.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},R}(qi),Yn=On,un={opacity:0},cn={stroke:"#C5C5C5",strokeOpacity:.85},bn={fill:"#CACED4",opacity:.85},hn=S(32093),ea=S(51082);function ia(mt){return(0,d.map)(mt,function(R,v){var m=v===0?"M":"L",L=R[0],j=R[1];return[m,L,j]})}function Rr(mt){return ia(mt)}function In(mt){if(mt.length<=2)return Rr(mt);var R=[];(0,d.each)(mt,function(ut){(0,d.isEqual)(ut,R.slice(R.length-2))||R.push(ut[0],ut[1])});var v=(0,hn.e9)(R,!1),m=(0,d.head)(mt),L=m[0],j=m[1];return v.unshift(["M",L,j]),v}function tr(mt,R,v,m){m===void 0&&(m=!0);var L=new ea.Linear({values:mt}),j=new ea.Category({values:(0,d.map)(mt,function(gt,_t){return _t})}),ut=(0,d.map)(mt,function(gt,_t){return[j.scale(_t)*R,v-L.scale(gt)*v]});return m?In(ut):Rr(ut)}function Ca(mt,R,v){var m=(0,w.__spreadArrays)(mt);return m.push(["L",R,0]),m.push(["L",0,v]),m.push(["Z"]),m}var Xn=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:un,lineStyle:cn,areaStyle:bn})},R.prototype.renderInner=function(v){var m=this.cfg,L=m.width,j=m.height,ut=m.data,gt=m.smooth,_t=m.isArea,Lt=m.backgroundStyle,Rt=m.lineStyle,Ht=m.areaStyle;this.addShape(v,{id:this.getElementId("background"),type:"rect",attrs:(0,w.__assign)({x:0,y:0,width:L,height:j},Lt)});var ae=tr(ut,L,j,gt);if(this.addShape(v,{id:this.getElementId("line"),type:"path",attrs:(0,w.__assign)({path:ae},Rt)}),_t){var ve=Ca(ae,L,j);this.addShape(v,{id:this.getElementId("area"),type:"path",attrs:(0,w.__assign)({path:ve},Ht)})}},R.prototype.applyOffset=function(){var v=this.cfg,m=v.x,L=v.y;this.moveElementTo(this.get("group"),{x:m,y:L})},R}(Pt),Sa=null,jn={fill:"#416180",opacity:.05},Si={fill:"#5B8FF9",opacity:.15,cursor:"move"},Hn=10,hr={width:Hn,height:24},Pi={textBaseline:"middle",fill:"#000",opacity:.45},ra="sliderchange",mi={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},fn=function(mt){(0,w.__extends)(R,mt);function R(){return mt!==null&&mt.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"handler",x:0,y:0,width:10,height:24,style:mi})},R.prototype.renderInner=function(v){var m=this.cfg,L=m.width,j=m.height,ut=m.style,gt=ut.fill,_t=ut.stroke,Lt=ut.radius,Rt=ut.opacity,Ht=ut.cursor;this.addShape(v,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:L,height:j,fill:gt,stroke:_t,radius:Lt,opacity:Rt,cursor:Ht}});var ae=1/3*L,ve=2/3*L,B=1/4*j,A=3/4*j;this.addShape(v,{id:this.getElementId("line-left"),type:"line",attrs:{x1:ae,y1:B,x2:ae,y2:A,stroke:_t,cursor:Ht}}),this.addShape(v,{id:this.getElementId("line-right"),type:"line",attrs:{x1:ve,y1:B,x2:ve,y2:A,stroke:_t,cursor:Ht}})},R.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},R.prototype.initEvent=function(){this.bindEvents()},R.prototype.bindEvents=function(){var v=this;this.get("group").on("mouseenter",function(){var m=v.get("style").highLightFill;v.getElementByLocalId("background").attr("fill",m),v.draw()}),this.get("group").on("mouseleave",function(){var m=v.get("style").fill;v.getElementByLocalId("background").attr("fill",m),v.draw()})},R.prototype.draw=function(){var v=this.get("container").get("canvas");v&&v.draw()},R}(Pt),Er=null,Ma=function(mt){(0,w.__extends)(R,mt);function R(){var v=mt!==null&&mt.apply(this,arguments)||this;return v.onMouseDown=function(m){return function(L){v.currentTarget=m;var j=L.originalEvent;j.stopPropagation(),j.preventDefault(),v.prevX=(0,d.get)(j,"touches.0.pageX",j.pageX),v.prevY=(0,d.get)(j,"touches.0.pageY",j.pageY);var ut=v.getContainerDOM();ut.addEventListener("mousemove",v.onMouseMove),ut.addEventListener("mouseup",v.onMouseUp),ut.addEventListener("mouseleave",v.onMouseUp),ut.addEventListener("touchmove",v.onMouseMove),ut.addEventListener("touchend",v.onMouseUp),ut.addEventListener("touchcancel",v.onMouseUp)}},v.onMouseMove=function(m){var L=v.cfg.width,j=[v.get("start"),v.get("end")];m.stopPropagation(),m.preventDefault();var ut=(0,d.get)(m,"touches.0.pageX",m.pageX),gt=(0,d.get)(m,"touches.0.pageY",m.pageY),_t=ut-v.prevX,Lt=v.adjustOffsetRange(_t/L);v.updateStartEnd(Lt),v.updateUI(v.getElementByLocalId("foreground"),v.getElementByLocalId("minText"),v.getElementByLocalId("maxText")),v.prevX=ut,v.prevY=gt,v.draw(),v.emit(ra,[v.get("start"),v.get("end")].sort()),v.delegateEmit("valuechanged",{originValue:j,value:[v.get("start"),v.get("end")]})},v.onMouseUp=function(){v.currentTarget&&(v.currentTarget=void 0);var m=v.getContainerDOM();m&&(m.removeEventListener("mousemove",v.onMouseMove),m.removeEventListener("mouseup",v.onMouseUp),m.removeEventListener("mouseleave",v.onMouseUp),m.removeEventListener("touchmove",v.onMouseMove),m.removeEventListener("touchend",v.onMouseUp),m.removeEventListener("touchcancel",v.onMouseUp))},v}return R.prototype.setRange=function(v,m){this.set("minLimit",v),this.set("maxLimit",m);var L=this.get("start"),j=this.get("end"),ut=(0,d.clamp)(L,v,m),gt=(0,d.clamp)(j,v,m);!this.get("isInit")&&(L!==ut||j!==gt)&&this.setValue([ut,gt])},R.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},R.prototype.setValue=function(v){var m=this.getRange();if((0,d.isArray)(v)&&v.length===2){var L=[this.get("start"),this.get("end")];this.update({start:(0,d.clamp)(v[0],m.min,m.max),end:(0,d.clamp)(v[1],m.min,m.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:L,value:v})}},R.prototype.getValue=function(){return[this.get("start"),this.get("end")]},R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:jn,foregroundStyle:Si,handlerStyle:hr,textStyle:Pi}})},R.prototype.update=function(v){var m=v.start,L=v.end,j=(0,w.__assign)({},v);(0,d.isNil)(m)||(j.start=(0,d.clamp)(m,0,1)),(0,d.isNil)(L)||(j.end=(0,d.clamp)(L,0,1)),mt.prototype.update.call(this,j),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},R.prototype.init=function(){this.set("start",(0,d.clamp)(this.get("start"),0,1)),this.set("end",(0,d.clamp)(this.get("end"),0,1)),mt.prototype.init.call(this)},R.prototype.renderInner=function(v){var m=this.cfg,L=m.start,j=m.end,ut=m.width,gt=m.height,_t=m.trendCfg,Lt=_t===void 0?{}:_t,Rt=m.minText,Ht=m.maxText,ae=m.backgroundStyle,ve=ae===void 0?{}:ae,B=m.foregroundStyle,A=B===void 0?{}:B,b=m.textStyle,M=b===void 0?{}:b,st=m.handlerStyle,vt=st===void 0?{}:st,T=L*ut,U=j*ut;(0,d.size)((0,d.get)(Lt,"data"))&&this.addComponent(v,(0,w.__assign)({component:Xn,id:this.getElementId("trend"),x:0,y:0,width:ut,height:gt},Lt)),this.addShape(v,{id:this.getElementId("background"),type:"rect",attrs:(0,w.__assign)({x:0,y:0,width:ut,height:gt},ve)});var rt=this.addShape(v,{id:this.getElementId("minText"),type:"text",attrs:(0,w.__assign)({y:gt/2,textAlign:"right",text:Rt,silent:!1},M)}),xt=this.addShape(v,{id:this.getElementId("maxText"),type:"text",attrs:(0,w.__assign)({y:gt/2,textAlign:"left",text:Ht,silent:!1},M)}),Ot=this.addShape(v,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,w.__assign)({y:0,height:gt},A)}),Nt=(0,d.get)(vt,"height",24);this.minHandler=this.addComponent(v,(0,w.__assign)({component:fn,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(gt-Nt)/2,width:ut,height:Nt,cursor:"ew-resize"},vt)),this.maxHandler=this.addComponent(v,(0,w.__assign)({component:fn,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(gt-Nt)/2,width:ut,height:Nt,cursor:"ew-resize"},vt)),this.updateUI(Ot,rt,xt)},R.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},R.prototype.initEvent=function(){this.bindEvents()},R.prototype.updateUI=function(v,m,L){var j=this.cfg,ut=j.start,gt=j.end,_t=j.width,Lt=j.minText,Rt=j.maxText,Ht=j.handlerStyle,ae=ut*_t,ve=gt*_t;v.attr("x",ae),v.attr("width",ve-ae);var B=(0,d.get)(Ht,"width",Hn);m.attr("text",Lt),L.attr("text",Rt);var A=this._dodgeText([ae,ve],m,L),b=A[0],M=A[1];this.minHandler&&(this.minHandler.update({x:ae-B/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,d.each)(b,function(st,vt){return m.attr(vt,st)}),this.maxHandler&&(this.maxHandler.update({x:ve-B/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,d.each)(M,function(st,vt){return L.attr(vt,st)})},R.prototype.bindEvents=function(){var v=this.get("group");v.on("handler-min:mousedown",this.onMouseDown("minHandler")),v.on("handler-min:touchstart",this.onMouseDown("minHandler")),v.on("handler-max:mousedown",this.onMouseDown("maxHandler")),v.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var m=v.findById(this.getElementId("foreground"));m.on("mousedown",this.onMouseDown("foreground")),m.on("touchstart",this.onMouseDown("foreground"))},R.prototype.adjustOffsetRange=function(v){var m=this.cfg,L=m.start,j=m.end;switch(this.currentTarget){case"minHandler":{var ut=0-L,gt=1-L;return Math.min(gt,Math.max(ut,v))}case"maxHandler":{var ut=0-j,gt=1-j;return Math.min(gt,Math.max(ut,v))}case"foreground":{var ut=0-L,gt=1-j;return Math.min(gt,Math.max(ut,v))}}},R.prototype.updateStartEnd=function(v){var m=this.cfg,L=m.start,j=m.end;switch(this.currentTarget){case"minHandler":L+=v;break;case"maxHandler":j+=v;break;case"foreground":L+=v,j+=v;break}this.set("start",L),this.set("end",j)},R.prototype._dodgeText=function(v,m,L){var j,ut,gt=this.cfg,_t=gt.handlerStyle,Lt=gt.width,Rt=2,Ht=(0,d.get)(_t,"width",Hn),ae=v[0],ve=v[1],B=!1;ae>ve&&(j=[ve,ae],ae=j[0],ve=j[1],ut=[L,m],m=ut[0],L=ut[1],B=!0);var A=m.getBBox(),b=L.getBBox(),M=A.width>ae-Rt?{x:ae+Ht/2+Rt,textAlign:"left"}:{x:ae-Ht/2-Rt,textAlign:"right"},st=b.width>Lt-ve-Rt?{x:ve-Ht/2-Rt,textAlign:"right"}:{x:ve+Ht/2+Rt,textAlign:"left"};return B?[st,M]:[M,st]},R.prototype.draw=function(){var v=this.get("container"),m=v&&v.get("canvas");m&&m.draw()},R.prototype.getContainerDOM=function(){var v=this.get("container"),m=v&&v.get("canvas");return m&&m.get("container")},R}(Pt),Vn=null,Qr=S(57817),wn={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},zn={default:wn,hover:{thumbColor:"rgba(0,0,0,0.2)"}},na=function(mt){(0,w.__extends)(R,mt);function R(){var v=mt!==null&&mt.apply(this,arguments)||this;return v.clearEvents=d.noop,v.onStartEvent=function(m){return function(L){v.isMobile=m,L.originalEvent.preventDefault();var j=m?(0,d.get)(L.originalEvent,"touches.0.clientX"):L.clientX,ut=m?(0,d.get)(L.originalEvent,"touches.0.clientY"):L.clientY;v.startPos=v.cfg.isHorizontal?j:ut,v.bindLaterEvent()}},v.bindLaterEvent=function(){var m=v.getContainerDOM(),L=[];v.isMobile?L=[(0,Qr.Z)(m,"touchmove",v.onMouseMove),(0,Qr.Z)(m,"touchend",v.onMouseUp),(0,Qr.Z)(m,"touchcancel",v.onMouseUp)]:L=[(0,Qr.Z)(m,"mousemove",v.onMouseMove),(0,Qr.Z)(m,"mouseup",v.onMouseUp),(0,Qr.Z)(m,"mouseleave",v.onMouseUp)],v.clearEvents=function(){L.forEach(function(j){j.remove()})}},v.onMouseMove=function(m){var L=v.cfg,j=L.isHorizontal,ut=L.thumbOffset;m.preventDefault();var gt=v.isMobile?(0,d.get)(m,"touches.0.clientX"):m.clientX,_t=v.isMobile?(0,d.get)(m,"touches.0.clientY"):m.clientY,Lt=j?gt:_t,Rt=Lt-v.startPos;v.startPos=Lt,v.updateThumbOffset(ut+Rt)},v.onMouseUp=function(m){m.preventDefault(),v.clearEvents()},v.onTrackClick=function(m){var L=v.cfg,j=L.isHorizontal,ut=L.x,gt=L.y,_t=L.thumbLen,Lt=v.getContainerDOM(),Rt=Lt.getBoundingClientRect(),Ht=m.clientX,ae=m.clientY,ve=j?Ht-Rt.left-ut-_t/2:ae-Rt.top-gt-_t/2,B=v.validateRange(ve);v.updateThumbOffset(B)},v.onThumbMouseOver=function(){var m=v.cfg.theme.hover.thumbColor;v.getElementByLocalId("thumb").attr("stroke",m),v.draw()},v.onThumbMouseOut=function(){var m=v.cfg.theme.default.thumbColor;v.getElementByLocalId("thumb").attr("stroke",m),v.draw()},v}return R.prototype.setRange=function(v,m){this.set("minLimit",v),this.set("maxLimit",m);var L=this.getValue(),j=(0,d.clamp)(L,v,m);L!==j&&!this.get("isInit")&&this.setValue(j)},R.prototype.getRange=function(){var v=this.get("minLimit")||0,m=this.get("maxLimit")||1;return{min:v,max:m}},R.prototype.setValue=function(v){var m=this.getRange(),L=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,d.clamp)(v,m.min,m.max)}),this.delegateEmit("valuechange",{originalValue:L,value:this.getValue()})},R.prototype.getValue=function(){return(0,d.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},R.prototype.getDefaultCfg=function(){var v=mt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},v),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:zn})},R.prototype.renderInner=function(v){this.renderTrackShape(v),this.renderThumbShape(v)},R.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},R.prototype.initEvent=function(){this.bindEvents()},R.prototype.renderTrackShape=function(v){var m=this.cfg,L=m.trackLen,j=m.theme,ut=j===void 0?{default:{}}:j,gt=ut.default,_t=gt.lineCap,Lt=gt.trackColor,Rt=gt.size,Ht=this.get("isHorizontal")?{x1:0+Rt/2,y1:Rt/2,x2:L-Rt/2,y2:Rt/2,lineWidth:Rt,stroke:Lt,lineCap:_t}:{x1:Rt/2,y1:0+Rt/2,x2:Rt/2,y2:L-Rt/2,lineWidth:Rt,stroke:Lt,lineCap:_t};return this.addShape(v,{id:this.getElementId("track"),name:"track",type:"line",attrs:Ht})},R.prototype.renderThumbShape=function(v){var m=this.cfg,L=m.thumbOffset,j=m.thumbLen,ut=m.theme,gt=ut===void 0?{default:{}}:ut,_t=gt.default,Lt=_t.size,Rt=_t.lineCap,Ht=_t.thumbColor,ae=this.get("isHorizontal")?{x1:L+Lt/2,y1:Lt/2,x2:L+j-Lt/2,y2:Lt/2,lineWidth:Lt,stroke:Ht,lineCap:Rt,cursor:"default"}:{x1:Lt/2,y1:L+Lt/2,x2:Lt/2,y2:L+j-Lt/2,lineWidth:Lt,stroke:Ht,lineCap:Rt,cursor:"default"};return this.addShape(v,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:ae})},R.prototype.bindEvents=function(){var v=this.get("group");v.on("mousedown",this.onStartEvent(!1)),v.on("mouseup",this.onMouseUp),v.on("touchstart",this.onStartEvent(!0)),v.on("touchend",this.onMouseUp);var m=v.findById(this.getElementId("track"));m.on("click",this.onTrackClick);var L=v.findById(this.getElementId("thumb"));L.on("mouseover",this.onThumbMouseOver),L.on("mouseout",this.onThumbMouseOut)},R.prototype.getContainerDOM=function(){var v=this.get("container"),m=v&&v.get("canvas");return m&&m.get("container")},R.prototype.validateRange=function(v){var m=this.cfg,L=m.thumbLen,j=m.trackLen,ut=v;return v+L>j?ut=j-L:v+L<L&&(ut=0),ut},R.prototype.draw=function(){var v=this.get("container"),m=v&&v.get("canvas");m&&m.draw()},R.prototype.updateThumbOffset=function(v){var m=this.cfg,L=m.thumbOffset,j=m.isHorizontal,ut=m.thumbLen,gt=m.size,_t=this.validateRange(v);if(_t!==L){var Lt=this.getElementByLocalId("thumb");j?Lt.attr({x1:_t+gt/2,x2:_t+ut-gt/2}):Lt.attr({y1:_t+gt/2,y2:_t+ut-gt/2}),this.emitOffsetChange(_t)}},R.prototype.emitOffsetChange=function(v){var m=this.cfg,L=m.thumbOffset,j=m.trackLen,ut=m.thumbLen;this.cfg.thumbOffset=v,this.emit("scrollchange",{thumbOffset:v,ratio:(0,d.clamp)(v/(j-ut),0,1)}),this.delegateEmit("valuechange",{originalValue:L,value:v})},R}(Pt)},15110:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(62117),K=S(32409),Q=S(49242),Z={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},q=function(G){N.__extends(z,G);function z($){var F=G.call(this,$)||this;return F.initCfg(),F}return z.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},z.prototype.clear=function(){},z.prototype.update=function($){var F=this,X=this.get("defaultCfg");Q.each($,function(D,w){var d=F.get(w),I=D;d!==D&&(Q.isObject(D)&&X[w]&&(I=Q.deepMix({},X[w],D)),F.set(w,I))}),this.updateInner($),this.afterUpdate($)},z.prototype.updateInner=function($){},z.prototype.afterUpdate=function($){Q.hasKey($,"visible")&&($.visible?this.show():this.hide()),Q.hasKey($,"capture")&&this.setCapture($.capture)},z.prototype.getLayoutBBox=function(){return this.getBBox()},z.prototype.getLocationType=function(){return this.get("locationType")},z.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},z.prototype.setOffset=function($,F){this.update({offsetX:$,offsetY:F})},z.prototype.setLocation=function($){var F=N.__assign({},$);this.update(F)},z.prototype.getLocation=function(){var $=this,F={},X=this.get("locationType"),D=Z[X];return Q.each(D,function(w){F[w]=$.get(w)}),F},z.prototype.isList=function(){return!1},z.prototype.isSlider=function(){return!1},z.prototype.init=function(){},z.prototype.initCfg=function(){var $=this,F=this.get("defaultCfg");Q.each(F,function(X,D){var w=$.get(D);if(Q.isObject(w)){var d=Q.deepMix({},X,w);$.set(D,d)}})},z}(K.Base);C.default=q},51964:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(62117),K=S(80478),Q=S(49242),Z=S(11594),q=S(15110),G=function(z){N.__extends($,z);function $(){return z!==null&&z.apply(this,arguments)||this}return $.prototype.getDefaultCfg=function(){var F=z.prototype.getDefaultCfg.call(this);return N.__assign(N.__assign({},F),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},$.prototype.getContainer=function(){return this.get("container")},$.prototype.show=function(){var F=this.get("container");F.style.display="",this.set("visible",!0)},$.prototype.hide=function(){var F=this.get("container");F.style.display="none",this.set("visible",!1)},$.prototype.setCapture=function(F){var X=this.getContainer(),D=F?"auto":"none";X.style.pointerEvents=D,this.set("capture",F)},$.prototype.getBBox=function(){var F=this.getContainer(),X=parseFloat(F.style.left)||0,D=parseFloat(F.style.top)||0;return Z.createBBox(X,D,F.clientWidth,F.clientHeight)},$.prototype.clear=function(){var F=this.get("container");Z.clearDom(F)},$.prototype.destroy=function(){this.removeEvent(),this.removeDom(),z.prototype.destroy.call(this)},$.prototype.init=function(){z.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},$.prototype.initCapture=function(){this.setCapture(this.get("capture"))},$.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},$.prototype.initDom=function(){},$.prototype.initContainer=function(){var F=this.get("container");if(Q.isNil(F)){F=this.createDom();var X=this.get("parent");Q.isString(X)&&(X=document.getElementById(X),this.set("parent",X)),X.appendChild(F),this.set("container",F)}else Q.isString(F)&&(F=document.getElementById(F),this.set("container",F));this.get("parent")||this.set("parent",F.parentNode)},$.prototype.resetStyles=function(){var F=this.get("domStyles"),X=this.get("defaultStyles");F?F=Q.deepMix({},X,F):F=X,this.set("domStyles",F)},$.prototype.applyStyles=function(){var F=this.get("domStyles");if(!!F){var X=this.getContainer();this.applyChildrenStyles(X,F);var D=this.get("containerClassName");if(D&&Z.hasClass(X,D)){var w=F[D];K.modifyCSS(X,w)}}},$.prototype.applyChildrenStyles=function(F,X){Q.each(X,function(D,w){var d=F.getElementsByClassName(w);Q.each(d,function(I){K.modifyCSS(I,D)})})},$.prototype.applyStyle=function(F,X){var D=this.get("domStyles");K.modifyCSS(X,D[F])},$.prototype.createDom=function(){var F=this.get("containerTpl");return K.createDom(F)},$.prototype.initEvent=function(){},$.prototype.removeDom=function(){var F=this.get("container");F&&F.parentNode.removeChild(F)},$.prototype.removeEvent=function(){},$.prototype.updateInner=function(F){Q.hasKey(F,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},$.prototype.resetPosition=function(){},$}(q.default);C.default=G},7755:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.CROSSHAIR_Y=C.CROSSHAIR_X=C.NAME_CLASS=C.VALUE_CLASS=C.MARKER_CLASS=C.LIST_ITEM_CLASS=C.LIST_CLASS=C.TITLE_CLASS=C.CONTAINER_CLASS=void 0,C.CONTAINER_CLASS="g2-tooltip",C.TITLE_CLASS="g2-tooltip-title",C.LIST_CLASS="g2-tooltip-list",C.LIST_ITEM_CLASS="g2-tooltip-list-item",C.MARKER_CLASS="g2-tooltip-marker",C.VALUE_CLASS="g2-tooltip-value",C.NAME_CLASS="g2-tooltip-name",C.CROSSHAIR_X="g2-tooltip-crosshair-x",C.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(oe,C,S){"use strict";var N;Object.defineProperty(C,"__esModule",{value:!0});var K=S(52782),Q=S(7755);C.default=(N={},N[""+Q.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:K.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},N[""+Q.TITLE_CLASS]={marginBottom:"4px"},N[""+Q.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},N[""+Q.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},N[""+Q.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},N[""+Q.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},N[""+Q.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},N[""+Q.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},N)},88373:function(oe,C,S){"use strict";var N;N={value:!0};var K=S(62117),Q=S(55223),Z=S(80478),q=S(49242),G=S(51964),z=S(11594),$=S(7755),F=S(55225),X=S(51227);function D(d,I){var k=!1;return q.each(I,function(E){if(q.hasKey(d,E))return k=!0,!1}),k}var w=function(d){K.__extends(I,d);function I(){return d!==null&&d.apply(this,arguments)||this}return I.prototype.getDefaultCfg=function(){var k=d.prototype.getDefaultCfg.call(this);return K.__assign(K.__assign({},k),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+$.CONTAINER_CLASS+'"><div class="'+$.TITLE_CLASS+'"></div><ul class="'+$.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+$.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+$.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+$.NAME_CLASS+`">{name}</span>:
          <span class="`+$.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+$.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+$.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:$.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:F.default})},I.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},I.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},I.prototype.show=function(){var k=this.getContainer();!k||this.destroyed||(this.set("visible",!0),Z.modifyCSS(k,{visibility:"visible"}),this.setCrossHairsVisible(!0))},I.prototype.hide=function(){var k=this.getContainer();!k||this.destroyed||(this.set("visible",!1),Z.modifyCSS(k,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},I.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},I.prototype.setLocation=function(k){this.set("x",k.x),this.set("y",k.y),this.resetPosition()},I.prototype.setCrossHairsVisible=function(k){var E=k?"":"none",P=this.get("xCrosshairDom"),Y=this.get("yCrosshairDom");P&&Z.modifyCSS(P,{display:E}),Y&&Z.modifyCSS(Y,{display:E})},I.prototype.initContainer=function(){if(d.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var k=this.getHtmlContentNode();this.get("parent").appendChild(k),this.set("container",k),this.resetStyles(),this.applyStyles()}},I.prototype.updateInner=function(k){this.get("customContent")?this.renderCustomContent():(D(k,["title","showTitle"])&&this.resetTitle(),q.hasKey(k,"items")&&this.renderItems()),d.prototype.updateInner.call(this,k)},I.prototype.initDom=function(){this.cacheDoms()},I.prototype.removeDom=function(){d.prototype.removeDom.call(this),this.clearCrosshairs()},I.prototype.resetPosition=function(){var k=this.get("x"),E=this.get("y"),P=this.get("offset"),Y=this.getOffset(),at=Y.offsetX,et=Y.offsetY,ot=this.get("position"),ft=this.get("region"),ct=this.getContainer(),bt=this.getBBox(),tt=bt.width,O=bt.height,J;ft&&(J=z.regionToBBox(ft));var x=X.getAlignPoint(k,E,P,tt,O,ot,J);Z.modifyCSS(ct,{left:z.toPx(x.x+at),top:z.toPx(x.y+et)}),this.resetCrosshairs()},I.prototype.renderCustomContent=function(){var k=this.getHtmlContentNode(),E=this.get("parent"),P=this.get("container");P&&P.parentNode===E?E.replaceChild(k,P):E.appendChild(k),this.set("container",k),this.resetStyles(),this.applyStyles()},I.prototype.getHtmlContentNode=function(){var k,E=this.get("customContent");if(E){var P=E(this.get("title"),this.get("items"));q.isElement(P)?k=P:k=Z.createDom(P)}return k},I.prototype.cacheDoms=function(){var k=this.getContainer(),E=k.getElementsByClassName($.TITLE_CLASS)[0],P=k.getElementsByClassName($.LIST_CLASS)[0];this.set("titleDom",E),this.set("listDom",P)},I.prototype.resetTitle=function(){var k=this.get("title"),E=this.get("showTitle");E&&k?this.setTitle(k):this.setTitle("")},I.prototype.setTitle=function(k){var E=this.get("titleDom");E&&(E.innerText=k)},I.prototype.resetCrosshairs=function(){var k=this.get("crosshairsRegion"),E=this.get("crosshairs");if(!k||!E)this.clearCrosshairs();else{var P=z.regionToBBox(k),Y=this.get("xCrosshairDom"),at=this.get("yCrosshairDom");E==="x"?(this.resetCrosshair("x",P),at&&(at.remove(),this.set("yCrosshairDom",null))):E==="y"?(this.resetCrosshair("y",P),Y&&(Y.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",P),this.resetCrosshair("y",P)),this.setCrossHairsVisible(this.get("visible"))}},I.prototype.resetCrosshair=function(k,E){var P=this.checkCrosshair(k),Y=this.get(k);k==="x"?Z.modifyCSS(P,{left:z.toPx(Y),top:z.toPx(E.y),height:z.toPx(E.height)}):Z.modifyCSS(P,{top:z.toPx(Y),left:z.toPx(E.x),width:z.toPx(E.width)})},I.prototype.checkCrosshair=function(k){var E=k+"CrosshairDom",P=k+"CrosshairTpl",Y="CROSSHAIR_"+k.toUpperCase(),at=$[Y],et=this.get(E),ot=this.get("parent");return et||(et=Z.createDom(this.get(P)),this.applyStyle(at,et),ot.appendChild(et),this.set(E,et)),et},I.prototype.renderItems=function(){this.clearItemDoms();var k=this.get("items"),E=this.get("itemTpl"),P=this.get("listDom");P&&(q.each(k,function(Y){var at=Q.default.toCSSGradient(Y.color),et=K.__assign(K.__assign({},Y),{color:at}),ot=q.substitute(E,et),ft=Z.createDom(ot);P.appendChild(ft)}),this.applyChildrenStyles(P,this.get("domStyles")))},I.prototype.clearItemDoms=function(){this.get("listDom")&&z.clearDom(this.get("listDom"))},I.prototype.clearCrosshairs=function(){var k=this.get("xCrosshairDom"),E=this.get("yCrosshairDom");k&&k.remove(),E&&E.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},I}(G.default);C.Z=w},51227:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getAlignPoint=C.getPointByPosition=C.getOutSides=void 0;function S(Q,Z,q,G,z){var $={left:Q<z.x,right:Q+q>z.x+z.width,top:Z<z.y,bottom:Z+G>z.y+z.height};return $}C.getOutSides=S;function N(Q,Z,q,G,z,$){var F=Q,X=Z;switch($){case"left":F=Q-G-q,X=Z-z/2;break;case"right":F=Q+q,X=Z-z/2;break;case"top":F=Q-G/2,X=Z-z-q;break;case"bottom":F=Q-G/2,X=Z+q;break;default:F=Q+q,X=Z-z-q;break}return{x:F,y:X}}C.getPointByPosition=N;function K(Q,Z,q,G,z,$,F){var X=N(Q,Z,q,G,z,$);if(F){var D=S(X.x,X.y,G,z,F);$==="auto"?(D.right&&(X.x=Math.max(0,Q-G-q)),D.top&&(X.y=Math.max(0,Z-z-q))):$==="top"||$==="bottom"?(D.left&&(X.x=F.x),D.right&&(X.x=F.x+F.width-G),$==="top"&&D.top&&(X.y=Z+q),$==="bottom"&&D.bottom&&(X.y=Z-z-q)):(D.top&&(X.y=F.y),D.bottom&&(X.y=F.y+F.height-z),$==="left"&&D.left&&(X.x=Q+q),$==="right"&&D.right&&(X.x=Q-G-q))}return X}C.getAlignPoint=K},31207:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.propagationDelegate=void 0;var N=S(66192);function K(Q,Z,q){var G=new N.default(Z,q);G.target=Q,G.propagationPath.push(Q),Q.emitDelegation(Z,G);for(var z=Q.getParent();z;)z.emitDelegation(Z,G),G.propagationPath.push(z),z=z.getParent()}C.propagationDelegate=K},52782:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getTextPoint=C.toPx=C.updateClip=C.getBBoxWithClip=C.mergeBBox=C.intersectBBox=C.near=C.wait=C.distance=C.getCirclePoint=C.getValueByPercent=C.createBBox=C.pointsToBBox=C.regionToBBox=C.hasClass=C.clearDom=C.formatPadding=void 0;var N=S(49242);function K(P){var Y=0,at=0,et=0,ot=0;return N.isNumber(P)?Y=at=et=ot=P:N.isArray(P)&&(Y=P[0],et=N.isNil(P[1])?P[0]:P[1],ot=N.isNil(P[2])?P[0]:P[2],at=N.isNil(P[3])?et:P[3]),[Y,et,ot,at]}C.formatPadding=K;function Q(P){for(var Y=P.childNodes,at=Y.length,et=at-1;et>=0;et--)P.removeChild(Y[et])}C.clearDom=Q;function Z(P,Y){return!!P.className.match(new RegExp("(\\s|^)"+Y+"(\\s|$)"))}C.hasClass=Z;function q(P){var Y=P.start,at=P.end,et=Math.min(Y.x,at.x),ot=Math.min(Y.y,at.y),ft=Math.max(Y.x,at.x),ct=Math.max(Y.y,at.y);return{x:et,y:ot,minX:et,minY:ot,maxX:ft,maxY:ct,width:ft-et,height:ct-ot}}C.regionToBBox=q;function G(P){var Y=P.map(function(bt){return bt.x}),at=P.map(function(bt){return bt.y}),et=Math.min.apply(Math,Y),ot=Math.min.apply(Math,at),ft=Math.max.apply(Math,Y),ct=Math.max.apply(Math,at);return{x:et,y:ot,minX:et,minY:ot,maxX:ft,maxY:ct,width:ft-et,height:ct-ot}}C.pointsToBBox=G;function z(P,Y,at,et){return{x:P,y:Y,width:at,height:et,minX:P,minY:Y,maxX:P+at,maxY:Y+et}}C.createBBox=z;function $(P,Y,at){return(1-at)*P+Y*at}C.getValueByPercent=$;function F(P,Y,at){return{x:P.x+Math.cos(at)*Y,y:P.y+Math.sin(at)*Y}}C.getCirclePoint=F;function X(P,Y){var at=Y.x-P.x,et=Y.y-P.y;return Math.sqrt(at*at+et*et)}C.distance=X,C.wait=function(P){return new Promise(function(Y){setTimeout(Y,P)})},C.near=function(P,Y){return[P,Y].includes(Infinity)?Math.abs(P)===Math.abs(Y):Math.abs(P-Y)<Math.pow(Number.EPSILON,.5)};function D(P,Y){var at=Math.max(P.minX,Y.minX),et=Math.max(P.minY,Y.minY),ot=Math.min(P.maxX,Y.maxX),ft=Math.min(P.maxY,Y.maxY);return z(at,et,ot-at,ft-et)}C.intersectBBox=D;function w(P,Y){var at=Math.min(P.minX,Y.minX),et=Math.min(P.minY,Y.minY),ot=Math.max(P.maxX,Y.maxX),ft=Math.max(P.maxY,Y.maxY);return z(at,et,ot-at,ft-et)}C.mergeBBox=w;function d(P){var Y=P.getClip(),at=Y&&Y.getBBox(),et;if(!P.isGroup())et=P.getBBox();else{var ot=Infinity,ft=-Infinity,ct=Infinity,bt=-Infinity,tt=P.getChildren();tt.length>0?N.each(tt,function(O){if(O.get("visible")){if(O.isGroup()&&O.get("children").length===0)return!0;var J=d(O),x=O.applyToMatrix([J.minX,J.minY,1]),l=O.applyToMatrix([J.minX,J.maxY,1]),W=O.applyToMatrix([J.maxX,J.minY,1]),it=O.applyToMatrix([J.maxX,J.maxY,1]),nt=Math.min(x[0],l[0],W[0],it[0]),ht=Math.max(x[0],l[0],W[0],it[0]),y=Math.min(x[1],l[1],W[1],it[1]),V=Math.max(x[1],l[1],W[1],it[1]);nt<ot&&(ot=nt),ht>ft&&(ft=ht),y<ct&&(ct=y),V>bt&&(bt=V)}}):(ot=0,ft=0,ct=0,bt=0),et=z(ot,ct,ft-ot,bt-ct)}return at?D(et,at):et}C.getBBoxWithClip=d;function I(P,Y){if(!(!P.getClip()&&!Y.getClip())){var at=Y.getClip();if(!at){P.setClip(null);return}var et={type:at.get("type"),attrs:at.attr()};P.setClip(et)}}C.updateClip=I;function k(P){return P+"px"}C.toPx=k;function E(P,Y,at,et){var ot=X(P,Y),ft=et/ot,ct=0;return at==="start"?ct=0-ft:at==="end"&&(ct=1+ft),{x:$(P.x,Y.x,ct),y:$(P.y,Y.y,ct)}}C.getTextPoint=E},13541:function(oe,C,S){"use strict";S.r(C),S.d(C,{Coordinate:function(){return z},getCoordinate:function(){return E},registerCoordinate:function(){return P}});var N=S(70655),K=S(77160),Q=S(35600),Z=S(31506),q=S(49242),G=function(){function Y(at){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var et=at.start,ot=at.end,ft=at.matrix,ct=ft===void 0?[1,0,0,0,1,0,0,0,1]:ft,bt=at.isTransposed,tt=bt===void 0?!1:bt;this.start=et,this.end=ot,this.matrix=ct,this.originalMatrix=(0,N.__spreadArray)([],ct),this.isTransposed=tt}return Y.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},Y.prototype.update=function(at){(0,q.assign)(this,at),this.initial()},Y.prototype.convertDim=function(at,et){var ot,ft=this[et],ct=ft.start,bt=ft.end;return this.isReflect(et)&&(ot=[bt,ct],ct=ot[0],bt=ot[1]),ct+at*(bt-ct)},Y.prototype.invertDim=function(at,et){var ot,ft=this[et],ct=ft.start,bt=ft.end;return this.isReflect(et)&&(ot=[bt,ct],ct=ot[0],bt=ot[1]),(at-ct)/(bt-ct)},Y.prototype.applyMatrix=function(at,et,ot){ot===void 0&&(ot=0);var ft=this.matrix,ct=[at,et,ot];return K.transformMat3(ct,ct,ft),ct},Y.prototype.invertMatrix=function(at,et,ot){ot===void 0&&(ot=0);var ft=this.matrix,ct=Q.invert([0,0,0,0,0,0,0,0,0],ft),bt=[at,et,ot];return ct&&K.transformMat3(bt,bt,ct),bt},Y.prototype.convert=function(at){var et=this.convertPoint(at),ot=et.x,ft=et.y,ct=this.applyMatrix(ot,ft,1);return{x:ct[0],y:ct[1]}},Y.prototype.invert=function(at){var et=this.invertMatrix(at.x,at.y,1);return this.invertPoint({x:et[0],y:et[1]})},Y.prototype.rotate=function(at){var et=this.matrix,ot=this.center;return Z.leftTranslate(et,et,[-ot.x,-ot.y]),Z.leftRotate(et,et,at),Z.leftTranslate(et,et,[ot.x,ot.y]),this},Y.prototype.reflect=function(at){return at==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},Y.prototype.scale=function(at,et){var ot=this.matrix,ft=this.center;return Z.leftTranslate(ot,ot,[-ft.x,-ft.y]),Z.leftScale(ot,ot,[at,et]),Z.leftTranslate(ot,ot,[ft.x,ft.y]),this},Y.prototype.translate=function(at,et){var ot=this.matrix;return Z.leftTranslate(ot,ot,[at,et]),this},Y.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},Y.prototype.getCenter=function(){return this.center},Y.prototype.getWidth=function(){return this.width},Y.prototype.getHeight=function(){return this.height},Y.prototype.getRadius=function(){return this.radius},Y.prototype.isReflect=function(at){return at==="x"?this.isReflectX:this.isReflectY},Y.prototype.resetMatrix=function(at){this.matrix=at||(0,N.__spreadArray)([],this.originalMatrix)},Y}(),z=G,$=function(Y){(0,N.__extends)(at,Y);function at(et){var ot=Y.call(this,et)||this;return ot.isRect=!0,ot.type="cartesian",ot.initial(),ot}return at.prototype.initial=function(){Y.prototype.initial.call(this);var et=this.start,ot=this.end;this.x={start:et.x,end:ot.x},this.y={start:et.y,end:ot.y}},at.prototype.convertPoint=function(et){var ot,ft=et.x,ct=et.y;return this.isTransposed&&(ot=[ct,ft],ft=ot[0],ct=ot[1]),{x:this.convertDim(ft,"x"),y:this.convertDim(ct,"y")}},at.prototype.invertPoint=function(et){var ot,ft=this.invertDim(et.x,"x"),ct=this.invertDim(et.y,"y");return this.isTransposed&&(ot=[ct,ft],ft=ot[0],ct=ot[1]),{x:ft,y:ct}},at}(z),F=$,X=S(31437),D=function(Y){(0,N.__extends)(at,Y);function at(et){var ot=Y.call(this,et)||this;ot.isHelix=!0,ot.type="helix";var ft=et.startAngle,ct=ft===void 0?1.25*Math.PI:ft,bt=et.endAngle,tt=bt===void 0?7.25*Math.PI:bt,O=et.innerRadius,J=O===void 0?0:O,x=et.radius;return ot.startAngle=ct,ot.endAngle=tt,ot.innerRadius=J,ot.radius=x,ot.initial(),ot}return at.prototype.initial=function(){Y.prototype.initial.call(this);var et=(this.endAngle-this.startAngle)/(2*Math.PI)+1,ot=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(ot=ot*this.radius),this.d=Math.floor(ot*(1-this.innerRadius)/et),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*ot,end:this.innerRadius*ot+this.d*.99}},at.prototype.convertPoint=function(et){var ot,ft=et.x,ct=et.y;this.isTransposed&&(ot=[ct,ft],ft=ot[0],ct=ot[1]);var bt=this.convertDim(ft,"x"),tt=this.a*bt,O=this.convertDim(ct,"y");return{x:this.center.x+Math.cos(bt)*(tt+O),y:this.center.y+Math.sin(bt)*(tt+O)}},at.prototype.invertPoint=function(et){var ot,ft=this.d+this.y.start,ct=X.subtract([0,0],[et.x,et.y],[this.center.x,this.center.y]),bt=Z.angleTo(ct,[1,0],!0),tt=bt*this.a;X.length(ct)<tt&&(tt=X.length(ct));var O=Math.floor((X.length(ct)-tt)/ft);bt=2*O*Math.PI+bt;var J=this.a*bt,x=X.length(ct)-J;x=(0,q.isNumberEqual)(x,0)?0:x;var l=this.invertDim(bt,"x"),W=this.invertDim(x,"y");return l=(0,q.isNumberEqual)(l,0)?0:l,W=(0,q.isNumberEqual)(W,0)?0:W,this.isTransposed&&(ot=[W,l],l=ot[0],W=ot[1]),{x:l,y:W}},at}(z),w=D,d=function(Y){(0,N.__extends)(at,Y);function at(et){var ot=Y.call(this,et)||this;ot.isPolar=!0,ot.type="polar";var ft=et.startAngle,ct=ft===void 0?-Math.PI/2:ft,bt=et.endAngle,tt=bt===void 0?Math.PI*3/2:bt,O=et.innerRadius,J=O===void 0?0:O,x=et.radius;return ot.startAngle=ct,ot.endAngle=tt,ot.innerRadius=J,ot.radius=x,ot.initial(),ot}return at.prototype.initial=function(){for(Y.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var et=this.getOneBox(),ot=et.maxX-et.minX,ft=et.maxY-et.minY,ct=Math.abs(et.minX)/ot,bt=Math.abs(et.minY)/ft,tt;this.height/ft>this.width/ot?(tt=this.width/ot,this.circleCenter={x:this.center.x-(.5-ct)*this.width,y:this.center.y-(.5-bt)*tt*ft}):(tt=this.height/ft,this.circleCenter={x:this.center.x-(.5-ct)*tt*ot,y:this.center.y-(.5-bt)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=tt*this.radius:(this.radius<=0||this.radius>tt)&&(this.polarRadius=tt):this.polarRadius=tt,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},at.prototype.getRadius=function(){return this.polarRadius},at.prototype.convertPoint=function(et){var ot,ft=this.getCenter(),ct=et.x,bt=et.y;return this.isTransposed&&(ot=[bt,ct],ct=ot[0],bt=ot[1]),ct=this.convertDim(ct,"x"),bt=this.convertDim(bt,"y"),{x:ft.x+Math.cos(ct)*bt,y:ft.y+Math.sin(ct)*bt}},at.prototype.invertPoint=function(et){var ot,ft=this.getCenter(),ct=[et.x-ft.x,et.y-ft.y],bt=this,tt=bt.startAngle,O=bt.endAngle;this.isReflect("x")&&(ot=[O,tt],tt=ot[0],O=ot[1]);var J=[1,0,0,0,1,0,0,0,1];Z.leftRotate(J,J,tt);var x=[1,0,0];K.transformMat3(x,x,J);var l=[x[0],x[1]],W=Z.angleTo(l,ct,O<tt);(0,q.isNumberEqual)(W,Math.PI*2)&&(W=0);var it=X.length(ct),nt=W/(O-tt);nt=O-tt>0?nt:-nt;var ht=this.invertDim(it,"y"),y={x:0,y:0};return y.x=this.isTransposed?ht:nt,y.y=this.isTransposed?nt:ht,y},at.prototype.getCenter=function(){return this.circleCenter},at.prototype.getOneBox=function(){var et=this.startAngle,ot=this.endAngle;if(Math.abs(ot-et)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var ft=[0,Math.cos(et),Math.cos(ot)],ct=[0,Math.sin(et),Math.sin(ot)],bt=Math.min(et,ot);bt<Math.max(et,ot);bt+=Math.PI/18)ft.push(Math.cos(bt)),ct.push(Math.sin(bt));return{minX:Math.min.apply(Math,ft),maxX:Math.max.apply(Math,ft),minY:Math.min.apply(Math,ct),maxY:Math.max.apply(Math,ct)}},at}(z),I=d,k={},E=function(Y){return k[Y.toLowerCase()]},P=function(Y,at){k[Y.toLowerCase()]=at};P("rect",F),P("cartesian",F),P("polar",I),P("helix",w)},57817:function(oe,C,S){"use strict";S.d(C,{Z:function(){return N}});function N(K,Q,Z){if(K){if(typeof K.addEventListener=="function")return K.addEventListener(Q,Z,!1),{remove:function(){K.removeEventListener(Q,Z,!1)}};if(typeof K.attachEvent=="function")return K.attachEvent("on"+Q,Z),{remove:function(){K.detachEvent("on"+Q,Z)}}}}},6056:function(oe,C,S){"use strict";S.d(C,{Z:function(){return G}});var N,K,Q,Z;function q(){N=document.createElement("table"),K=document.createElement("tr"),Q=/^\s*<(\w+|!)[^>]*>/,Z={tr:document.createElement("tbody"),tbody:N,thead:N,tfoot:N,td:K,th:K,"*":document.createElement("div")}}function G(z){N||q();var $=Q.test(z)&&RegExp.$1;(!$||!($ in Z))&&($="*");var F=Z[$];z=typeof z=="string"?z.replace(/(^\s*)|(\s*$)/g,""):z,F.innerHTML=""+z;var X=F.childNodes[0];return X&&F.contains(X)&&F.removeChild(X),X}},10430:function(oe,C,S){"use strict";S.d(C,{Z:function(){return K}});var N=S(99911);function K(Q,Z){var q=(0,N.Z)(Q,"height",Z);return q==="auto"&&(q=Q.offsetHeight),parseFloat(q)}},79189:function(oe,C,S){"use strict";S.d(C,{Z:function(){return Q}});var N=S(99911),K=S(10430);function Q(Z,q){var G=(0,K.Z)(Z,q),z=parseFloat((0,N.Z)(Z,"borderTopWidth"))||0,$=parseFloat((0,N.Z)(Z,"paddingTop"))||0,F=parseFloat((0,N.Z)(Z,"paddingBottom"))||0,X=parseFloat((0,N.Z)(Z,"borderBottomWidth"))||0,D=parseFloat((0,N.Z)(Z,"marginTop"))||0,w=parseFloat((0,N.Z)(Z,"marginBottom"))||0;return G+z+X+$+F+D+w}},89810:function(oe,C,S){"use strict";S.d(C,{Z:function(){return Q}});var N=S(99911),K=S(23408);function Q(Z,q){var G=(0,K.Z)(Z,q),z=parseFloat((0,N.Z)(Z,"borderLeftWidth"))||0,$=parseFloat((0,N.Z)(Z,"paddingLeft"))||0,F=parseFloat((0,N.Z)(Z,"paddingRight"))||0,X=parseFloat((0,N.Z)(Z,"borderRightWidth"))||0,D=parseFloat((0,N.Z)(Z,"marginRight"))||0,w=parseFloat((0,N.Z)(Z,"marginLeft"))||0;return G+z+X+$+F+w+D}},99911:function(oe,C,S){"use strict";S.d(C,{Z:function(){return N}});function N(K,Q,Z){var q;try{q=window.getComputedStyle?window.getComputedStyle(K,null)[Q]:K.style[Q]}catch(G){}finally{q=q===void 0?Z:q}return q}},23408:function(oe,C,S){"use strict";S.d(C,{Z:function(){return K}});var N=S(99911);function K(Q,Z){var q=(0,N.Z)(Q,"width",Z);return q==="auto"&&(q=Q.offsetWidth),parseFloat(q)}},80478:function(oe,C,S){"use strict";S.r(C),S.d(C,{addEventListener:function(){return N.Z},createDom:function(){return K.Z},getHeight:function(){return Q.Z},getOuterHeight:function(){return Z.Z},getOuterWidth:function(){return q.Z},getRatio:function(){return G},getStyle:function(){return z.Z},getWidth:function(){return $.Z},modifyCSS:function(){return F.Z}});var N=S(57817),K=S(6056),Q=S(10430),Z=S(79189),q=S(89810);function G(){return window.devicePixelRatio?window.devicePixelRatio:2}var z=S(99911),$=S(23408),F=S(45442)},45442:function(oe,C,S){"use strict";S.d(C,{Z:function(){return N}});function N(K,Q){if(K)for(var Z in Q)Q.hasOwnProperty(Z)&&(K.style[Z]=Q[Z]);return K}},90494:function(oe,C,S){"use strict";S.r(C);var N="*",K=function(){function Q(){this._events={}}return Q.prototype.on=function(Z,q,G){return this._events[Z]||(this._events[Z]=[]),this._events[Z].push({callback:q,once:!!G}),this},Q.prototype.once=function(Z,q){return this.on(Z,q,!0)},Q.prototype.emit=function(Z){for(var q=this,G=[],z=1;z<arguments.length;z++)G[z-1]=arguments[z];var $=this._events[Z]||[],F=this._events[N]||[],X=function(D){for(var w=D.length,d=0;d<w;d++)if(!!D[d]){var I=D[d],k=I.callback,E=I.once;E&&(D.splice(d,1),D.length===0&&delete q._events[Z],w--,d--),k.apply(q,G)}};X($),X(F)},Q.prototype.off=function(Z,q){if(!Z)this._events={};else if(!q)delete this._events[Z];else{for(var G=this._events[Z]||[],z=G.length,$=0;$<z;$++)G[$].callback===q&&(G.splice($,1),z--,$--);G.length===0&&delete this._events[Z]}return this},Q.prototype.getEvents=function(){return this._events},Q}();C.default=K},32409:function(oe,C,S){"use strict";S.r(C),S.d(C,{AbstractCanvas:function(){return gt},AbstractGroup:function(){return Lt},AbstractShape:function(){return Ht},Base:function(){return Wt},Event:function(){return pe},PathUtil:function(){return N},version:function(){return ve}});var N={};S.r(N),S.d(N,{catmullRomToBezier:function(){return $},fillPath:function(){return ht},fillPathByDiff:function(){return Mt},formatPath:function(){return re},intersection:function(){return l},parsePathArray:function(){return E},parsePathString:function(){return z},pathToAbsolute:function(){return X},pathToCurve:function(){return I},rectPath:function(){return ft}});var K={};S.r(K),S.d(K,{easeBack:function(){return ia},easeBackIn:function(){return hn},easeBackInOut:function(){return ia},easeBackOut:function(){return ea},easeBounce:function(){return un},easeBounceIn:function(){return Yn},easeBounceInOut:function(){return cn},easeBounceOut:function(){return un},easeCircle:function(){return lr},easeCircleIn:function(){return Rn},easeCircleInOut:function(){return lr},easeCircleOut:function(){return Ln},easeCubic:function(){return an.tw},easeCubicIn:function(){return an.yD},easeCubicInOut:function(){return an.tw},easeCubicOut:function(){return an._e},easeElastic:function(){return Xn},easeElasticIn:function(){return Ca},easeElasticInOut:function(){return Sa},easeElasticOut:function(){return Xn},easeExp:function(){return Bi},easeExpIn:function(){return ln},easeExpInOut:function(){return Bi},easeExpOut:function(){return mn},easeLinear:function(){return nn},easePoly:function(){return Fn},easePolyIn:function(){return _n},easePolyInOut:function(){return Fn},easePolyOut:function(){return Tr},easeQuad:function(){return Nr},easeQuadIn:function(){return kn},easeQuadInOut:function(){return Nr},easeQuadOut:function(){return An},easeSin:function(){return Dn},easeSinIn:function(){return Tn},easeSinInOut:function(){return Dn},easeSinOut:function(){return yn}});var Q=S(49242),Z=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,q=new RegExp("([a-z])["+Z+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Z+"]*,?["+Z+"]*)+)","ig"),G=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Z+"]*,?["+Z+"]*","ig"),z=function(B){if(!B)return null;if((0,Q.isArray)(B))return B;var A={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},b=[];return String(B).replace(q,function(M,st,vt){var T=[],U=st.toLowerCase();if(vt.replace(G,function(rt,xt){xt&&T.push(+xt)}),U==="m"&&T.length>2&&(b.push([st].concat(T.splice(0,2))),U="l",st=st==="m"?"l":"L"),U==="o"&&T.length===1&&b.push([st,T[0]]),U==="r")b.push([st].concat(T));else for(;T.length>=A[U]&&(b.push([st].concat(T.splice(0,A[U]))),!!A[U]););return B}),b},$=function(B,A){for(var b=[],M=0,st=B.length;st-2*!A>M;M+=2){var vt=[{x:+B[M-2],y:+B[M-1]},{x:+B[M],y:+B[M+1]},{x:+B[M+2],y:+B[M+3]},{x:+B[M+4],y:+B[M+5]}];A?M?st-4===M?vt[3]={x:+B[0],y:+B[1]}:st-2===M&&(vt[2]={x:+B[0],y:+B[1]},vt[3]={x:+B[2],y:+B[3]}):vt[0]={x:+B[st-2],y:+B[st-1]}:st-4===M?vt[3]=vt[2]:M||(vt[0]={x:+B[M],y:+B[M+1]}),b.push(["C",(-vt[0].x+6*vt[1].x+vt[2].x)/6,(-vt[0].y+6*vt[1].y+vt[2].y)/6,(vt[1].x+6*vt[2].x-vt[3].x)/6,(vt[1].y+6*vt[2].y-vt[3].y)/6,vt[2].x,vt[2].y])}return b},F=function(B,A,b,M,st){var vt=[];if(st===null&&M===null&&(M=b),B=+B,A=+A,b=+b,M=+M,st!==null){var T=Math.PI/180,U=B+b*Math.cos(-M*T),rt=B+b*Math.cos(-st*T),xt=A+b*Math.sin(-M*T),Ot=A+b*Math.sin(-st*T);vt=[["M",U,xt],["A",b,b,0,+(st-M>180),0,rt,Ot]]}else vt=[["M",B,A],["m",0,-M],["a",b,M,0,1,1,0,2*M],["a",b,M,0,1,1,0,-2*M],["z"]];return vt},X=function(B){if(B=z(B),!B||!B.length)return[["M",0,0]];var A=[],b=0,M=0,st=0,vt=0,T=0,U,rt;B[0][0]==="M"&&(b=+B[0][1],M=+B[0][2],st=b,vt=M,T++,A[0]=["M",b,M]);for(var xt=B.length===3&&B[0][0]==="M"&&B[1][0].toUpperCase()==="R"&&B[2][0].toUpperCase()==="Z",Ot=void 0,Nt=void 0,le=T,he=B.length;le<he;le++){if(A.push(Ot=[]),Nt=B[le],U=Nt[0],U!==U.toUpperCase())switch(Ot[0]=U.toUpperCase(),Ot[0]){case"A":Ot[1]=Nt[1],Ot[2]=Nt[2],Ot[3]=Nt[3],Ot[4]=Nt[4],Ot[5]=Nt[5],Ot[6]=+Nt[6]+b,Ot[7]=+Nt[7]+M;break;case"V":Ot[1]=+Nt[1]+M;break;case"H":Ot[1]=+Nt[1]+b;break;case"R":rt=[b,M].concat(Nt.slice(1));for(var ue=2,Ne=rt.length;ue<Ne;ue++)rt[ue]=+rt[ue]+b,rt[++ue]=+rt[ue]+M;A.pop(),A=A.concat($(rt,xt));break;case"O":A.pop(),rt=F(b,M,Nt[1],Nt[2]),rt.push(rt[0]),A=A.concat(rt);break;case"U":A.pop(),A=A.concat(F(b,M,Nt[1],Nt[2],Nt[3])),Ot=["U"].concat(A[A.length-1].slice(-2));break;case"M":st=+Nt[1]+b,vt=+Nt[2]+M;break;default:for(var ue=1,Ne=Nt.length;ue<Ne;ue++)Ot[ue]=+Nt[ue]+(ue%2?b:M)}else if(U==="R")rt=[b,M].concat(Nt.slice(1)),A.pop(),A=A.concat($(rt,xt)),Ot=["R"].concat(Nt.slice(-2));else if(U==="O")A.pop(),rt=F(b,M,Nt[1],Nt[2]),rt.push(rt[0]),A=A.concat(rt);else if(U==="U")A.pop(),A=A.concat(F(b,M,Nt[1],Nt[2],Nt[3])),Ot=["U"].concat(A[A.length-1].slice(-2));else for(var je=0,Ke=Nt.length;je<Ke;je++)Ot[je]=Nt[je];if(U=U.toUpperCase(),U!=="O")switch(Ot[0]){case"Z":b=+st,M=+vt;break;case"H":b=Ot[1];break;case"V":M=Ot[1];break;case"M":st=Ot[Ot.length-2],vt=Ot[Ot.length-1];break;default:b=Ot[Ot.length-2],M=Ot[Ot.length-1]}}return A},D=function(B,A,b,M){return[B,A,b,M,b,M]},w=function(B,A,b,M,st,vt){var T=1/3,U=2/3;return[T*B+U*b,T*A+U*M,T*st+U*b,T*vt+U*M,st,vt]},d=function(B,A,b,M,st,vt,T,U,rt,xt){b===M&&(b+=1);var Ot=Math.PI*120/180,Nt=Math.PI/180*(+st||0),le=[],he,ue,Ne,je,Ke,ii=function(ro,Mo,Aa){var oa=ro*Math.cos(Aa)-Mo*Math.sin(Aa),Os=ro*Math.sin(Aa)+Mo*Math.cos(Aa);return{x:oa,y:Os}};if(xt)ue=xt[0],Ne=xt[1],je=xt[2],Ke=xt[3];else{he=ii(B,A,-Nt),B=he.x,A=he.y,he=ii(U,rt,-Nt),U=he.x,rt=he.y,B===U&&A===rt&&(U+=1,rt+=1);var De=(B-U)/2,Me=(A-rt)/2,qe=De*De/(b*b)+Me*Me/(M*M);qe>1&&(qe=Math.sqrt(qe),b=qe*b,M=qe*M);var ki=b*b,Xi=M*M,Cn=(vt===T?-1:1)*Math.sqrt(Math.abs((ki*Xi-ki*Me*Me-Xi*De*De)/(ki*Me*Me+Xi*De*De)));je=Cn*b*Me/M+(B+U)/2,Ke=Cn*-M*De/b+(A+rt)/2,ue=Math.asin(((A-Ke)/M).toFixed(9)),Ne=Math.asin(((rt-Ke)/M).toFixed(9)),ue=B<je?Math.PI-ue:ue,Ne=U<je?Math.PI-Ne:Ne,ue<0&&(ue=Math.PI*2+ue),Ne<0&&(Ne=Math.PI*2+Ne),T&&ue>Ne&&(ue=ue-Math.PI*2),!T&&Ne>ue&&(Ne=Ne-Math.PI*2)}var Na=Ne-ue;if(Math.abs(Na)>Ot){var Ga=Ne,Zr=U,As=rt;Ne=ue+Ot*(T&&Ne>ue?1:-1),U=je+b*Math.cos(Ne),rt=Ke+M*Math.sin(Ne),le=d(U,rt,b,M,st,0,T,Zr,As,[Ne,Ga,je,Ke])}Na=Ne-ue;var _s=Math.cos(ue),Ts=Math.sin(ue),Ls=Math.cos(Ne),Es=Math.sin(Ne),Ya=Math.tan(Na/4),wo=4/3*b*Ya,Co=4/3*M*Ya,So=[B,A],aa=[B+wo*Ts,A-Co*_s],eo=[U+wo*Es,rt-Co*Ls],io=[U,rt];if(aa[0]=2*So[0]-aa[0],aa[1]=2*So[1]-aa[1],xt)return[aa,eo,io].concat(le);le=[aa,eo,io].concat(le).join().split(",");for(var ji=[],Gr=0,Ps=le.length;Gr<Ps;Gr++)ji[Gr]=Gr%2?ii(le[Gr-1],le[Gr],Nt).y:ii(le[Gr],le[Gr+1],Nt).x;return ji},I=function(B,A){var b=X(B),M=A&&X(A),st={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},vt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},T=[],U=[],rt="",xt="",Ot,Nt=function(De,Me,qe){var ki,Xi;if(!De)return["C",Me.x,Me.y,Me.x,Me.y,Me.x,Me.y];switch(!(De[0]in{T:1,Q:1})&&(Me.qx=Me.qy=null),De[0]){case"M":Me.X=De[1],Me.Y=De[2];break;case"A":De=["C"].concat(d.apply(0,[Me.x,Me.y].concat(De.slice(1))));break;case"S":qe==="C"||qe==="S"?(ki=Me.x*2-Me.bx,Xi=Me.y*2-Me.by):(ki=Me.x,Xi=Me.y),De=["C",ki,Xi].concat(De.slice(1));break;case"T":qe==="Q"||qe==="T"?(Me.qx=Me.x*2-Me.qx,Me.qy=Me.y*2-Me.qy):(Me.qx=Me.x,Me.qy=Me.y),De=["C"].concat(w(Me.x,Me.y,Me.qx,Me.qy,De[1],De[2]));break;case"Q":Me.qx=De[1],Me.qy=De[2],De=["C"].concat(w(Me.x,Me.y,De[1],De[2],De[3],De[4]));break;case"L":De=["C"].concat(D(Me.x,Me.y,De[1],De[2]));break;case"H":De=["C"].concat(D(Me.x,Me.y,De[1],Me.y));break;case"V":De=["C"].concat(D(Me.x,Me.y,Me.x,De[1]));break;case"Z":De=["C"].concat(D(Me.x,Me.y,Me.X,Me.Y));break;default:break}return De},le=function(De,Me){if(De[Me].length>7){De[Me].shift();for(var qe=De[Me];qe.length;)T[Me]="A",M&&(U[Me]="A"),De.splice(Me++,0,["C"].concat(qe.splice(0,6)));De.splice(Me,1),Ot=Math.max(b.length,M&&M.length||0)}},he=function(De,Me,qe,ki,Xi){De&&Me&&De[Xi][0]==="M"&&Me[Xi][0]!=="M"&&(Me.splice(Xi,0,["M",ki.x,ki.y]),qe.bx=0,qe.by=0,qe.x=De[Xi][1],qe.y=De[Xi][2],Ot=Math.max(b.length,M&&M.length||0))};Ot=Math.max(b.length,M&&M.length||0);for(var ue=0;ue<Ot;ue++){b[ue]&&(rt=b[ue][0]),rt!=="C"&&(T[ue]=rt,ue&&(xt=T[ue-1])),b[ue]=Nt(b[ue],st,xt),T[ue]!=="A"&&rt==="C"&&(T[ue]="C"),le(b,ue),M&&(M[ue]&&(rt=M[ue][0]),rt!=="C"&&(U[ue]=rt,ue&&(xt=U[ue-1])),M[ue]=Nt(M[ue],vt,xt),U[ue]!=="A"&&rt==="C"&&(U[ue]="C"),le(M,ue)),he(b,M,st,vt,ue),he(M,b,vt,st,ue);var Ne=b[ue],je=M&&M[ue],Ke=Ne.length,ii=M&&je.length;st.x=Ne[Ke-2],st.y=Ne[Ke-1],st.bx=parseFloat(Ne[Ke-4])||st.x,st.by=parseFloat(Ne[Ke-3])||st.y,vt.bx=M&&(parseFloat(je[ii-4])||vt.x),vt.by=M&&(parseFloat(je[ii-3])||vt.y),vt.x=M&&je[ii-2],vt.y=M&&je[ii-1]}return M?[b,M]:b},k=/,?([a-z]),?/gi,E=function(B){return B.join(",").replace(k,"$1")},P=function(B,A,b,M,st){var vt=-3*A+9*b-9*M+3*st,T=B*vt+6*A-12*b+6*M;return B*T-3*A+3*b},Y=function(B,A,b,M,st,vt,T,U,rt){rt===null&&(rt=1),rt=rt>1?1:rt<0?0:rt;for(var xt=rt/2,Ot=12,Nt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],le=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],he=0,ue=0;ue<Ot;ue++){var Ne=xt*Nt[ue]+xt,je=P(Ne,B,b,st,T),Ke=P(Ne,A,M,vt,U),ii=je*je+Ke*Ke;he+=le[ue]*Math.sqrt(ii)}return xt*he},at=function(B,A,b,M,st,vt,T,U){for(var rt=[],xt=[[],[]],Ot,Nt,le,he,ue=0;ue<2;++ue){if(ue===0?(Nt=6*B-12*b+6*st,Ot=-3*B+9*b-9*st+3*T,le=3*b-3*B):(Nt=6*A-12*M+6*vt,Ot=-3*A+9*M-9*vt+3*U,le=3*M-3*A),Math.abs(Ot)<1e-12){if(Math.abs(Nt)<1e-12)continue;he=-le/Nt,he>0&&he<1&&rt.push(he);continue}var Ne=Nt*Nt-4*le*Ot,je=Math.sqrt(Ne);if(!(Ne<0)){var Ke=(-Nt+je)/(2*Ot);Ke>0&&Ke<1&&rt.push(Ke);var ii=(-Nt-je)/(2*Ot);ii>0&&ii<1&&rt.push(ii)}}for(var De=rt.length,Me=De,qe;De--;)he=rt[De],qe=1-he,xt[0][De]=qe*qe*qe*B+3*qe*qe*he*b+3*qe*he*he*st+he*he*he*T,xt[1][De]=qe*qe*qe*A+3*qe*qe*he*M+3*qe*he*he*vt+he*he*he*U;return xt[0][Me]=B,xt[1][Me]=A,xt[0][Me+1]=T,xt[1][Me+1]=U,xt[0].length=xt[1].length=Me+2,{min:{x:Math.min.apply(0,xt[0]),y:Math.min.apply(0,xt[1])},max:{x:Math.max.apply(0,xt[0]),y:Math.max.apply(0,xt[1])}}},et=function(B,A,b,M,st,vt,T,U){if(!(Math.max(B,b)<Math.min(st,T)||Math.min(B,b)>Math.max(st,T)||Math.max(A,M)<Math.min(vt,U)||Math.min(A,M)>Math.max(vt,U))){var rt=(B*M-A*b)*(st-T)-(B-b)*(st*U-vt*T),xt=(B*M-A*b)*(vt-U)-(A-M)*(st*U-vt*T),Ot=(B-b)*(vt-U)-(A-M)*(st-T);if(!!Ot){var Nt=rt/Ot,le=xt/Ot,he=+Nt.toFixed(2),ue=+le.toFixed(2);if(!(he<+Math.min(B,b).toFixed(2)||he>+Math.max(B,b).toFixed(2)||he<+Math.min(st,T).toFixed(2)||he>+Math.max(st,T).toFixed(2)||ue<+Math.min(A,M).toFixed(2)||ue>+Math.max(A,M).toFixed(2)||ue<+Math.min(vt,U).toFixed(2)||ue>+Math.max(vt,U).toFixed(2)))return{x:Nt,y:le}}}},ot=function(B,A,b){return A>=B.x&&A<=B.x+B.width&&b>=B.y&&b<=B.y+B.height},ft=function(B,A,b,M,st){if(st)return[["M",+B+ +st,A],["l",b-st*2,0],["a",st,st,0,0,1,st,st],["l",0,M-st*2],["a",st,st,0,0,1,-st,st],["l",st*2-b,0],["a",st,st,0,0,1,-st,-st],["l",0,st*2-M],["a",st,st,0,0,1,st,-st],["z"]];var vt=[["M",B,A],["l",b,0],["l",0,M],["l",-b,0],["z"]];return vt.parsePathArray=E,vt},ct=function(B,A,b,M){return B===null&&(B=A=b=M=0),A===null&&(A=B.y,b=B.width,M=B.height,B=B.x),{x:B,y:A,width:b,w:b,height:M,h:M,x2:B+b,y2:A+M,cx:B+b/2,cy:A+M/2,r1:Math.min(b,M)/2,r2:Math.max(b,M)/2,r0:Math.sqrt(b*b+M*M)/2,path:ft(B,A,b,M),vb:[B,A,b,M].join(" ")}},bt=function(B,A){return B=ct(B),A=ct(A),ot(A,B.x,B.y)||ot(A,B.x2,B.y)||ot(A,B.x,B.y2)||ot(A,B.x2,B.y2)||ot(B,A.x,A.y)||ot(B,A.x2,A.y)||ot(B,A.x,A.y2)||ot(B,A.x2,A.y2)||(B.x<A.x2&&B.x>A.x||A.x<B.x2&&A.x>B.x)&&(B.y<A.y2&&B.y>A.y||A.y<B.y2&&A.y>B.y)},tt=function(B,A,b,M,st,vt,T,U){(0,Q.isArray)(B)||(B=[B,A,b,M,st,vt,T,U]);var rt=at.apply(null,B);return ct(rt.min.x,rt.min.y,rt.max.x-rt.min.x,rt.max.y-rt.min.y)},O=function(B,A,b,M,st,vt,T,U,rt){var xt=1-rt,Ot=Math.pow(xt,3),Nt=Math.pow(xt,2),le=rt*rt,he=le*rt,ue=Ot*B+Nt*3*rt*b+xt*3*rt*rt*st+he*T,Ne=Ot*A+Nt*3*rt*M+xt*3*rt*rt*vt+he*U,je=B+2*rt*(b-B)+le*(st-2*b+B),Ke=A+2*rt*(M-A)+le*(vt-2*M+A),ii=b+2*rt*(st-b)+le*(T-2*st+b),De=M+2*rt*(vt-M)+le*(U-2*vt+M),Me=xt*B+rt*b,qe=xt*A+rt*M,ki=xt*st+rt*T,Xi=xt*vt+rt*U,Cn=90-Math.atan2(je-ii,Ke-De)*180/Math.PI;return{x:ue,y:Ne,m:{x:je,y:Ke},n:{x:ii,y:De},start:{x:Me,y:qe},end:{x:ki,y:Xi},alpha:Cn}},J=function(B,A,b){var M=tt(B),st=tt(A);if(!bt(M,st))return b?0:[];for(var vt=Y.apply(0,B),T=Y.apply(0,A),U=~~(vt/8),rt=~~(T/8),xt=[],Ot=[],Nt={},le=b?0:[],he=0;he<U+1;he++){var ue=O.apply(0,B.concat(he/U));xt.push({x:ue.x,y:ue.y,t:he/U})}for(var he=0;he<rt+1;he++){var ue=O.apply(0,A.concat(he/rt));Ot.push({x:ue.x,y:ue.y,t:he/rt})}for(var he=0;he<U;he++)for(var Ne=0;Ne<rt;Ne++){var je=xt[he],Ke=xt[he+1],ii=Ot[Ne],De=Ot[Ne+1],Me=Math.abs(Ke.x-je.x)<.001?"y":"x",qe=Math.abs(De.x-ii.x)<.001?"y":"x",ki=et(je.x,je.y,Ke.x,Ke.y,ii.x,ii.y,De.x,De.y);if(ki){if(Nt[ki.x.toFixed(4)]===ki.y.toFixed(4))continue;Nt[ki.x.toFixed(4)]=ki.y.toFixed(4);var Xi=je.t+Math.abs((ki[Me]-je[Me])/(Ke[Me]-je[Me]))*(Ke.t-je.t),Cn=ii.t+Math.abs((ki[qe]-ii[qe])/(De[qe]-ii[qe]))*(De.t-ii.t);Xi>=0&&Xi<=1&&Cn>=0&&Cn<=1&&(b?le+=1:le.push({x:ki.x,y:ki.y,t1:Xi,t2:Cn}))}}return le},x=function(B,A,b){B=I(B),A=I(A);for(var M,st,vt,T,U,rt,xt,Ot,Nt,le,he=b?0:[],ue=0,Ne=B.length;ue<Ne;ue++){var je=B[ue];if(je[0]==="M")M=U=je[1],st=rt=je[2];else{je[0]==="C"?(Nt=[M,st].concat(je.slice(1)),M=Nt[6],st=Nt[7]):(Nt=[M,st,M,st,U,rt,U,rt],M=U,st=rt);for(var Ke=0,ii=A.length;Ke<ii;Ke++){var De=A[Ke];if(De[0]==="M")vt=xt=De[1],T=Ot=De[2];else{De[0]==="C"?(le=[vt,T].concat(De.slice(1)),vt=le[6],T=le[7]):(le=[vt,T,vt,T,xt,Ot,xt,Ot],vt=xt,T=Ot);var Me=J(Nt,le,b);if(b)he+=Me;else{for(var qe=0,ki=Me.length;qe<ki;qe++)Me[qe].segment1=ue,Me[qe].segment2=Ke,Me[qe].bez1=Nt,Me[qe].bez2=le;he=he.concat(Me)}}}}}return he},l=function(B,A){return x(B,A)};function W(B,A){var b=[],M=[];function st(vt,T){if(vt.length===1)b.push(vt[0]),M.push(vt[0]);else{for(var U=[],rt=0;rt<vt.length-1;rt++)rt===0&&b.push(vt[0]),rt===vt.length-2&&M.push(vt[rt+1]),U[rt]=[(1-T)*vt[rt][0]+T*vt[rt+1][0],(1-T)*vt[rt][1]+T*vt[rt+1][1]];st(U,T)}}return B.length&&st(B,A),{left:b,right:M.reverse()}}function it(B,A,b){var M=[[B[1],B[2]]];b=b||2;var st=[];A[0]==="A"?(M.push(A[6]),M.push(A[7])):A[0]==="C"?(M.push([A[1],A[2]]),M.push([A[3],A[4]]),M.push([A[5],A[6]])):A[0]==="S"||A[0]==="Q"?(M.push([A[1],A[2]]),M.push([A[3],A[4]])):M.push([A[1],A[2]]);for(var vt=M,T=1/b,U=0;U<b-1;U++){var rt=T/(1-T*U),xt=W(vt,rt);st.push(xt.left),vt=xt.right}st.push(vt);var Ot=st.map(function(Nt){var le=[];return Nt.length===4&&(le.push("C"),le=le.concat(Nt[2])),Nt.length>=3&&(Nt.length===3&&le.push("Q"),le=le.concat(Nt[1])),Nt.length===2&&le.push("L"),le=le.concat(Nt[Nt.length-1]),le});return Ot}var nt=function(B,A,b){if(b===1)return[[].concat(B)];var M=[];if(A[0]==="L"||A[0]==="C"||A[0]==="Q")M=M.concat(it(B,A,b));else{var st=[].concat(B);st[0]==="M"&&(st[0]="L");for(var vt=0;vt<=b-1;vt++)M.push(st)}return M},ht=function(B,A){if(B.length===1)return B;var b=B.length-1,M=A.length-1,st=b/M,vt=[];if(B.length===1&&B[0][0]==="M"){for(var T=0;T<M-b;T++)B.push(B[0]);return B}for(var T=0;T<M;T++){var U=Math.floor(st*T);vt[U]=(vt[U]||0)+1}var rt=vt.reduce(function(xt,Ot,Nt){return Nt===b?xt.concat(B[b]):xt.concat(nt(B[Nt],B[Nt+1],Ot))},[]);return rt.unshift(B[0]),(A[M]==="Z"||A[M]==="z")&&rt.push("Z"),rt},y=function(B,A){if(B.length!==A.length)return!1;var b=!0;return(0,Q.each)(B,function(M,st){if(M!==A[st])return b=!1,!1}),b};function V(B,A,b){var M=null,st=b;return A<st&&(st=A,M="add"),B<st&&(st=B,M="del"),{type:M,min:st}}var yt=function(B,A){var b=B.length,M=A.length,st,vt,T=0;if(b===0||M===0)return null;for(var U=[],rt=0;rt<=b;rt++)U[rt]=[],U[rt][0]={min:rt};for(var xt=0;xt<=M;xt++)U[0][xt]={min:xt};for(var rt=1;rt<=b;rt++){st=B[rt-1];for(var xt=1;xt<=M;xt++){vt=A[xt-1],y(st,vt)?T=0:T=1;var Ot=U[rt-1][xt].min+1,Nt=U[rt][xt-1].min+1,le=U[rt-1][xt-1].min+T;U[rt][xt]=V(Ot,Nt,le)}}return U},Mt=function(B,A){var b=yt(B,A),M=B.length,st=A.length,vt=[],T=1,U=1;if(b[M][st].min!==M){for(var rt=1;rt<=M;rt++){var xt=b[rt][rt].min;U=rt;for(var Ot=T;Ot<=st;Ot++)b[rt][Ot].min<xt&&(xt=b[rt][Ot].min,U=Ot);T=U,b[rt][T].type&&vt.push({index:rt-1,type:b[rt][T].type})}for(var rt=vt.length-1;rt>=0;rt--)T=vt[rt].index,vt[rt].type==="add"?B.splice(T,0,[].concat(B[T])):B.splice(T,1)}M=B.length;var Nt=st-M;if(M<st)for(var rt=0;rt<Nt;rt++)B[M-1][0]==="z"||B[M-1][0]==="Z"?B.splice(M-2,0,B[M-2]):B.push(B[M-1]),M+=1;return B};function Gt(B,A,b){for(var M=[].concat(B),st,vt=1/(b+1),T=ee(A)[0],U=1;U<=b;U++)vt*=U,st=Math.floor(B.length*vt),st===0?M.unshift([T[0]*vt+B[st][0]*(1-vt),T[1]*vt+B[st][1]*(1-vt)]):M.splice(st,0,[T[0]*vt+B[st][0]*(1-vt),T[1]*vt+B[st][1]*(1-vt)]);return M}function ee(B){var A=[];switch(B[0]){case"M":A.push([B[1],B[2]]);break;case"L":A.push([B[1],B[2]]);break;case"A":A.push([B[6],B[7]]);break;case"Q":A.push([B[3],B[4]]),A.push([B[1],B[2]]);break;case"T":A.push([B[1],B[2]]);break;case"C":A.push([B[5],B[6]]),A.push([B[1],B[2]]),A.push([B[3],B[4]]);break;case"S":A.push([B[3],B[4]]),A.push([B[1],B[2]]);break;case"H":A.push([B[1],B[1]]);break;case"V":A.push([B[1],B[1]]);break;default:}return A}var re=function(B,A){if(B.length<=1)return B;for(var b,M=0;M<A.length;M++)if(B[M][0]!==A[M][0])switch(b=ee(B[M]),A[M][0]){case"M":B[M]=["M"].concat(b[0]);break;case"L":B[M]=["L"].concat(b[0]);break;case"A":B[M]=[].concat(A[M]),B[M][6]=b[0][0],B[M][7]=b[0][1];break;case"Q":if(b.length<2)if(M>0)b=Gt(b,B[M-1],1);else{B[M]=A[M];break}B[M]=["Q"].concat(b.reduce(function(st,vt){return st.concat(vt)},[]));break;case"T":B[M]=["T"].concat(b[0]);break;case"C":if(b.length<3)if(M>0)b=Gt(b,B[M-1],2);else{B[M]=A[M];break}B[M]=["C"].concat(b.reduce(function(st,vt){return st.concat(vt)},[]));break;case"S":if(b.length<2)if(M>0)b=Gt(b,B[M-1],1);else{B[M]=A[M];break}B[M]=["S"].concat(b.reduce(function(st,vt){return st.concat(vt)},[]));break;default:B[M]=A[M]}return B},ce=function(){function B(A,b){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=A,this.name=A,this.originalEvent=b,this.timeStamp=b.timeStamp}return B.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},B.prototype.stopPropagation=function(){this.propagationStopped=!0},B.prototype.toString=function(){var A=this.type;return"[Event (type="+A+")]"},B.prototype.save=function(){},B.prototype.restore=function(){},B}(),pe=ce,ge=S(70655),me=S(90494),xe=S(73890),de=S(46812),kt=S(21830),jt=S(33643),Jt=S(66631),At=S(66974),Pt=S(27154),Xt=S(85260);function se(B,A){var b=B.indexOf(A);b!==-1&&B.splice(b,1)}var dt=typeof window!="undefined"&&typeof window.document!="undefined";function Ct(B,A){if(B.isCanvas())return!0;for(var b=A.getParent(),M=!1;b;){if(b===B){M=!0;break}b=b.getParent()}return M}function It(B){return B.cfg.visible&&B.cfg.capture}var Bt=function(B){(0,ge.__extends)(A,B);function A(b){var M=B.call(this)||this;M.destroyed=!1;var st=M.getDefaultCfg();return M.cfg=(0,At.default)(st,b),M}return A.prototype.getDefaultCfg=function(){return{}},A.prototype.get=function(b){return this.cfg[b]},A.prototype.set=function(b,M){this.cfg[b]=M},A.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},A}(me.default),Wt=Bt,$t=S(34155),Zt=function(B,A,b){if(b||arguments.length===2)for(var M=0,st=A.length,vt;M<st;M++)(vt||!(M in A))&&(vt||(vt=Array.prototype.slice.call(A,0,M)),vt[M]=A[M]);return B.concat(vt||Array.prototype.slice.call(A))},ie=function(){function B(A,b,M){this.name=A,this.version=b,this.os=M,this.type="browser"}return B}(),zt=function(){function B(A){this.version=A,this.type="node",this.name="node",this.os=$t.platform}return B}(),Kt=function(){function B(A,b,M,st){this.name=A,this.version=b,this.os=M,this.bot=st,this.type="bot-device"}return B}(),ne=function(){function B(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return B}(),Te=function(){function B(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return B}(),ke=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Se=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ie=3,Ee=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",ke]],Be=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ce(B){return B?Ve(B):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new Te:typeof navigator!="undefined"?Ve(navigator.userAgent):Je()}function Ge(B){return B!==""&&Ee.reduce(function(A,b){var M=b[0],st=b[1];if(A)return A;var vt=st.exec(B);return!!vt&&[M,vt]},!1)}function Pe(B){var A=Ge(B);return A?A[0]:null}function Ve(B){var A=Ge(B);if(!A)return null;var b=A[0],M=A[1];if(b==="searchbot")return new ne;var st=M[1]&&M[1].split(".").join("_").split("_").slice(0,3);st?st.length<Ie&&(st=Zt(Zt([],st,!0),si(Ie-st.length),!0)):st=[];var vt=st.join("."),T=ze(B),U=Se.exec(B);return U&&U[1]?new Kt(b,vt,T,U[1]):new ie(b,vt,T)}function ze(B){for(var A=0,b=Be.length;A<b;A++){var M=Be[A],st=M[0],vt=M[1],T=vt.exec(B);if(T)return st}return null}function Je(){var B=typeof $t!="undefined"&&$t.version;return B?new zt($t.version.slice(1)):null}function si(B){for(var A=[],b=0;b<B;b++)A.push("0");return A}var Li=S(31506);function or(B,A){var b=[],M=B[0],st=B[1],vt=B[2],T=B[3],U=B[4],rt=B[5],xt=B[6],Ot=B[7],Nt=B[8],le=A[0],he=A[1],ue=A[2],Ne=A[3],je=A[4],Ke=A[5],ii=A[6],De=A[7],Me=A[8];return b[0]=le*M+he*T+ue*xt,b[1]=le*st+he*U+ue*Ot,b[2]=le*vt+he*rt+ue*Nt,b[3]=Ne*M+je*T+Ke*xt,b[4]=Ne*st+je*U+Ke*Ot,b[5]=Ne*vt+je*rt+Ke*Nt,b[6]=ii*M+De*T+Me*xt,b[7]=ii*st+De*U+Me*Ot,b[8]=ii*vt+De*rt+Me*Nt,b}function wi(B,A){var b=[],M=A[0],st=A[1];return b[0]=B[0]*M+B[3]*st+B[6],b[1]=B[1]*M+B[4]*st+B[7],b}function yr(B){var A=[],b=B[0],M=B[1],st=B[2],vt=B[3],T=B[4],U=B[5],rt=B[6],xt=B[7],Ot=B[8],Nt=Ot*T-U*xt,le=-Ot*vt+U*rt,he=xt*vt-T*rt,ue=b*Nt+M*le+st*he;return ue?(ue=1/ue,A[0]=Nt*ue,A[1]=(-Ot*M+st*xt)*ue,A[2]=(U*M-st*T)*ue,A[3]=le*ue,A[4]=(Ot*b-st*rt)*ue,A[5]=(-U*b+st*vt)*ue,A[6]=he*ue,A[7]=(-xt*b+M*rt)*ue,A[8]=(T*b-M*vt)*ue,A):null}var $i="matrix",Ar=["zIndex","capture","visible","type"],zr=["repeat"],Wi=":",mr="*";function Br(B){for(var A=[],b=0;b<B.length;b++)(0,Q.isArray)(B[b])?A.push([].concat(B[b])):A.push(B[b]);return A}function Ki(B,A){var b={},M=A.attrs;for(var st in B)b[st]=M[st];return b}function Zi(B,A){var b={},M=A.attr();return(0,Q.each)(B,function(st,vt){zr.indexOf(vt)===-1&&!(0,Q.isEqual)(M[vt],st)&&(b[vt]=st)}),b}function Ci(B,A){if(A.onFrame)return B;var b=A.startTime,M=A.delay,st=A.duration,vt=Object.prototype.hasOwnProperty;return(0,Q.each)(B,function(T){b+M<T.startTime+T.delay+T.duration&&st>T.delay&&(0,Q.each)(A.toAttrs,function(U,rt){vt.call(T.toAttrs,rt)&&(delete T.toAttrs[rt],delete T.fromAttrs[rt])})}),B}var gn=function(B){(0,ge.__extends)(A,B);function A(b){var M=B.call(this,b)||this;M.attrs={};var st=M.getDefaultAttrs();return(0,Q.mix)(st,b.attrs),M.attrs=st,M.initAttrs(st),M.initAnimate(),M}return A.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},A.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},A.prototype.onCanvasChange=function(b){},A.prototype.initAttrs=function(b){},A.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},A.prototype.isGroup=function(){return!1},A.prototype.getParent=function(){return this.get("parent")},A.prototype.getCanvas=function(){return this.get("canvas")},A.prototype.attr=function(){for(var b,M=[],st=0;st<arguments.length;st++)M[st]=arguments[st];var vt=M[0],T=M[1];if(!vt)return this.attrs;if((0,Q.isObject)(vt)){for(var U in vt)this.setAttr(U,vt[U]);return this.afterAttrsChange(vt),this}return M.length===2?(this.setAttr(vt,T),this.afterAttrsChange((b={},b[vt]=T,b)),this):this.attrs[vt]},A.prototype.isClipped=function(b,M){var st=this.getClip();return st&&!st.isHit(b,M)},A.prototype.setAttr=function(b,M){var st=this.attrs[b];st!==M&&(this.attrs[b]=M,this.onAttrChange(b,M,st))},A.prototype.onAttrChange=function(b,M,st){b==="matrix"&&this.set("totalMatrix",null)},A.prototype.afterAttrsChange=function(b){this.onCanvasChange("attr")},A.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},A.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},A.prototype.setZIndex=function(b){this.set("zIndex",b);var M=this.getParent();return M&&M.sort(),this},A.prototype.toFront=function(){var b=this.getParent();if(!!b){var M=b.getChildren(),st=this.get("el"),vt=M.indexOf(this);M.splice(vt,1),M.push(this),this.onCanvasChange("zIndex")}},A.prototype.toBack=function(){var b=this.getParent();if(!!b){var M=b.getChildren(),st=this.get("el"),vt=M.indexOf(this);M.splice(vt,1),M.unshift(this),this.onCanvasChange("zIndex")}},A.prototype.remove=function(b){b===void 0&&(b=!0);var M=this.getParent();M?(se(M.getChildren(),this),M.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),b&&this.destroy()},A.prototype.resetMatrix=function(){this.attr($i,this.getDefaultMatrix()),this.onCanvasChange("matrix")},A.prototype.getMatrix=function(){return this.attr($i)},A.prototype.setMatrix=function(b){this.attr($i,b),this.onCanvasChange("matrix")},A.prototype.getTotalMatrix=function(){var b=this.get("totalMatrix");if(!b){var M=this.attr("matrix"),st=this.get("parentMatrix");st&&M?b=or(st,M):b=M||st,this.set("totalMatrix",b)}return b},A.prototype.applyMatrix=function(b){var M=this.attr("matrix"),st=null;b&&M?st=or(b,M):st=M||b,this.set("totalMatrix",st),this.set("parentMatrix",b)},A.prototype.getDefaultMatrix=function(){return null},A.prototype.applyToMatrix=function(b){var M=this.attr("matrix");return M?wi(M,b):b},A.prototype.invertFromMatrix=function(b){var M=this.attr("matrix");if(M){var st=yr(M);if(st)return wi(st,b)}return b},A.prototype.setClip=function(b){var M=this.getCanvas(),st=null;if(b){var vt=this.getShapeBase(),T=(0,Q.upperFirst)(b.type),U=vt[T];U&&(st=new U({type:b.type,isClipShape:!0,attrs:b.attrs,canvas:M}))}return this.set("clipShape",st),this.onCanvasChange("clip"),st},A.prototype.getClip=function(){var b=this.cfg.clipShape;return b||null},A.prototype.clone=function(){var b=this,M=this.attrs,st={};(0,Q.each)(M,function(U,rt){(0,Q.isArray)(M[rt])?st[rt]=Br(M[rt]):st[rt]=M[rt]});var vt=this.constructor,T=new vt({attrs:st});return(0,Q.each)(Ar,function(U){T.set(U,b.get(U))}),T},A.prototype.destroy=function(){var b=this.destroyed;b||(this.attrs={},B.prototype.destroy.call(this))},A.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},A.prototype.animate=function(){for(var b=[],M=0;M<arguments.length;M++)b[M]=arguments[M];this.set("animating",!0);var st=this.get("timeline");st||(st=this.get("canvas").get("timeline"),this.set("timeline",st));var vt=this.get("animations")||[];st.timer||st.initTimer();var T=b[0],U=b[1],rt=b[2],xt=rt===void 0?"easeLinear":rt,Ot=b[3],Nt=Ot===void 0?Q.noop:Ot,le=b[4],he=le===void 0?0:le,ue,Ne,je,Ke,ii;(0,Q.isFunction)(T)?(ue=T,T={}):(0,Q.isObject)(T)&&T.onFrame&&(ue=T.onFrame,Ne=T.repeat),(0,Q.isObject)(U)?(ii=U,U=ii.duration,xt=ii.easing||"easeLinear",he=ii.delay||0,Ne=ii.repeat||Ne||!1,Nt=ii.callback||Q.noop,je=ii.pauseCallback||Q.noop,Ke=ii.resumeCallback||Q.noop):((0,Q.isNumber)(Nt)&&(he=Nt,Nt=null),(0,Q.isFunction)(xt)?(Nt=xt,xt="easeLinear"):xt=xt||"easeLinear");var De=Zi(T,this),Me={fromAttrs:Ki(De,this),toAttrs:De,duration:U,easing:xt,repeat:Ne,callback:Nt,pauseCallback:je,resumeCallback:Ke,delay:he,startTime:st.getTime(),id:(0,Q.uniqueId)(),onFrame:ue,pathFormatted:!1};vt.length>0?vt=Ci(vt,Me):st.addAnimator(this),vt.push(Me),this.set("animations",vt),this.set("_pause",{isPaused:!1})},A.prototype.stopAnimate=function(b){var M=this;b===void 0&&(b=!0);var st=this.get("animations");(0,Q.each)(st,function(vt){b&&(vt.onFrame?M.attr(vt.onFrame(1)):M.attr(vt.toAttrs)),vt.callback&&vt.callback()}),this.set("animating",!1),this.set("animations",[])},A.prototype.pauseAnimate=function(){var b=this.get("timeline"),M=this.get("animations"),st=b.getTime();return(0,Q.each)(M,function(vt){vt._paused=!0,vt._pauseTime=st,vt.pauseCallback&&vt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:st}),this},A.prototype.resumeAnimate=function(){var b=this.get("timeline"),M=b.getTime(),st=this.get("animations"),vt=this.get("_pause").pauseTime;return(0,Q.each)(st,function(T){T.startTime=T.startTime+(M-vt),T._paused=!1,T._pauseTime=null,T.resumeCallback&&T.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",st),this},A.prototype.emitDelegation=function(b,M){var st=this,vt=M.propagationPath,T=this.getEvents(),U;b==="mouseenter"?U=M.fromShape:b==="mouseleave"&&(U=M.toShape);for(var rt=function(le){var he=vt[le],ue=he.get("name");if(ue){if((he.isGroup()||he.isCanvas&&he.isCanvas())&&U&&Ct(he,U))return"break";(0,Q.isArray)(ue)?(0,Q.each)(ue,function(Ne){st.emitDelegateEvent(he,Ne,M)}):xt.emitDelegateEvent(he,ue,M)}},xt=this,Ot=0;Ot<vt.length;Ot++){var Nt=rt(Ot);if(Nt==="break")break}},A.prototype.emitDelegateEvent=function(b,M,st){var vt=this.getEvents(),T=M+Wi+st.type;(vt[T]||vt[mr])&&(st.name=T,st.currentTarget=b,st.delegateTarget=this,st.delegateObject=b.get("delegateObject"),this.emit(T,st))},A.prototype.translate=function(b,M){b===void 0&&(b=0),M===void 0&&(M=0);var st=this.getMatrix(),vt=Li.transform(st,[["t",b,M]]);return this.setMatrix(vt),this},A.prototype.move=function(b,M){var st=this.attr("x")||0,vt=this.attr("y")||0;return this.translate(b-st,M-vt),this},A.prototype.moveTo=function(b,M){return this.move(b,M)},A.prototype.scale=function(b,M){var st=this.getMatrix(),vt=Li.transform(st,[["s",b,M||b]]);return this.setMatrix(vt),this},A.prototype.rotate=function(b){var M=this.getMatrix(),st=Li.transform(M,[["r",b]]);return this.setMatrix(st),this},A.prototype.rotateAtStart=function(b){var M=this.attr(),st=M.x,vt=M.y,T=this.getMatrix(),U=Li.transform(T,[["t",-st,-vt],["r",b],["t",st,vt]]);return this.setMatrix(U),this},A.prototype.rotateAtPoint=function(b,M,st){var vt=this.getMatrix(),T=Li.transform(vt,[["t",-b,-M],["r",st],["t",b,M]]);return this.setMatrix(T),this},A}(Wt),en=gn,Kr={},Tt="_INDEX";function Et(B){B.isGroup()?(B.isEntityGroup()||B.get("children").length)&&B.onCanvasChange("add"):B.onCanvasChange("add")}function St(B,A){if(B.set("canvas",A),B.isGroup()){var b=B.get("children");b.length&&b.forEach(function(M){St(M,A)})}}function Yt(B,A){if(B.set("timeline",A),B.isGroup()){var b=B.get("children");b.length&&b.forEach(function(M){Yt(M,A)})}}function Ut(B,A){var b=B.getChildren();return b.indexOf(A)>=0}function Qt(B,A,b){b===void 0&&(b=!0),b?A.destroy():(A.set("parent",null),A.set("canvas",null)),se(B.getChildren(),A)}function fe(B){return function(A,b){var M=B(A,b);return M===0?A[Tt]-b[Tt]:M}}var be=function(B){(0,ge.__extends)(A,B);function A(){return B!==null&&B.apply(this,arguments)||this}return A.prototype.isCanvas=function(){return!1},A.prototype.getBBox=function(){var b=Infinity,M=-Infinity,st=Infinity,vt=-Infinity,T=[],U=[],rt=this.getChildren().filter(function(Ot){return Ot.get("visible")&&(!Ot.isGroup()||Ot.isGroup()&&Ot.getChildren().length>0)});rt.length>0?((0,Pt.default)(rt,function(Ot){var Nt=Ot.getBBox();T.push(Nt.minX,Nt.maxX),U.push(Nt.minY,Nt.maxY)}),b=Math.min.apply(null,T),M=Math.max.apply(null,T),st=Math.min.apply(null,U),vt=Math.max.apply(null,U)):(b=0,M=0,st=0,vt=0);var xt={x:b,y:st,minX:b,minY:st,maxX:M,maxY:vt,width:M-b,height:vt-st};return xt},A.prototype.getCanvasBBox=function(){var b=Infinity,M=-Infinity,st=Infinity,vt=-Infinity,T=[],U=[],rt=this.getChildren().filter(function(Ot){return Ot.get("visible")&&(!Ot.isGroup()||Ot.isGroup()&&Ot.getChildren().length>0)});rt.length>0?((0,Pt.default)(rt,function(Ot){var Nt=Ot.getCanvasBBox();T.push(Nt.minX,Nt.maxX),U.push(Nt.minY,Nt.maxY)}),b=Math.min.apply(null,T),M=Math.max.apply(null,T),st=Math.min.apply(null,U),vt=Math.max.apply(null,U)):(b=0,M=0,st=0,vt=0);var xt={x:b,y:st,minX:b,minY:st,maxX:M,maxY:vt,width:M-b,height:vt-st};return xt},A.prototype.getDefaultCfg=function(){var b=B.prototype.getDefaultCfg.call(this);return b.children=[],b},A.prototype.onAttrChange=function(b,M,st){if(B.prototype.onAttrChange.call(this,b,M,st),b==="matrix"){var vt=this.getTotalMatrix();this._applyChildrenMarix(vt)}},A.prototype.applyMatrix=function(b){var M=this.getTotalMatrix();B.prototype.applyMatrix.call(this,b);var st=this.getTotalMatrix();st!==M&&this._applyChildrenMarix(st)},A.prototype._applyChildrenMarix=function(b){var M=this.getChildren();(0,Pt.default)(M,function(st){st.applyMatrix(b)})},A.prototype.addShape=function(){for(var b=[],M=0;M<arguments.length;M++)b[M]=arguments[M];var st=b[0],vt=b[1];(0,jt.default)(st)?vt=st:vt.type=st;var T=Kr[vt.type];T||(T=(0,Xt.default)(vt.type),Kr[vt.type]=T);var U=this.getShapeBase(),rt=new U[T](vt);return this.add(rt),rt},A.prototype.addGroup=function(){for(var b=[],M=0;M<arguments.length;M++)b[M]=arguments[M];var st=b[0],vt=b[1],T;if((0,de.default)(st))vt?T=new st(vt):T=new st({parent:this});else{var U=st||{},rt=this.getGroupBase();T=new rt(U)}return this.add(T),T},A.prototype.getCanvas=function(){var b;return this.isCanvas()?b=this:b=this.get("canvas"),b},A.prototype.getShape=function(b,M,st){if(!It(this))return null;var vt=this.getChildren(),T;if(this.isCanvas())T=this._findShape(vt,b,M,st);else{var U=[b,M,1];U=this.invertFromMatrix(U),this.isClipped(U[0],U[1])||(T=this._findShape(vt,U[0],U[1],st))}return T},A.prototype._findShape=function(b,M,st,vt){for(var T=null,U=b.length-1;U>=0;U--){var rt=b[U];if(It(rt)&&(rt.isGroup()?T=rt.getShape(M,st,vt):rt.isHit(M,st)&&(T=rt)),T)break}return T},A.prototype.add=function(b){var M=this.getCanvas(),st=this.getChildren(),vt=this.get("timeline"),T=b.getParent();T&&Qt(T,b,!1),b.set("parent",this),M&&St(b,M),vt&&Yt(b,vt),st.push(b),Et(b),this._applyElementMatrix(b)},A.prototype._applyElementMatrix=function(b){var M=this.getTotalMatrix();M&&b.applyMatrix(M)},A.prototype.getChildren=function(){return this.get("children")},A.prototype.sort=function(){var b=this.getChildren();(0,Pt.default)(b,function(M,st){return M[Tt]=st,M}),b.sort(fe(function(M,st){return M.get("zIndex")-st.get("zIndex")})),this.onCanvasChange("sort")},A.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var b=this.getChildren(),M=b.length-1;M>=0;M--)b[M].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},A.prototype.destroy=function(){this.get("destroyed")||(this.clear(),B.prototype.destroy.call(this))},A.prototype.getFirst=function(){return this.getChildByIndex(0)},A.prototype.getLast=function(){var b=this.getChildren();return this.getChildByIndex(b.length-1)},A.prototype.getChildByIndex=function(b){var M=this.getChildren();return M[b]},A.prototype.getCount=function(){var b=this.getChildren();return b.length},A.prototype.contain=function(b){var M=this.getChildren();return M.indexOf(b)>-1},A.prototype.removeChild=function(b,M){M===void 0&&(M=!0),this.contain(b)&&b.remove(M)},A.prototype.findAll=function(b){var M=[],st=this.getChildren();return(0,Pt.default)(st,function(vt){b(vt)&&M.push(vt),vt.isGroup()&&(M=M.concat(vt.findAll(b)))}),M},A.prototype.find=function(b){var M=null,st=this.getChildren();return(0,Pt.default)(st,function(vt){if(b(vt)?M=vt:vt.isGroup()&&(M=vt.find(b)),M)return!1}),M},A.prototype.findById=function(b){return this.find(function(M){return M.get("id")===b})},A.prototype.findByClassName=function(b){return this.find(function(M){return M.get("className")===b})},A.prototype.findAllByName=function(b){return this.findAll(function(M){return M.get("name")===b})},A}(en),Ye=be,_e=0,Fe=0,li=0,bi=1e3,Ii,ti,Ei=0,Ri=0,Qi=0,hi=typeof performance=="object"&&performance.now?performance:Date,Wr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(B){setTimeout(B,17)};function qi(){return Ri||(Wr(xr),Ri=hi.now()+Qi)}function xr(){Ri=0}function br(){this._call=this._time=this._next=null}br.prototype=kr.prototype={constructor:br,restart:function(B,A,b){if(typeof B!="function")throw new TypeError("callback is not a function");b=(b==null?qi():+b)+(A==null?0:+A),!this._next&&ti!==this&&(ti?ti._next=this:Ii=this,ti=this),this._call=B,this._time=b,wr()},stop:function(){this._call&&(this._call=null,this._time=Infinity,wr())}};function kr(B,A,b){var M=new br;return M.restart(B,A,b),M}function Ji(){qi(),++_e;for(var B=Ii,A;B;)(A=Ri-B._time)>=0&&B._call.call(null,A),B=B._next;--_e}function sr(){Ri=(Ei=hi.now())+Qi,_e=Fe=0;try{Ji()}finally{_e=0,_r(),Ri=0}}function rn(){var B=hi.now(),A=B-Ei;A>bi&&(Qi-=A,Ei=B)}function _r(){for(var B,A=Ii,b,M=Infinity;A;)A._call?(M>A._time&&(M=A._time),B=A,A=A._next):(b=A._next,A._next=null,A=B?B._next=b:Ii=b);ti=B,wr(M)}function wr(B){if(!_e){Fe&&(Fe=clearTimeout(Fe));var A=B-Ri;A>24?(B<Infinity&&(Fe=setTimeout(sr,B-hi.now()-Qi)),li&&(li=clearInterval(li))):(li||(Ei=hi.now(),li=setInterval(rn,bi)),_e=1,Wr(sr))}}function nn(B){return+B}function kn(B){return B*B}function An(B){return B*(2-B)}function Nr(B){return((B*=2)<=1?B*B:--B*(2-B)+1)/2}var an=S(68716),on=3,_n=function B(A){A=+A;function b(M){return Math.pow(M,A)}return b.exponent=B,b}(on),Tr=function B(A){A=+A;function b(M){return 1-Math.pow(1-M,A)}return b.exponent=B,b}(on),Fn=function B(A){A=+A;function b(M){return((M*=2)<=1?Math.pow(M,A):2-Math.pow(2-M,A))/2}return b.exponent=B,b}(on),Lr=Math.PI,sn=Lr/2;function Tn(B){return+B==1?1:1-Math.cos(B*sn)}function yn(B){return Math.sin(B*sn)}function Dn(B){return(1-Math.cos(Lr*B))/2}function Cr(B){return(Math.pow(2,-10*B)-.0009765625)*1.0009775171065494}function ln(B){return Cr(1-+B)}function mn(B){return 1-Cr(B)}function Bi(B){return((B*=2)<=1?Cr(1-B):2-Cr(B-1))/2}function Rn(B){return 1-Math.sqrt(1-B*B)}function Ln(B){return Math.sqrt(1- --B*B)}function lr(B){return((B*=2)<=1?1-Math.sqrt(1-B*B):Math.sqrt(1-(B-=2)*B)+1)/2}var En=4/11,xn=6/11,Pn=8/11,Fr=3/4,Nn=9/11,Gn=10/11,wa=15/16,ta=21/22,Dr=63/64,On=1/En/En;function Yn(B){return 1-un(1-B)}function un(B){return(B=+B)<En?On*B*B:B<Pn?On*(B-=xn)*B+Fr:B<Gn?On*(B-=Nn)*B+wa:On*(B-=ta)*B+Dr}function cn(B){return((B*=2)<=1?1-un(1-B):un(B-1)+1)/2}var bn=1.70158,hn=function B(A){A=+A;function b(M){return(M=+M)*M*(A*(M-1)+M)}return b.overshoot=B,b}(bn),ea=function B(A){A=+A;function b(M){return--M*M*((M+1)*A+M)+1}return b.overshoot=B,b}(bn),ia=function B(A){A=+A;function b(M){return((M*=2)<1?M*M*((A+1)*M-A):(M-=2)*M*((A+1)*M+A)+2)/2}return b.overshoot=B,b}(bn),Rr=2*Math.PI,In=1,tr=.3,Ca=function B(A,b){var M=Math.asin(1/(A=Math.max(1,A)))*(b/=Rr);function st(vt){return A*Cr(- --vt)*Math.sin((M-vt)/b)}return st.amplitude=function(vt){return B(vt,b*Rr)},st.period=function(vt){return B(A,vt)},st}(In,tr),Xn=function B(A,b){var M=Math.asin(1/(A=Math.max(1,A)))*(b/=Rr);function st(vt){return 1-A*Cr(vt=+vt)*Math.sin((vt+M)/b)}return st.amplitude=function(vt){return B(vt,b*Rr)},st.period=function(vt){return B(A,vt)},st}(In,tr),Sa=function B(A,b){var M=Math.asin(1/(A=Math.max(1,A)))*(b/=Rr);function st(vt){return((vt=vt*2-1)<0?A*Cr(-vt)*Math.sin((M-vt)/b):2-A*Cr(vt)*Math.sin((M+vt)/b))/2}return st.amplitude=function(vt){return B(vt,b*Rr)},st.period=function(vt){return B(A,vt)},st}(In,tr),jn=S(21775),Si=S(88122),Hn=function(B){return["fill","stroke","fillStyle","strokeStyle"].includes(B)},hr=function(B){return/^[r,R,L,l]{1}[\s]*\(/.test(B)},Pi=[1,0,0,0,1,0,0,0,1];function ra(B,A,b){var M={},st=A.fromAttrs,vt=A.toAttrs;if(!B.destroyed){var T;for(var U in vt)if(!(0,Q.isEqual)(st[U],vt[U]))if(U==="path"){var rt=vt[U],xt=st[U];rt.length>xt.length?(rt=z(vt[U]),xt=z(st[U]),xt=Mt(xt,rt),xt=re(xt,rt),A.fromAttrs.path=xt,A.toAttrs.path=rt):A.pathFormatted||(rt=z(vt[U]),xt=z(st[U]),xt=re(xt,rt),A.fromAttrs.path=xt,A.toAttrs.path=rt,A.pathFormatted=!0),M[U]=[];for(var Ot=0;Ot<rt.length;Ot++){for(var Nt=rt[Ot],le=xt[Ot],he=[],ue=0;ue<Nt.length;ue++)(0,Q.isNumber)(Nt[ue])&&le&&(0,Q.isNumber)(le[ue])?(T=(0,jn.Z)(le[ue],Nt[ue]),he.push(T(b))):he.push(Nt[ue]);M[U].push(he)}}else if(U==="matrix"){var Ne=(0,Si.Z)(st[U]||Pi,vt[U]||Pi),je=Ne(b);M[U]=je}else Hn(U)&&hr(vt[U])?M[U]=vt[U]:(0,Q.isFunction)(vt[U])||(T=(0,jn.Z)(st[U],vt[U]),M[U]=T(b));B.attr(M)}}function mi(B,A,b){var M=A.startTime,st=A.delay;if(b<M+st||A._paused)return!1;var vt,T=A.duration,U=A.easing;if(b=b-M-A.delay,A.repeat)vt=b%T/T,vt=K[U](vt);else if(vt=b/T,vt<1)vt=K[U](vt);else return A.onFrame?B.attr(A.onFrame(1)):B.attr(A.toAttrs),!0;if(A.onFrame){var rt=A.onFrame(vt);B.attr(rt)}else ra(B,A,vt);return!1}var fn=function(){function B(A){this.animators=[],this.current=0,this.timer=null,this.canvas=A}return B.prototype.initTimer=function(){var A=this,b=!1,M,st,vt;this.timer=kr(function(T){if(A.current=T,A.animators.length>0){for(var U=A.animators.length-1;U>=0;U--){if(M=A.animators[U],M.destroyed){A.removeAnimator(U);continue}if(!M.isAnimatePaused()){st=M.get("animations");for(var rt=st.length-1;rt>=0;rt--)vt=st[rt],b=mi(M,vt,T),b&&(st.splice(rt,1),b=!1,vt.callback&&vt.callback())}st.length===0&&A.removeAnimator(U)}var xt=A.canvas.get("autoDraw");xt||A.canvas.draw()}})},B.prototype.addAnimator=function(A){this.animators.push(A)},B.prototype.removeAnimator=function(A){this.animators.splice(A,1)},B.prototype.isAnimating=function(){return!!this.animators.length},B.prototype.stop=function(){this.timer&&this.timer.stop()},B.prototype.stopAllAnimations=function(A){A===void 0&&(A=!0),this.animators.forEach(function(b){b.stopAnimate(A)}),this.animators=[],this.canvas.draw()},B.prototype.getTime=function(){return this.current},B}(),Er=fn,Ma=40,Vn=0,Qr=":",wn=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function zn(B,A){for(var b in B)if(B.hasOwnProperty(b)&&b.indexOf(Qr+A)>=0)return!0;return!1}function na(B,A,b){b.name=A,b.target=B,b.currentTarget=B,b.delegateTarget=B,B.emit(A,b)}function mt(B,A,b){if(b.bubbles){var M=void 0,st=!1;if(A==="mouseenter"?(M=b.fromShape,st=!0):A==="mouseleave"&&(st=!0,M=b.toShape),B.isCanvas()&&st)return;if(M&&Ct(B,M)){b.bubbles=!1;return}b.name=A,b.currentTarget=B,b.delegateTarget=B,B.emit(A,b)}}var R=function(){function B(A){var b=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(M){var st=M.type;b._triggerEvent(st,M)},this._onDocumentMove=function(M){var st=b.canvas,vt=st.get("el");if(vt!==M.target&&(b.dragging||b.currentShape)){var T=b._getPointInfo(M);b.dragging&&b._emitEvent("drag",M,T,b.draggingShape)}},this._onDocumentMouseUp=function(M){var st=b.canvas,vt=st.get("el");if(vt!==M.target&&b.dragging){var T=b._getPointInfo(M);b.draggingShape&&b._emitEvent("drop",M,T,null),b._emitEvent("dragend",M,T,b.draggingShape),b._afterDrag(b.draggingShape,T,M)}},this.canvas=A.canvas}return B.prototype.init=function(){this._bindEvents()},B.prototype._bindEvents=function(){var A=this,b=this.canvas.get("el");(0,Pt.default)(wn,function(M){b.addEventListener(M,A._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},B.prototype._clearEvents=function(){var A=this,b=this.canvas.get("el");(0,Pt.default)(wn,function(M){b.removeEventListener(M,A._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},B.prototype._getEventObj=function(A,b,M,st,vt,T){var U=new pe(A,b);return U.fromShape=vt,U.toShape=T,U.x=M.x,U.y=M.y,U.clientX=M.clientX,U.clientY=M.clientY,U.propagationPath.push(st),U},B.prototype._getShape=function(A,b){return this.canvas.getShape(A.x,A.y,b)},B.prototype._getPointInfo=function(A){var b=this.canvas,M=b.getClientByEvent(A),st=b.getPointByEvent(A);return{x:st.x,y:st.y,clientX:M.x,clientY:M.y}},B.prototype._triggerEvent=function(A,b){var M=this._getPointInfo(b),st=this._getShape(M,b),vt=this["_on"+A],T=!1;if(vt)vt.call(this,M,st,b);else{var U=this.currentShape;A==="mouseenter"||A==="dragenter"||A==="mouseover"?(this._emitEvent(A,b,M,null,null,st),st&&this._emitEvent(A,b,M,st,null,st),A==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",b,M,null)):A==="mouseleave"||A==="dragleave"||A==="mouseout"?(T=!0,U&&this._emitEvent(A,b,M,U,U,null),this._emitEvent(A,b,M,null,U,null),A==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",b,M,null)):this._emitEvent(A,b,M,st,null,null)}if(T||(this.currentShape=st),st&&!st.get("destroyed")){var rt=this.canvas,xt=rt.get("el");xt.style.cursor=st.attr("cursor")||rt.get("cursor")}},B.prototype._onmousedown=function(A,b,M){M.button===Vn&&(this.mousedownShape=b,this.mousedownPoint=A,this.mousedownTimeStamp=M.timeStamp),this._emitEvent("mousedown",M,A,b,null,null)},B.prototype._emitMouseoverEvents=function(A,b,M,st){var vt=this.canvas.get("el");M!==st&&(M&&(this._emitEvent("mouseout",A,b,M,M,st),this._emitEvent("mouseleave",A,b,M,M,st),(!st||st.get("destroyed"))&&(vt.style.cursor=this.canvas.get("cursor"))),st&&(this._emitEvent("mouseover",A,b,st,M,st),this._emitEvent("mouseenter",A,b,st,M,st)))},B.prototype._emitDragoverEvents=function(A,b,M,st,vt){st?(st!==M&&(M&&this._emitEvent("dragleave",A,b,M,M,st),this._emitEvent("dragenter",A,b,st,M,st)),vt||this._emitEvent("dragover",A,b,st)):M&&this._emitEvent("dragleave",A,b,M,M,st),vt&&this._emitEvent("dragover",A,b,st)},B.prototype._afterDrag=function(A,b,M){A&&(A.set("capture",!0),this.draggingShape=null),this.dragging=!1;var st=this._getShape(b,M);st!==A&&this._emitMouseoverEvents(M,b,A,st),this.currentShape=st},B.prototype._onmouseup=function(A,b,M){if(M.button===Vn){var st=this.draggingShape;this.dragging?(st&&this._emitEvent("drop",M,A,b),this._emitEvent("dragend",M,A,st),this._afterDrag(st,A,M)):(this._emitEvent("mouseup",M,A,b),b===this.mousedownShape&&this._emitEvent("click",M,A,b),this.mousedownShape=null,this.mousedownPoint=null)}},B.prototype._ondragover=function(A,b,M){M.preventDefault();var st=this.currentShape;this._emitDragoverEvents(M,A,st,b,!0)},B.prototype._onmousemove=function(A,b,M){var st=this.canvas,vt=this.currentShape,T=this.draggingShape;if(this.dragging)T&&this._emitDragoverEvents(M,A,vt,b,!1),this._emitEvent("drag",M,A,T);else{var U=this.mousedownPoint;if(U){var rt=this.mousedownShape,xt=M.timeStamp,Ot=xt-this.mousedownTimeStamp,Nt=U.clientX-A.clientX,le=U.clientY-A.clientY,he=Nt*Nt+le*le;Ot>120||he>Ma?rt&&rt.get("draggable")?(T=this.mousedownShape,T.set("capture",!1),this.draggingShape=T,this.dragging=!0,this._emitEvent("dragstart",M,A,T),this.mousedownShape=null,this.mousedownPoint=null):!rt&&st.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",M,A,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(M,A,vt,b),this._emitEvent("mousemove",M,A,b)):(this._emitMouseoverEvents(M,A,vt,b),this._emitEvent("mousemove",M,A,b))}else this._emitMouseoverEvents(M,A,vt,b),this._emitEvent("mousemove",M,A,b)}},B.prototype._emitEvent=function(A,b,M,st,vt,T){var U=this._getEventObj(A,b,M,st,vt,T);if(st){U.shape=st,na(st,A,U);for(var rt=st.getParent();rt;)rt.emitDelegation(A,U),U.propagationStopped||mt(rt,A,U),U.propagationPath.push(rt),rt=rt.getParent()}else{var xt=this.canvas;na(xt,A,U)}},B.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},B}(),v=R,m="px",L=Ce(),j=L&&L.name==="firefox",ut=function(B){(0,ge.__extends)(A,B);function A(b){var M=B.call(this,b)||this;return M.initContainer(),M.initDom(),M.initEvents(),M.initTimeline(),M}return A.prototype.getDefaultCfg=function(){var b=B.prototype.getDefaultCfg.call(this);return b.cursor="default",b.supportCSSTransform=!1,b},A.prototype.initContainer=function(){var b=this.get("container");(0,kt.default)(b)&&(b=document.getElementById(b),this.set("container",b))},A.prototype.initDom=function(){var b=this.createDom();this.set("el",b);var M=this.get("container");M.appendChild(b),this.setDOMSize(this.get("width"),this.get("height"))},A.prototype.initEvents=function(){var b=new v({canvas:this});b.init(),this.set("eventController",b)},A.prototype.initTimeline=function(){var b=new Er(this);this.set("timeline",b)},A.prototype.setDOMSize=function(b,M){var st=this.get("el");dt&&(st.style.width=b+m,st.style.height=M+m)},A.prototype.changeSize=function(b,M){this.setDOMSize(b,M),this.set("width",b),this.set("height",M),this.onCanvasChange("changeSize")},A.prototype.getRenderer=function(){return this.get("renderer")},A.prototype.getCursor=function(){return this.get("cursor")},A.prototype.setCursor=function(b){this.set("cursor",b);var M=this.get("el");dt&&M&&(M.style.cursor=b)},A.prototype.getPointByEvent=function(b){var M=this.get("supportCSSTransform");if(M){if(j&&!(0,xe.default)(b.layerX)&&b.layerX!==b.offsetX)return{x:b.layerX,y:b.layerY};if(!(0,xe.default)(b.offsetX))return{x:b.offsetX,y:b.offsetY}}var st=this.getClientByEvent(b),vt=st.x,T=st.y;return this.getPointByClient(vt,T)},A.prototype.getClientByEvent=function(b){var M=b;return b.touches&&(b.type==="touchend"?M=b.changedTouches[0]:M=b.touches[0]),{x:M.clientX,y:M.clientY}},A.prototype.getPointByClient=function(b,M){var st=this.get("el"),vt=st.getBoundingClientRect();return{x:b-vt.left,y:M-vt.top}},A.prototype.getClientByPoint=function(b,M){var st=this.get("el"),vt=st.getBoundingClientRect();return{x:b+vt.left,y:M+vt.top}},A.prototype.draw=function(){},A.prototype.removeDom=function(){var b=this.get("el");b.parentNode.removeChild(b)},A.prototype.clearEvents=function(){var b=this.get("eventController");b.destroy()},A.prototype.isCanvas=function(){return!0},A.prototype.getParent=function(){return null},A.prototype.destroy=function(){var b=this.get("timeline");this.get("destroyed")||(this.clear(),b&&b.stop(),this.clearEvents(),this.removeDom(),B.prototype.destroy.call(this))},A}(Ye),gt=ut,_t=function(B){(0,ge.__extends)(A,B);function A(){return B!==null&&B.apply(this,arguments)||this}return A.prototype.isGroup=function(){return!0},A.prototype.isEntityGroup=function(){return!1},A.prototype.clone=function(){for(var b=B.prototype.clone.call(this),M=this.getChildren(),st=0;st<M.length;st++){var vt=M[st];b.add(vt.clone())}return b},A}(Ye),Lt=_t,Rt=function(B){(0,ge.__extends)(A,B);function A(b){return B.call(this,b)||this}return A.prototype._isInBBox=function(b,M){var st=this.getBBox();return st.minX<=b&&st.maxX>=b&&st.minY<=M&&st.maxY>=M},A.prototype.afterAttrsChange=function(b){B.prototype.afterAttrsChange.call(this,b),this.clearCacheBBox()},A.prototype.getBBox=function(){var b=this.get("bbox");return b||(b=this.calculateBBox(),this.set("bbox",b)),b},A.prototype.getCanvasBBox=function(){var b=this.get("canvasBox");return b||(b=this.calculateCanvasBBox(),this.set("canvasBox",b)),b},A.prototype.applyMatrix=function(b){B.prototype.applyMatrix.call(this,b),this.set("canvasBox",null)},A.prototype.calculateCanvasBBox=function(){var b=this.getBBox(),M=this.getTotalMatrix(),st=b.minX,vt=b.minY,T=b.maxX,U=b.maxY;if(M){var rt=wi(M,[b.minX,b.minY]),xt=wi(M,[b.maxX,b.minY]),Ot=wi(M,[b.minX,b.maxY]),Nt=wi(M,[b.maxX,b.maxY]);st=Math.min(rt[0],xt[0],Ot[0],Nt[0]),T=Math.max(rt[0],xt[0],Ot[0],Nt[0]),vt=Math.min(rt[1],xt[1],Ot[1],Nt[1]),U=Math.max(rt[1],xt[1],Ot[1],Nt[1])}var le=this.attrs;if(le.shadowColor){var he=le.shadowBlur,ue=he===void 0?0:he,Ne=le.shadowOffsetX,je=Ne===void 0?0:Ne,Ke=le.shadowOffsetY,ii=Ke===void 0?0:Ke,De=st-ue+je,Me=T+ue+je,qe=vt-ue+ii,ki=U+ue+ii;st=Math.min(st,De),T=Math.max(T,Me),vt=Math.min(vt,qe),U=Math.max(U,ki)}return{x:st,y:vt,minX:st,minY:vt,maxX:T,maxY:U,width:T-st,height:U-vt}},A.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},A.prototype.isClipShape=function(){return this.get("isClipShape")},A.prototype.isInShape=function(b,M){return!1},A.prototype.isOnlyHitBox=function(){return!1},A.prototype.isHit=function(b,M){var st=this.get("startArrowShape"),vt=this.get("endArrowShape"),T=[b,M,1];T=this.invertFromMatrix(T);var U=T[0],rt=T[1],xt=this._isInBBox(U,rt);return this.isOnlyHitBox()?xt:!!(xt&&!this.isClipped(U,rt)&&(this.isInShape(U,rt)||st&&st.isHit(U,rt)||vt&&vt.isHit(U,rt)))},A}(en),Ht=Rt,ae=S(76062),ve=ae.version},40455:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function S(N){var K=N.attr(),Q=K.x,Z=K.y,q=K.r;return{x:Q-q,y:Z-q,width:q*2,height:q*2}}C.default=S},27633:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function S(N){var K=N.attr(),Q=K.x,Z=K.y,q=K.rx,G=K.ry;return{x:Q-q,y:Z-G,width:q*2,height:G*2}}C.default=S},41056:function(oe,C,S){"use strict";var N;N={value:!0};var K=S(28648);C.b=K.getMethod;var Q=S(3541),Z=S(40455),q=S(10687),G=S(19914),z=S(92933),$=S(89372),F=S(74461),X=S(27633);K.register("rect",Q.default),K.register("image",Q.default),K.register("circle",Z.default),K.register("marker",Z.default),K.register("polyline",q.default),K.register("polygon",G.default),K.register("text",z.default),K.register("path",$.default),K.register("line",F.default),K.register("ellipse",X.default)},74461:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(3406);function K(Q){var Z=Q.attr(),q=Z.x1,G=Z.y1,z=Z.x2,$=Z.y2,F=Math.min(q,z),X=Math.max(q,z),D=Math.min(G,$),w=Math.max(G,$),d={minX:F,maxX:X,minY:D,maxY:w};return d=N.mergeArrowBBox(Q,d),{x:d.minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}}C.default=K},89372:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(2879),K=S(15730),Q=S(33418),Z=S(49274),q=S(39984),G=S(3406);function z(X,D){for(var w=[],d=[],I=[],k=0;k<X.length;k++){var E=X[k],P=E.currentPoint,Y=E.params,at=E.prePoint,et=void 0;switch(E.command){case"Q":et=N.default.box(at[0],at[1],Y[1],Y[2],Y[3],Y[4]);break;case"C":et=K.default.box(at[0],at[1],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6]);break;case"A":var ot=E.arcParams;et=Q.default.box(ot.cx,ot.cy,ot.rx,ot.ry,ot.xRotation,ot.startAngle,ot.endAngle);break;default:w.push(P[0]),d.push(P[1]);break}et&&(E.box=et,w.push(et.x,et.x+et.width),d.push(et.y,et.y+et.height)),D&&(E.command==="L"||E.command==="M")&&E.prePoint&&E.nextPoint&&I.push(E)}w=w.filter(function(J){return!Number.isNaN(J)}),d=d.filter(function(J){return!Number.isNaN(J)});var ft=Math.min.apply(null,w),ct=Math.min.apply(null,d),bt=Math.max.apply(null,w),tt=Math.max.apply(null,d);if(I.length===0)return{x:ft,y:ct,width:bt-ft,height:tt-ct};for(var k=0;k<I.length;k++){var E=I[k],P=E.currentPoint,O=void 0;P[0]===ft?(O=$(E,D),ft=ft-O.xExtra):P[0]===bt&&(O=$(E,D),bt=bt+O.xExtra),P[1]===ct?(O=$(E,D),ct=ct-O.yExtra):P[1]===tt&&(O=$(E,D),tt=tt+O.yExtra)}return{x:ft,y:ct,width:bt-ft,height:tt-ct}}function $(X,D){var w=X.prePoint,d=X.currentPoint,I=X.nextPoint,k=Math.pow(d[0]-w[0],2)+Math.pow(d[1]-w[1],2),E=Math.pow(d[0]-I[0],2)+Math.pow(d[1]-I[1],2),P=Math.pow(w[0]-I[0],2)+Math.pow(w[1]-I[1],2),Y=Math.acos((k+E-P)/(2*Math.sqrt(k)*Math.sqrt(E)));if(!Y||Math.sin(Y)===0||q.default(Y,0))return{xExtra:0,yExtra:0};var at=Math.abs(Math.atan2(I[1]-d[1],I[0]-d[0])),et=Math.abs(Math.atan2(I[0]-d[0],I[1]-d[1]));at=at>Math.PI/2?Math.PI-at:at,et=et>Math.PI/2?Math.PI-et:et;var ot={xExtra:Math.cos(Y/2-at)*(D/2*(1/Math.sin(Y/2)))-D/2||0,yExtra:Math.cos(et-Y/2)*(D/2*(1/Math.sin(Y/2)))-D/2||0};return ot}function F(X){var D=X.attr(),w=D.path,d=D.stroke,I=d?D.lineWidth:0,k=X.get("segments")||Z.default(w),E=z(k,I),P=E.x,Y=E.y,at=E.width,et=E.height,ot={minX:P,minY:Y,maxX:P+at,maxY:Y+et};return ot=G.mergeArrowBBox(X,ot),{x:ot.minX,y:ot.minY,width:ot.maxX-ot.minX,height:ot.maxY-ot.minY}}C.default=F},19914:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(76256);function K(Q){for(var Z=Q.attr(),q=Z.points,G=[],z=[],$=0;$<q.length;$++){var F=q[$];G.push(F[0]),z.push(F[1])}return N.getBBoxByArray(G,z)}C.default=K},10687:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(76256),K=S(3406);function Q(Z){for(var q=Z.attr(),G=q.points,z=[],$=[],F=0;F<G.length;F++){var X=G[F];z.push(X[0]),$.push(X[1])}var D=N.getBBoxByArray(z,$),w=D.x,d=D.y,I=D.width,k=D.height,E={minX:w,minY:d,maxX:w+I,maxY:d+k};return E=K.mergeArrowBBox(Z,E),{x:E.minX,y:E.minY,width:E.maxX-E.minX,height:E.maxY-E.minY}}C.default=Q},3541:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function S(N){var K=N.attr(),Q=K.x,Z=K.y,q=K.width,G=K.height;return{x:Q,y:Z,width:q,height:G}}C.default=S},28648:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=new Map;function N(Q,Z){S.set(Q,Z)}C.register=N;function K(Q){return S.get(Q)}C.getMethod=K},92933:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(8914);function K(Q){var Z=Q.attr(),q=Z.x,G=Z.y,z=Z.text,$=Z.fontSize,F=Z.lineHeight,X=Z.font;X||(X=N.assembleFont(Z));var D=N.getTextWidth(z,X),w;if(!D)w={x:q,y:G,width:0,height:0};else{var d=Z.textAlign,I=Z.textBaseline,k=N.getTextHeight(z,$,F),E={x:q,y:G-k};d&&(d==="end"||d==="right"?E.x-=D:d==="center"&&(E.x-=D/2)),I&&(I==="top"?E.y+=k:I==="middle"&&(E.y+=k/2)),w={x:E.x,y:E.y,width:D,height:k}}return w}C.default=K},3406:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function S(K,Q){return!K||!Q?K||Q:{minX:Math.min(K.minX,Q.minX),minY:Math.min(K.minY,Q.minY),maxX:Math.max(K.maxX,Q.maxX),maxY:Math.max(K.maxY,Q.maxY)}}C.mergeBBox=S;function N(K,Q){var Z=K.get("startArrowShape"),q=K.get("endArrowShape"),G=null,z=null;return Z&&(G=Z.getCanvasBBox(),Q=S(Q,G)),q&&(z=q.getCanvasBBox(),Q=S(Q,z)),Q}C.mergeArrowBBox=N},66192:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=function(){function N(K,Q){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=K,this.name=K,this.originalEvent=Q,this.timeStamp=Q.timeStamp}return N.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},N.prototype.stopPropagation=function(){this.propagationStopped=!0},N.prototype.toString=function(){var K=this.type;return"[Event (type="+K+")]"},N.prototype.save=function(){},N.prototype.restore=function(){},N}();C.default=S},85424:function(oe,C){"use strict";var S;S={value:!0}},4555:function(oe,C){"use strict";Object.defineProperty(C,"X",{value:!0})},6052:function(oe,C){"use strict";var S;S={value:!0};function N(Z,q){var G=[],z=Z[0],$=Z[1],F=Z[2],X=Z[3],D=Z[4],w=Z[5],d=Z[6],I=Z[7],k=Z[8],E=q[0],P=q[1],Y=q[2],at=q[3],et=q[4],ot=q[5],ft=q[6],ct=q[7],bt=q[8];return G[0]=E*z+P*X+Y*d,G[1]=E*$+P*D+Y*I,G[2]=E*F+P*w+Y*k,G[3]=at*z+et*X+ot*d,G[4]=at*$+et*D+ot*I,G[5]=at*F+et*w+ot*k,G[6]=ft*z+ct*X+bt*d,G[7]=ft*$+ct*D+bt*I,G[8]=ft*F+ct*w+bt*k,G}S=N;function K(Z,q){var G=[],z=q[0],$=q[1];return G[0]=Z[0]*z+Z[3]*$+Z[6],G[1]=Z[1]*z+Z[4]*$+Z[7],G}C.rG=K;function Q(Z){var q=[],G=Z[0],z=Z[1],$=Z[2],F=Z[3],X=Z[4],D=Z[5],w=Z[6],d=Z[7],I=Z[8],k=I*X-D*d,E=-I*F+D*w,P=d*F-X*w,Y=G*k+z*E+$*P;return Y?(Y=1/Y,q[0]=k*Y,q[1]=(-I*z+$*d)*Y,q[2]=(D*z-$*X)*Y,q[3]=E*Y,q[4]=(I*G-$*w)*Y,q[5]=(-D*G+$*F)*Y,q[6]=P*Y,q[7]=(-d*G+z*w)*Y,q[8]=(X*G-z*F)*Y,q):null}C.U_=Q},26632:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=null;function N(){if(!S){var K=document.createElement("canvas");K.width=1,K.height=1,S=K.getContext("2d")}return S}C.getOffScreenContext=N},8914:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(22487),K=S(26632);function Q(z,$,F){var X=1;if(N.isString(z)&&(X=z.split(`
`).length),X>1){var D=Z($,F);return $*X+D*(X-1)}return $}C.getTextHeight=Q;function Z(z,$){return $?$-z:z*.14}C.getLineSpaceing=Z;function q(z,$){var F=K.getOffScreenContext(),X=0;if(N.isNil(z)||z==="")return X;if(F.save(),F.font=$,N.isString(z)&&z.includes(`
`)){var D=z.split(`
`);N.each(D,function(w){var d=F.measureText(w).width;X<d&&(X=d)})}else X=F.measureText(z).width;return F.restore(),X}C.getTextWidth=q;function G(z){var $=z.fontSize,F=z.fontFamily,X=z.fontWeight,D=z.fontStyle,w=z.fontVariant;return[D,w,X,$+"px",F].join(" ").trim()}C.assembleFont=G},22487:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function N(w,d){var I=w.indexOf(d);I!==-1&&w.splice(I,1)}C.removeFromArray=N,C.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var K=S(73890);C.isNil=K.default;var Q=S(46812);C.isFunction=Q.default;var Z=S(21830);C.isString=Z.default;var q=S(33643);C.isObject=q.default;var G=S(66631);C.isArray=G.default;var z=S(66974);C.mix=z.default;var $=S(27154);C.each=$.default;var F=S(85260);C.upperFirst=F.default;function X(w,d){if(w.isCanvas())return!0;for(var I=d.getParent(),k=!1;I;){if(I===w){k=!0;break}I=I.getParent()}return k}C.isParent=X;function D(w){return w.cfg.visible&&w.cfg.capture}C.isAllowCapture=D},76062:function(oe){"use strict";oe.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.7","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},84909:function(oe,C,S){"use strict";var N;N={value:!0};var K=S(48465);function Q(z){return Math.sqrt(z[0]*z[0]+z[1]*z[1])}function Z(z,$){return Q(z)*Q($)?(z[0]*$[0]+z[1]*$[1])/(Q(z)*Q($)):1}function q(z,$){return(z[0]*$[1]<z[1]*$[0]?-1:1)*Math.acos(Z(z,$))}function G(z,$){var F=$[1],X=$[2],D=K.mod(K.toRadian($[3]),Math.PI*2),w=$[4],d=$[5],I=z[0],k=z[1],E=$[6],P=$[7],Y=Math.cos(D)*(I-E)/2+Math.sin(D)*(k-P)/2,at=-1*Math.sin(D)*(I-E)/2+Math.cos(D)*(k-P)/2,et=Y*Y/(F*F)+at*at/(X*X);et>1&&(F*=Math.sqrt(et),X*=Math.sqrt(et));var ot=F*F*(at*at)+X*X*(Y*Y),ft=ot?Math.sqrt((F*F*(X*X)-ot)/ot):1;w===d&&(ft*=-1),isNaN(ft)&&(ft=0);var ct=X?ft*F*at/X:0,bt=F?ft*-X*Y/F:0,tt=(I+E)/2+Math.cos(D)*ct-Math.sin(D)*bt,O=(k+P)/2+Math.sin(D)*ct+Math.cos(D)*bt,J=[(Y-ct)/F,(at-bt)/X],x=[(-1*Y-ct)/F,(-1*at-bt)/X],l=q([1,0],J),W=q(J,x);return Z(J,x)<=-1&&(W=Math.PI),Z(J,x)>=1&&(W=0),d===0&&W>0&&(W=W-2*Math.PI),d===1&&W<0&&(W=W+2*Math.PI),{cx:tt,cy:O,rx:K.isSamePoint(z,[E,P])?0:F,ry:K.isSamePoint(z,[E,P])?0:X,startAngle:l,endAngle:l+W,xRotation:D,arcFlag:w,sweepFlag:d}}C.Z=G},48465:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.isSamePoint=C.mergeRegion=C.intersectRect=C.inBox=C.distance=C.getPixelRatio=void 0;function N(){return window?window.devicePixelRatio:1}C.getPixelRatio=N;function K(P,Y,at,et){var ot=P-at,ft=Y-et;return Math.sqrt(ot*ot+ft*ft)}C.distance=K;function Q(P,Y,at,et,ot,ft){return ot>=P&&ot<=P+at&&ft>=Y&&ft<=Y+et}C.inBox=Q;function Z(P,Y){return!(Y.minX>P.maxX||Y.maxX<P.minX||Y.minY>P.maxY||Y.maxY<P.minY)}C.intersectRect=Z;function q(P,Y){return!P||!Y?P||Y:{minX:Math.min(P.minX,Y.minX),minY:Math.min(P.minY,Y.minY),maxX:Math.max(P.maxX,Y.maxX),maxY:Math.max(P.maxY,Y.maxY)}}C.mergeRegion=q;function G(P,Y){return P[0]===Y[0]&&P[1]===Y[1]}C.isSamePoint=G;var z=S(73890);Object.defineProperty(C,"isNil",{enumerable:!0,get:function(){return z.default}});var $=S(21830);Object.defineProperty(C,"isString",{enumerable:!0,get:function(){return $.default}});var F=S(46812);Object.defineProperty(C,"isFunction",{enumerable:!0,get:function(){return F.default}});var X=S(66631);Object.defineProperty(C,"isArray",{enumerable:!0,get:function(){return X.default}});var D=S(27154);Object.defineProperty(C,"each",{enumerable:!0,get:function(){return D.default}});var w=S(9217);Object.defineProperty(C,"toRadian",{enumerable:!0,get:function(){return w.default}});var d=S(5253);Object.defineProperty(C,"mod",{enumerable:!0,get:function(){return d.default}});var I=S(39984);Object.defineProperty(C,"isNumberEqual",{enumerable:!0,get:function(){return I.default}});var k=S(98229);Object.defineProperty(C,"requestAnimationFrame",{enumerable:!0,get:function(){return k.default}});var E=S(35755);Object.defineProperty(C,"clearAnimationFrame",{enumerable:!0,get:function(){return E.default}})},71270:function(oe){"use strict";oe.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.15","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":false,"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403"}')},33418:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(76256),K=S(55397);function Q(w,d,I,k,E,P,Y,at){return-1*I*Math.cos(E)*Math.sin(at)-k*Math.sin(E)*Math.cos(at)}function Z(w,d,I,k,E,P,Y,at){return-1*I*Math.sin(E)*Math.sin(at)+k*Math.cos(E)*Math.cos(at)}function q(w,d,I){return Math.atan(-d/w*Math.tan(I))}function G(w,d,I){return Math.atan(d/(w*Math.tan(I)))}function z(w,d,I,k,E,P){return I*Math.cos(E)*Math.cos(P)-k*Math.sin(E)*Math.sin(P)+w}function $(w,d,I,k,E,P){return I*Math.sin(E)*Math.cos(P)+k*Math.cos(E)*Math.sin(P)+d}function F(w,d,I,k){var E=Math.atan2(k*w,I*d);return(E+Math.PI*2)%(Math.PI*2)}function X(w,d,I){return{x:w*Math.cos(I),y:d*Math.sin(I)}}function D(w,d,I){var k=Math.cos(I),E=Math.sin(I);return[w*k-d*E,w*E+d*k]}C.default={box:function(w,d,I,k,E,P,Y){for(var at=q(I,k,E),et=Infinity,ot=-Infinity,ft=[P,Y],ct=-Math.PI*2;ct<=Math.PI*2;ct+=Math.PI){var bt=at+ct;P<Y?P<bt&&bt<Y&&ft.push(bt):Y<bt&&bt<P&&ft.push(bt)}for(var ct=0;ct<ft.length;ct++){var tt=z(w,d,I,k,E,ft[ct]);tt<et&&(et=tt),tt>ot&&(ot=tt)}for(var O=G(I,k,E),J=Infinity,x=-Infinity,l=[P,Y],ct=-Math.PI*2;ct<=Math.PI*2;ct+=Math.PI){var W=O+ct;P<Y?P<W&&W<Y&&l.push(W):Y<W&&W<P&&l.push(W)}for(var ct=0;ct<l.length;ct++){var it=$(w,d,I,k,E,l[ct]);it<J&&(J=it),it>x&&(x=it)}return{x:et,y:J,width:ot-et,height:x-J}},length:function(w,d,I,k,E,P,Y){},nearestPoint:function(w,d,I,k,E,P,Y,at,et){var ot=D(at-w,et-d,-E),ft=ot[0],ct=ot[1],bt=K.default.nearestPoint(0,0,I,k,ft,ct),tt=F(I,k,bt.x,bt.y);tt<P?bt=X(I,k,P):tt>Y&&(bt=X(I,k,Y));var O=D(bt.x,bt.y,E);return{x:O[0]+w,y:O[1]+d}},pointDistance:function(w,d,I,k,E,P,Y,at,et){var ot=this.nearestPoint(w,d,I,k,at,et);return N.distance(ot.x,ot.y,at,et)},pointAt:function(w,d,I,k,E,P,Y,at){var et=(Y-P)*at+P;return{x:z(w,d,I,k,E,et),y:$(w,d,I,k,E,et)}},tangentAngle:function(w,d,I,k,E,P,Y,at){var et=(Y-P)*at+P,ot=Q(w,d,I,k,E,P,Y,et),ft=Z(w,d,I,k,E,P,Y,et);return N.piMod(Math.atan2(ft,ot))}}},87335:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.snapLength=C.nearestPoint=void 0;var N=S(76256),K=1e-4;function Q(q,G,z,$,F,X){var D,w=Infinity,d=[z,$],I=20;X&&X>200&&(I=X/10);for(var k=1/I,E=k/10,P=0;P<=I;P++){var Y=P*k,at=[F.apply(null,q.concat([Y])),F.apply(null,G.concat([Y]))],et=N.distance(d[0],d[1],at[0],at[1]);et<w&&(D=Y,w=et)}if(D===0)return{x:q[0],y:G[0]};if(D===1){var ot=q.length;return{x:q[ot-1],y:G[ot-1]}}w=Infinity;for(var P=0;P<32&&!(E<K);P++){var ft=D-E,ct=D+E,at=[F.apply(null,q.concat([ft])),F.apply(null,G.concat([ft]))],et=N.distance(d[0],d[1],at[0],at[1]);if(ft>=0&&et<w)D=ft,w=et;else{var bt=[F.apply(null,q.concat([ct])),F.apply(null,G.concat([ct]))],tt=N.distance(d[0],d[1],bt[0],bt[1]);ct<=1&&tt<w?(D=ct,w=tt):E*=.5}}return{x:F.apply(null,q.concat([D])),y:F.apply(null,G.concat([D]))}}C.nearestPoint=Q;function Z(q,G){for(var z=0,$=q.length,F=0;F<$;F++){var X=q[F],D=G[F],w=q[(F+1)%$],d=G[(F+1)%$];z+=N.distance(X,D,w,d)}return z/2}C.snapLength=Z},15730:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(76256),K=S(23646),Q=S(87335);function Z(F,X,D,w,d){var I=1-d;return I*I*I*F+3*X*d*I*I+3*D*d*d*I+w*d*d*d}function q(F,X,D,w,d){var I=1-d;return 3*(I*I*(X-F)+2*I*d*(D-X)+d*d*(w-D))}function G(F,X,D,w){var d=-3*F+9*X-9*D+3*w,I=6*F-12*X+6*D,k=3*X-3*F,E=[],P,Y,at;if(N.isNumberEqual(d,0))N.isNumberEqual(I,0)||(P=-k/I,P>=0&&P<=1&&E.push(P));else{var et=I*I-4*d*k;N.isNumberEqual(et,0)?E.push(-I/(2*d)):et>0&&(at=Math.sqrt(et),P=(-I+at)/(2*d),Y=(-I-at)/(2*d),P>=0&&P<=1&&E.push(P),Y>=0&&Y<=1&&E.push(Y))}return E}function z(F,X,D,w,d,I,k,E,P){var Y=Z(F,D,d,k,P),at=Z(X,w,I,E,P),et=K.default.pointAt(F,X,D,w,P),ot=K.default.pointAt(D,w,d,I,P),ft=K.default.pointAt(d,I,k,E,P),ct=K.default.pointAt(et.x,et.y,ot.x,ot.y,P),bt=K.default.pointAt(ot.x,ot.y,ft.x,ft.y,P);return[[F,X,et.x,et.y,ct.x,ct.y,Y,at],[Y,at,bt.x,bt.y,ft.x,ft.y,k,E]]}function $(F,X,D,w,d,I,k,E,P){if(P===0)return Q.snapLength([F,D,d,k],[X,w,I,E]);var Y=z(F,X,D,w,d,I,k,E,.5),at=Y[0],et=Y[1];return at.push(P-1),et.push(P-1),$.apply(null,at)+$.apply(null,et)}C.default={extrema:G,box:function(F,X,D,w,d,I,k,E){for(var P=[F,k],Y=[X,E],at=G(F,D,d,k),et=G(X,w,I,E),ot=0;ot<at.length;ot++)P.push(Z(F,D,d,k,at[ot]));for(var ot=0;ot<et.length;ot++)Y.push(Z(X,w,I,E,et[ot]));return N.getBBoxByArray(P,Y)},length:function(F,X,D,w,d,I,k,E){return $(F,X,D,w,d,I,k,E,3)},nearestPoint:function(F,X,D,w,d,I,k,E,P,Y,at){return Q.nearestPoint([F,D,d,k],[X,w,I,E],P,Y,Z,at)},pointDistance:function(F,X,D,w,d,I,k,E,P,Y,at){var et=this.nearestPoint(F,X,D,w,d,I,k,E,P,Y,at);return N.distance(et.x,et.y,P,Y)},interpolationAt:Z,pointAt:function(F,X,D,w,d,I,k,E,P){return{x:Z(F,D,d,k,P),y:Z(X,w,I,E,P)}},divide:function(F,X,D,w,d,I,k,E,P){return z(F,X,D,w,d,I,k,E,P)},tangentAngle:function(F,X,D,w,d,I,k,E,P){var Y=q(F,D,d,k,P),at=q(X,w,I,E,P);return N.piMod(Math.atan2(at,Y))}}},55397:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(76256);function K(Q,Z){var q=Math.abs(Q);return Z>0?q:q*-1}C.default={box:function(Q,Z,q,G){return{x:Q-q,y:Z-G,width:q*2,height:G*2}},length:function(Q,Z,q,G){return Math.PI*(3*(q+G)-Math.sqrt((3*q+G)*(q+3*G)))},nearestPoint:function(Q,Z,q,G,z,$){var F=q,X=G;if(F===0||X===0)return{x:Q,y:Z};for(var D=z-Q,w=$-Z,d=Math.abs(D),I=Math.abs(w),k=F*F,E=X*X,P=Math.PI/4,Y,at,et=0;et<4;et++){Y=F*Math.cos(P),at=X*Math.sin(P);var ot=(k-E)*Math.pow(Math.cos(P),3)/F,ft=(E-k)*Math.pow(Math.sin(P),3)/X,ct=Y-ot,bt=at-ft,tt=d-ot,O=I-ft,J=Math.hypot(bt,ct),x=Math.hypot(O,tt),l=J*Math.asin((ct*O-bt*tt)/(J*x)),W=l/Math.sqrt(k+E-Y*Y-at*at);P+=W,P=Math.min(Math.PI/2,Math.max(0,P))}return{x:Q+K(Y,D),y:Z+K(at,w)}},pointDistance:function(Q,Z,q,G,z,$){var F=this.nearestPoint(Q,Z,q,G,z,$);return N.distance(F.x,F.y,z,$)},pointAt:function(Q,Z,q,G,z){var $=2*Math.PI*z;return{x:Q+q*Math.cos($),y:Z+G*Math.sin($)}},tangentAngle:function(Q,Z,q,G,z){var $=2*Math.PI*z,F=Math.atan2(G*Math.cos($),-q*Math.sin($));return N.piMod(F)}}},23646:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(76256),K=S(31437);C.default={box:function(Q,Z,q,G){return N.getBBoxByArray([Q,q],[Z,G])},length:function(Q,Z,q,G){return N.distance(Q,Z,q,G)},pointAt:function(Q,Z,q,G,z){return{x:(1-z)*Q+z*q,y:(1-z)*Z+z*G}},pointDistance:function(Q,Z,q,G,z,$){var F=(q-Q)*(z-Q)+(G-Z)*($-Z);if(F<0)return N.distance(Q,Z,z,$);var X=(q-Q)*(q-Q)+(G-Z)*(G-Z);return F>X?N.distance(q,G,z,$):this.pointToLine(Q,Z,q,G,z,$)},pointToLine:function(Q,Z,q,G,z,$){var F=[q-Q,G-Z];if(K.exactEquals(F,[0,0]))return Math.sqrt((z-Q)*(z-Q)+($-Z)*($-Z));var X=[-F[1],F[0]];K.normalize(X,X);var D=[z-Q,$-Z];return Math.abs(K.dot(D,X))},tangentAngle:function(Q,Z,q,G){return Math.atan2(G-Z,q-Q)}}},65386:function(oe,C,S){"use strict";var N;N={value:!0};var K=S(28171),Q=S(76256);C.Z={box:function(Z){for(var q=[],G=[],z=0;z<Z.length;z++){var $=Z[z];q.push($[0]),G.push($[1])}return Q.getBBoxByArray(q,G)},length:function(Z){return K.lengthOfSegment(Z)},pointAt:function(Z,q){return K.pointAtSegments(Z,q)},pointDistance:function(Z,q,G){return K.distanceAtSegment(Z,q,G)},tangentAngle:function(Z,q){return K.angleAtSegments(Z,q)}}},2879:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(23646),K=S(76256),Q=S(87335);function Z(F,X,D,w){var d=1-w;return d*d*F+2*w*d*X+w*w*D}function q(F,X,D){var w=F+D-2*X;if(K.isNumberEqual(w,0))return[.5];var d=(F-X)/w;return d<=1&&d>=0?[d]:[]}function G(F,X,D,w){return 2*(1-w)*(X-F)+2*w*(D-X)}function z(F,X,D,w,d,I,k){var E=Z(F,D,d,k),P=Z(X,w,I,k),Y=N.default.pointAt(F,X,D,w,k),at=N.default.pointAt(D,w,d,I,k);return[[F,X,Y.x,Y.y,E,P],[E,P,at.x,at.y,d,I]]}function $(F,X,D,w,d,I,k){if(k===0)return(K.distance(F,X,D,w)+K.distance(D,w,d,I)+K.distance(F,X,d,I))/2;var E=z(F,X,D,w,d,I,.5),P=E[0],Y=E[1];return P.push(k-1),Y.push(k-1),$.apply(null,P)+$.apply(null,Y)}C.default={box:function(F,X,D,w,d,I){var k=q(F,D,d)[0],E=q(X,w,I)[0],P=[F,d],Y=[X,I];return k!==void 0&&P.push(Z(F,D,d,k)),E!==void 0&&Y.push(Z(X,w,I,E)),K.getBBoxByArray(P,Y)},length:function(F,X,D,w,d,I){return $(F,X,D,w,d,I,3)},nearestPoint:function(F,X,D,w,d,I,k,E){return Q.nearestPoint([F,D,d],[X,w,I],k,E,Z)},pointDistance:function(F,X,D,w,d,I,k,E){var P=this.nearestPoint(F,X,D,w,d,I,k,E);return K.distance(P.x,P.y,k,E)},interpolationAt:Z,pointAt:function(F,X,D,w,d,I,k){return{x:Z(F,D,d,k),y:Z(X,w,I,k)}},divide:function(F,X,D,w,d,I,k){return z(F,X,D,w,d,I,k)},tangentAngle:function(F,X,D,w,d,I,k){var E=G(F,D,d,k),P=G(X,w,I,k),Y=Math.atan2(P,E);return K.piMod(Y)}}},28171:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.distanceAtSegment=C.angleAtSegments=C.pointAtSegments=C.lengthOfSegment=void 0;var N=S(23646),K=S(76256);function Q($){for(var F=0,X=[],D=0;D<$.length-1;D++){var w=$[D],d=$[D+1],I=K.distance(w[0],w[1],d[0],d[1]),k={from:w,to:d,length:I};X.push(k),F+=I}return{segments:X,totalLength:F}}function Z($){if($.length<2)return 0;for(var F=0,X=0;X<$.length-1;X++){var D=$[X],w=$[X+1];F+=K.distance(D[0],D[1],w[0],w[1])}return F}C.lengthOfSegment=Z;function q($,F){if(F>1||F<0||$.length<2)return null;var X=Q($),D=X.segments,w=X.totalLength;if(w===0)return{x:$[0][0],y:$[0][1]};for(var d=0,I=null,k=0;k<D.length;k++){var E=D[k],P=E.from,Y=E.to,at=E.length/w;if(F>=d&&F<=d+at){var et=(F-d)/at;I=N.default.pointAt(P[0],P[1],Y[0],Y[1],et);break}d+=at}return I}C.pointAtSegments=q;function G($,F){if(F>1||F<0||$.length<2)return 0;for(var X=Q($),D=X.segments,w=X.totalLength,d=0,I=0,k=0;k<D.length;k++){var E=D[k],P=E.from,Y=E.to,at=E.length/w;if(F>=d&&F<=d+at){I=Math.atan2(Y[1]-P[1],Y[0]-P[0]);break}d+=at}return I}C.angleAtSegments=G;function z($,F,X){for(var D=Infinity,w=0;w<$.length-1;w++){var d=$[w],I=$[w+1],k=N.default.pointDistance(d[0],d[1],I[0],I[1],F,X);k<D&&(D=k)}return D}C.distanceAtSegment=z},76256:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.piMod=C.getBBoxRange=C.getBBoxByArray=C.isNumberEqual=C.distance=void 0;function S(z){return Math.min.apply(null,z)}function N(z){return Math.max.apply(null,z)}function K(z,$,F,X){var D=z-F,w=$-X;return Math.sqrt(D*D+w*w)}C.distance=K;function Q(z,$){return Math.abs(z-$)<.001}C.isNumberEqual=Q;function Z(z,$){var F=S(z),X=S($),D=N(z),w=N($);return{x:F,y:X,width:D-F,height:w-X}}C.getBBoxByArray=Z;function q(z,$,F,X){return{minX:S([z,F]),maxX:N([z,F]),minY:S([$,X]),maxY:N([$,X])}}C.getBBoxRange=q;function G(z){return(z+Math.PI*2)%(Math.PI*2)}C.piMod=G},23231:function(oe){"use strict";oe.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.7","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},92762:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.registerAnimation=C.getAnimation=void 0;var S={};function N(Q){return S[Q.toLowerCase()]}C.getAnimation=N;function K(Q,Z){S[Q.toLowerCase()]=Z}C.registerAnimation=K},27978:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.doGroupAppearAnimate=C.doAnimate=C.getDefaultAnimateCfg=C.DEFAULT_ANIMATE_CFG=void 0;var N=S(70655),K=S(49242),Q=S(29583),Z=S(92762);C.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var q={interval:function(D){return{enter:{animation:D.isRect?D.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:D.isPolar&&D.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},G={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(D){var w;return D.isRect?w=D.isTransposed?"grow-in-x":"grow-in-y":(w="grow-in-xy",D.isPolar&&D.isTransposed&&(w="wave-in")),{animation:w}},schema:function(D){var w;return D.isRect?w=D.isTransposed?"grow-in-x":"grow-in-y":w="grow-in-xy",{animation:w}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function z(D,w){return{delay:K.isFunction(D.delay)?D.delay(w):D.delay,easing:K.isFunction(D.easing)?D.easing(w):D.easing,duration:K.isFunction(D.duration)?D.duration(w):D.duration,callback:D.callback}}function $(D,w,d){var I=q[D];return I&&(K.isFunction(I)&&(I=I(w)),I=K.deepMix({},C.DEFAULT_ANIMATE_CFG,I),d)?I[d]:I}C.getDefaultAnimateCfg=$;function F(D,w,d){var I=K.get(D.get("origin"),"data",Q.FIELD_ORIGIN),k=w.animation,E=z(w,I);if(k){var P=Z.getAnimation(k);P&&P(D,E,d)}else D.animate(d.toAttrs,E)}C.doAnimate=F;function X(D,w,d,I,k){if(G[d]){var E=G[d](I),P=Z.getAnimation(K.get(E,"animation",""));if(P){var Y=N.__assign(N.__assign(N.__assign({},C.DEFAULT_ANIMATE_CFG.appear),E),w);D.stopAnimate(),P(D,Y,{coordinate:I,minYPoint:k,toAttrs:null})}}}C.doGroupAppearAnimate=X},29515:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(70655),K=N.__importDefault(S(90494)),Q=function(Z){N.__extends(q,Z);function q(G){var z=Z.call(this)||this;z.destroyed=!1;var $=G.visible,F=$===void 0?!0:$;return z.visible=F,z}return q.prototype.show=function(){var G=this.visible;G||this.changeVisible(!0)},q.prototype.hide=function(){var G=this.visible;G&&this.changeVisible(!1)},q.prototype.destroy=function(){this.off(),this.destroyed=!0},q.prototype.changeVisible=function(G){this.visible!==G&&(this.visible=G)},q}(K.default);C.default=Q},17916:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Controller=void 0;var N=S(49242),K=function(){function Q(Z){this.visible=!0,this.components=[],this.view=Z}return Q.prototype.clear=function(){N.each(this.components,function(Z){Z.component.destroy()}),this.components=[]},Q.prototype.destroy=function(){this.clear()},Q.prototype.getComponents=function(){return this.components},Q.prototype.changeVisible=function(Z){this.visible!==Z&&(this.components.forEach(function(q){Z?q.component.show():q.component.hide()}),this.visible=Z)},Q}();C.Controller=K},45687:function(oe,C,S){"use strict";var N;N={value:!0};var K=S(70655),Q=S(17916),Z=250,q=function(X,D){var w=D.x-X.x,d=D.y-X.y;return Math.abs(w)>Math.abs(d)?w>0?"right":"left":d>0?"down":"up"},G=function(X,D){var w=Math.abs(D.x-X.x),d=Math.abs(D.y-X.y);return Math.sqrt(w*w+d*d)},z=function(X,D){var w=(X.x+D.x)/2,d=(X.y+D.y)/2;return{x:w,y:d}},$=function(X,D){if(!!X){for(var w=[],d=X.length,I=0;I<d;I++){var k=X[I],E=k.clientX,P=k.clientY,Y=D.getPointByClient(E,P);w.push(Y)}return w}},F=function(X){K.__extends(D,X);function D(w){var d=X.call(this,w)||this;return d.processEvent={},d.touchStart=function(I){var k=$(I.originalEvent.touches,d.canvas);!k||(I.points=k,d.reset(),d.startTime=Date.now(),d.startPoints=k,k.length>1?(d.startDistance=G(k[0],k[1]),d.center=z(k[0],k[1])):d.pressTimeout=setTimeout(function(){var E="press";I.direction="none",d.emitStart(E,I),d.emitEvent(E,I),d.eventType=E},Z))},d.touchMove=function(I){var k=$(I.originalEvent.touches,d.canvas);if(!!k){d.clearPressTimeout(),I.points=k;var E=d.startPoints;if(!!E)if(k.length>1){var P=d.startDistance,Y=G(k[0],k[1]);I.zoom=Y/P,I.center=d.center,d.emitStart("pinch",I),d.emitEvent("pinch",I)}else{var at=k[0].x-E[0].x,et=k[0].y-E[0].y,ot=d.direction||q(E[0],k[0]);d.direction=ot;var ft=d.getEventType(k);I.direction=ot,I.deltaX=at,I.deltaY=et,d.emitStart(ft,I),d.emitEvent(ft,I);var ct=d.lastMoveTime,bt=Date.now();bt-ct>0&&(d.prevMoveTime=ct,d.prevMovePoints=d.lastMovePoints,d.lastMoveTime=bt,d.lastMovePoints=k)}}},d.touchEnd=function(I){d.emitEnd(I);var k=d.lastMoveTime,E=Date.now();if(E-k<100){var P=d.prevMoveTime||d.startTime,Y=k-P;if(Y>0){var at=d.prevMovePoints||d.startPoints,et=d.lastMovePoints,ot=G(at[0],et[0])/Y;ot>.3&&(I.velocity=ot,I.direction=q(at[0],et[0]),d.emitEvent("swipe",I))}}d.reset();var ft=I.touches;ft&&ft.length>0&&d.touchStart(I)},d.canvas=w.getCanvas(),d.delegateEvent(),d.processEvent={},d}return Object.defineProperty(D.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),D.prototype.init=function(){},D.prototype.render=function(){},D.prototype.layout=function(){},D.prototype.update=function(){},D.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},D.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},D.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},D.prototype.emitEvent=function(w,d){var I=this.view;I.emit(w,d)},D.prototype.emitStart=function(w,d){this.isProcess(w)||(this.enable(w),this.emitEvent(w+"start",d))},D.prototype.emitEnd=function(w){var d=this,I=this.processEvent;Object.keys(I).forEach(function(k){d.emitEvent(k+"end",w),delete I[k]})},D.prototype.enable=function(w){this.processEvent[w]=!0},D.prototype.isProcess=function(w){return this.processEvent[w]},D.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},D.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},D.prototype.getEventType=function(w){var d=this,I=d.eventType,k=d.view,E=d.startTime,P=d.startPoints;if(I)return I;var Y,at=k.getEvents().pan;if(!at||!at.length)Y="press";else{var et=Date.now();et-E>Z&&G(P[0],w[0])<10?Y="press":Y="pan"}return this.eventType=Y,Y},D}(Q.Controller);C.Z=F},64815:function(oe,C,S){"use strict";var N;N={value:!0};var K=S(70655),Q=S(49242),Z=S(57029),q=S(22514),G=S(42770),z=S(99677),$=S(17916);function F(D){for(var w=[],d=function(k){var E=D[k],P=Q.find(w,function(Y){return Y.color===E.color&&Y.name===E.name&&Y.value===E.value&&Y.title===E.title});P||w.push(E)},I=0;I<D.length;I++)d(I);return w}var X=function(D){K.__extends(w,D);function w(){var d=D!==null&&D.apply(this,arguments)||this;return d.isLocked=!1,d}return Object.defineProperty(w.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),w.prototype.init=function(){},w.prototype.isVisible=function(){var d=this.view.getOptions().tooltip;return d!==!1},w.prototype.render=function(){},w.prototype.showTooltip=function(d){if(this.point=d,!!this.isVisible()){var I=this.view,k=this.getTooltipItems(d);if(!k.length){this.hideTooltip();return}var E=this.getTitle(k),P={x:k[0].x,y:k[0].y};I.emit("tooltip:show",K.__assign({items:k,title:E},d));var Y=this.getTooltipCfg(),at=Y.follow,et=Y.showMarkers,ot=Y.showCrosshairs,ft=Y.showContent,ct=Y.marker,bt=this.items,tt=this.title;if(!Q.isEqual(tt,E)||!Q.isEqual(bt,k)?(I.emit("tooltip:change",K.__assign({items:k,title:E},d)),ft&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Q.mix({},Y,{items:k,title:E},at?d:{})),this.tooltip.show()),et&&this.renderTooltipMarkers(k,ct)):(this.tooltip&&at&&(this.tooltip.update(d),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=k,this.title=E,ot){var O=Q.get(Y,["crosshairs","follow"],!1);this.renderCrosshairs(O?d:P,Y)}}},w.prototype.hideTooltip=function(){var d=this.getTooltipCfg().follow;if(!d){this.point=null;return}var I=this.tooltipMarkersGroup;I&&I.hide();var k=this.xCrosshair,E=this.yCrosshair;k&&k.hide(),E&&E.hide();var P=this.tooltip;P&&P.hide(),this.view.emit("tooltip:hide",{}),this.point=null},w.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},w.prototype.unlockTooltip=function(){this.isLocked=!1;var d=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(d.capture)},w.prototype.isTooltipLocked=function(){return this.isLocked},w.prototype.clear=function(){var d=this,I=d.tooltip,k=d.xCrosshair,E=d.yCrosshair,P=d.tooltipMarkersGroup;I&&(I.hide(),I.clear()),k&&k.clear(),E&&E.clear(),P&&P.clear()},w.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},w.prototype.changeVisible=function(d){if(this.visible!==d){var I=this,k=I.tooltip,E=I.tooltipMarkersGroup,P=I.xCrosshair,Y=I.yCrosshair;d?(k&&k.show(),E&&E.show(),P&&P.show(),Y&&Y.show()):(k&&k.hide(),E&&E.hide(),P&&P.hide(),Y&&Y.hide()),this.visible=d}},w.prototype.getTooltipItems=function(d){var I=this.findItemsFromView(this.view,d);if(I.length){I=Q.flatten(I);for(var k=0,E=I;k<E.length;k++)for(var P=E[k],Y=0,at=P;Y<at.length;Y++){var et=at[Y],ot=et.mappingData,ft=ot.x,ct=ot.y;et.x=Q.isArray(ft)?ft[ft.length-1]:ft,et.y=Q.isArray(ct)?ct[ct.length-1]:ct}var bt=this.getTooltipCfg().shared;if(bt===!1&&I.length>1){for(var tt=I[0],O=Math.abs(d.y-tt[0].y),J=0,x=I;J<x.length;J++){var l=x[J],W=Math.abs(d.y-l[0].y);W<=O&&(tt=l,O=W)}I=[tt]}return F(Q.flatten(I))}return[]},w.prototype.layout=function(){},w.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var d=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:d.get("width"),y:d.get("height")}})}},w.prototype.getTooltipCfg=function(){var d=this.view,I=d.getOptions().tooltip,k=d.getTheme(),E=Q.get(k,["components","tooltip"],{}),P=Q.isUndefined(Q.get(I,"enterable"))?E.enterable:Q.get(I,"enterable");return Q.deepMix({},E,I,{capture:!!(P||this.isLocked)})},w.prototype.getTitle=function(d){var I=d[0].title||d[0].name;return this.title=I,I},w.prototype.renderTooltip=function(){var d=this.view.getCanvas(),I={start:{x:0,y:0},end:{x:d.get("width"),y:d.get("height")}},k=this.getTooltipCfg(),E=new Z.HtmlTooltip(K.__assign(K.__assign({parent:d.get("el").parentNode,region:I},k),{visible:!1,crosshairs:null}));E.init(),this.tooltip=E},w.prototype.renderTooltipMarkers=function(d,I){for(var k=this.getTooltipMarkersGroup(),E=0,P=d;E<P.length;E++){var Y=P[E],at=Y.x,et=Y.y,ot=K.__assign(K.__assign({fill:Y.color,symbol:"circle",shadowColor:Y.color},I),{x:at,y:et});k.addShape("marker",{attrs:ot})}},w.prototype.renderCrosshairs=function(d,I){var k=Q.get(I,["crosshairs","type"],"x");k==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(d,I)):k==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(d,I)):k==="xy"&&(this.renderXCrosshairs(d,I),this.renderYCrosshairs(d,I))},w.prototype.renderXCrosshairs=function(d,I){var k=this.getViewWithGeometry(this.view).getCoordinate();if(!!q.isPointInCoordinate(k,d)){var E,P;if(k.isRect)k.isTransposed?(E={x:k.start.x,y:d.y},P={x:k.end.x,y:d.y}):(E={x:d.x,y:k.end.y},P={x:d.x,y:k.start.y});else{var Y=q.getAngleByPoint(k,d),at=k.getCenter(),et=k.getRadius();P=G.polarToCartesian(at.x,at.y,et,Y),E=at}var ot=Q.deepMix({start:E,end:P,container:this.getTooltipCrosshairsGroup()},Q.get(I,"crosshairs",{}),this.getCrosshairsText("x",d,I));delete ot.type;var ft=this.xCrosshair;ft?ft.update(ot):(ft=new Z.Crosshair.Line(ot),ft.init()),ft.render(),ft.show(),this.xCrosshair=ft}},w.prototype.renderYCrosshairs=function(d,I){var k=this.getViewWithGeometry(this.view).getCoordinate();if(!!q.isPointInCoordinate(k,d)){var E,P;if(k.isRect){var Y=void 0,at=void 0;k.isTransposed?(Y={x:d.x,y:k.end.y},at={x:d.x,y:k.start.y}):(Y={x:k.start.x,y:d.y},at={x:k.end.x,y:d.y}),E={start:Y,end:at},P="Line"}else E={center:k.getCenter(),radius:q.getDistanceToCenter(k,d),startAngle:k.startAngle,endAngle:k.endAngle},P="Circle";E=Q.deepMix({container:this.getTooltipCrosshairsGroup()},E,Q.get(I,"crosshairs",{}),this.getCrosshairsText("y",d,I)),delete E.type;var et=this.yCrosshair;et?k.isRect&&et.get("type")==="circle"||!k.isRect&&et.get("type")==="line"?(et=new Z.Crosshair[P](E),et.init()):et.update(E):(et=new Z.Crosshair[P](E),et.init()),et.render(),et.show(),this.yCrosshair=et}},w.prototype.getCrosshairsText=function(d,I,k){var E=Q.get(k,["crosshairs","text"]),P=Q.get(k,["crosshairs","follow"]),Y=this.items;if(E){var at=this.getViewWithGeometry(this.view),et=Y[0],ot=at.getXScale(),ft=at.getYScales()[0],ct=void 0,bt=void 0;if(P){var tt=this.view.getCoordinate().invert(I);ct=ot.invert(tt.x),bt=ft.invert(tt.y)}else ct=et.data[ot.field],bt=et.data[ft.field];var O=d==="x"?ct:bt;return Q.isFunction(E)?E=E(d,O,Y,I):E.content=O,{text:E}}},w.prototype.getGuideGroup=function(){if(!this.guideGroup){var d=this.view.foregroundGroup;this.guideGroup=d.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},w.prototype.getTooltipMarkersGroup=function(){var d=this.tooltipMarkersGroup;return d&&!d.destroyed?(d.clear(),d.show()):(d=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),d.toFront(),this.tooltipMarkersGroup=d),d},w.prototype.getTooltipCrosshairsGroup=function(){var d=this.tooltipCrosshairsGroup;return d||(d=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),d.toBack(),this.tooltipCrosshairsGroup=d),d},w.prototype.getTooltipItemsByHitShape=function(d,I,k){var E=[],P=d.container,Y=P.getShape(I.x,I.y);if(Y&&Y.get("visible")&&Y.get("origin")){var at=Y.get("origin").mappingData,et=z.getTooltipItems(at,d,k);et.length&&E.push(et)}return E},w.prototype.getTooltipItemsByFindData=function(d,I,k){var E=[],P=d.dataArray;d.sort(P);for(var Y=0,at=P;Y<at.length;Y++){var et=at[Y],ot=z.findDataByPoint(I,et,d);if(ot){var ft=d.getElementId(ot),ct=d.elementsMap[ft];if(d.type==="heatmap"||ct.visible){var bt=z.getTooltipItems(ot,d,k);bt.length&&E.push(bt)}}}return E},w.prototype.findItemsFromView=function(d,I){if(d.getOptions().tooltip===!1)return[];for(var k=[],E=d.geometries,P=this.getTooltipCfg(),Y=P.shared,at=P.title,et=0,ot=E;et<ot.length;et++){var ft=ot[et];if(ft.visible&&ft.tooltipOption!==!1){var ct=ft.type,bt=void 0;["point","edge","polygon"].includes(ct)?bt=this.getTooltipItemsByHitShape(ft,I,at):["area","line","path","heatmap"].includes(ct)?bt=this.getTooltipItemsByFindData(ft,I,at):Y!==!1?bt=this.getTooltipItemsByFindData(ft,I,at):bt=this.getTooltipItemsByHitShape(ft,I,at),bt.length&&k.push(bt)}}for(var tt=0,O=d.views;tt<O.length;tt++){var J=O[tt];k=k.concat(this.findItemsFromView(J,I))}return k},w.prototype.getViewWithGeometry=function(d){var I=this;return d.geometries.length?d:Q.find(d.views,function(k){return I.getViewWithGeometry(k)})},w}($.Controller);C.Z=X},29583:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.COMPONENT_MAX_VIEW_PERCENTAGE=C.MIN_CHART_HEIGHT=C.MIN_CHART_WIDTH=C.FIELD_ORIGIN=C.GROUP_ATTRS=C.ELEMENT_STATE=C.PLOT_EVENTS=C.VIEW_LIFE_CIRCLE=C.GROUP_Z_INDEX=C.COMPONENT_TYPE=C.DIRECTION=C.LAYER=void 0;var S;(function(G){G.FORE="fore",G.MID="mid",G.BG="bg"})(S=C.LAYER||(C.LAYER={}));var N;(function(G){G.TOP="top",G.TOP_LEFT="top-left",G.TOP_RIGHT="top-right",G.RIGHT="right",G.RIGHT_TOP="right-top",G.RIGHT_BOTTOM="right-bottom",G.LEFT="left",G.LEFT_TOP="left-top",G.LEFT_BOTTOM="left-bottom",G.BOTTOM="bottom",G.BOTTOM_LEFT="bottom-left",G.BOTTOM_RIGHT="bottom-right",G.RADIUS="radius",G.CIRCLE="circle",G.NONE="none"})(N=C.DIRECTION||(C.DIRECTION={}));var K;(function(G){G.AXIS="axis",G.GRID="grid",G.LEGEND="legend",G.TOOLTIP="tooltip",G.ANNOTATION="annotation",G.OTHER="other"})(K=C.COMPONENT_TYPE||(C.COMPONENT_TYPE={})),C.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var Q;(function(G){G.BEFORE_RENDER="beforerender",G.AFTER_RENDER="afterrender",G.BEFORE_PAINT="beforepaint",G.AFTER_PAINT="afterpaint",G.BEFORE_CHANGE_DATA="beforechangedata",G.AFTER_CHANGE_DATA="afterchangedata",G.BEFORE_CLEAR="beforeclear",G.AFTER_CLEAR="afterclear",G.BEFORE_DESTROY="beforedestroy"})(Q=C.VIEW_LIFE_CIRCLE||(C.VIEW_LIFE_CIRCLE={}));var Z;(function(G){G.MOUSE_ENTER="plot:mouseenter",G.MOUSE_DOWN="plot:mousedown",G.MOUSE_MOVE="plot:mousemove",G.MOUSE_UP="plot:mouseup",G.MOUSE_LEAVE="plot:mouseleave",G.TOUCH_START="plot:touchstart",G.TOUCH_MOVE="plot:touchmove",G.TOUCH_END="plot:touchend",G.TOUCH_CANCEL="plot:touchcancel",G.CLICK="plot:click",G.DBLCLICK="plot:dblclick",G.CONTEXTMENU="plot:contextmenu",G.LEAVE="plot:leave",G.ENTER="plot:enter"})(Z=C.PLOT_EVENTS||(C.PLOT_EVENTS={}));var q;(function(G){G.ACTIVE="active",G.INACTIVE="inactive",G.SELECTED="selected",G.DEFAULT="default"})(q=C.ELEMENT_STATE||(C.ELEMENT_STATE={})),C.GROUP_ATTRS=["color","shape","size"],C.FIELD_ORIGIN="_origin",C.MIN_CHART_WIDTH=1,C.MIN_CHART_HEIGHT=1,C.COMPONENT_MAX_VIEW_PERCENTAGE=.25},57029:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Slider=C.HtmlTooltip=C.ContinuousLegend=C.CategoryLegend=C.CircleGrid=C.LineGrid=C.CircleAxis=C.LineAxis=C.Annotation=C.Crosshair=C.Component=C.GroupComponent=C.HtmlComponent=void 0;var N=S(32409);Object.defineProperty(C,"Event",{enumerable:!0,get:function(){return N.Event}}),Object.defineProperty(C,"AbstractGroup",{enumerable:!0,get:function(){return N.AbstractGroup}}),Object.defineProperty(C,"AbstractShape",{enumerable:!0,get:function(){return N.AbstractShape}});var K=S(28014);Object.defineProperty(C,"registerAdjust",{enumerable:!0,get:function(){return K.registerAdjust}}),Object.defineProperty(C,"getAdjust",{enumerable:!0,get:function(){return K.getAdjust}}),Object.defineProperty(C,"Adjust",{enumerable:!0,get:function(){return K.Adjust}});var Q=S(24796);Object.defineProperty(C,"getAttribute",{enumerable:!0,get:function(){return Q.getAttribute}}),Object.defineProperty(C,"Attribute",{enumerable:!0,get:function(){return Q.Attribute}});var Z=S(21392);Object.defineProperty(C,"Color",{enumerable:!0,get:function(){return Z.Color}});var q=S(13541);Object.defineProperty(C,"getCoordinate",{enumerable:!0,get:function(){return q.getCoordinate}}),Object.defineProperty(C,"registerCoordinate",{enumerable:!0,get:function(){return q.registerCoordinate}}),Object.defineProperty(C,"Coordinate",{enumerable:!0,get:function(){return q.Coordinate}});var G=S(51082);Object.defineProperty(C,"getScale",{enumerable:!0,get:function(){return G.getScale}}),Object.defineProperty(C,"registerScale",{enumerable:!0,get:function(){return G.registerScale}}),Object.defineProperty(C,"Scale",{enumerable:!0,get:function(){return G.Scale}});var z=S(51441);Object.defineProperty(C,"Annotation",{enumerable:!0,get:function(){return z.Annotation}}),Object.defineProperty(C,"Component",{enumerable:!0,get:function(){return z.Component}}),Object.defineProperty(C,"Crosshair",{enumerable:!0,get:function(){return z.Crosshair}}),Object.defineProperty(C,"GroupComponent",{enumerable:!0,get:function(){return z.GroupComponent}}),Object.defineProperty(C,"HtmlComponent",{enumerable:!0,get:function(){return z.HtmlComponent}}),Object.defineProperty(C,"Slider",{enumerable:!0,get:function(){return z.Slider}});var $=z.Axis.Line,F=z.Axis.Circle;C.LineAxis=$,C.CircleAxis=F;var X=z.Grid.Line,D=z.Grid.Circle;C.LineGrid=X,C.CircleGrid=D;var w=z.Legend.Category,d=z.Legend.Continuous;C.CategoryLegend=w,C.ContinuousLegend=d;var I=z.Tooltip.Html;C.HtmlTooltip=I},38700:function(oe,C,S){"use strict";var N;N={value:!0};var K=S(70655),Q=S(49242),Z=S(27978),q=K.__importDefault(S(29515)),G=S(42770),z=S(31207),$=function(F){K.__extends(X,F);function X(D){var w=F.call(this,D)||this;w.states=[];var d=D.shapeFactory,I=D.container,k=D.offscreenGroup,E=D.visible,P=E===void 0?!0:E;return w.shapeFactory=d,w.container=I,w.offscreenGroup=k,w.visible=P,w}return X.prototype.draw=function(D,w){w===void 0&&(w=!1),this.model=D,this.data=D.data,this.shapeType=this.getShapeType(D),this.drawShape(D,w),this.visible===!1&&this.changeVisible(!1)},X.prototype.update=function(D){var w=this,d=w.shapeFactory,I=w.shape;if(!!I){this.model=D,this.data=D.data,this.shapeType=this.getShapeType(D),this.setShapeInfo(I,D);var k=this.getOffscreenGroup(),E=d.drawShape(this.shapeType,D,k);E.cfg.data=this.data,E.cfg.origin=D,this.syncShapeStyle(I,E,"",this.getAnimateCfg("update"))}},X.prototype.destroy=function(){var D=this,w=D.shapeFactory,d=D.shape;if(d){var I=this.getAnimateCfg("leave");I?Z.doAnimate(d,I,{coordinate:w.coordinate,toAttrs:K.__assign({},d.attr())}):d.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,F.prototype.destroy.call(this)},X.prototype.changeVisible=function(D){F.prototype.changeVisible.call(this,D),D?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(w){w.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(w){w.hide()}))},X.prototype.setState=function(D,w){var d=this,I=this,k=I.states,E=I.shapeFactory,P=I.model,Y=I.shape,at=I.shapeType,et=k.indexOf(D);if(w){if(et>-1)return;k.push(D),(D==="active"||D==="selected")&&Y.toFront()}else{if(et===-1)return;k.splice(et,1),(D==="active"||D==="selected")&&Y.toBack()}var ot=E.drawShape(at,P,this.getOffscreenGroup());k.length?k.forEach(function(ct){d.syncShapeStyle(Y,ot,ct,null)}):this.syncShapeStyle(Y,ot,"reset",null),ot.remove(!0);var ft={state:D,stateStatus:w,element:this,target:this.container};this.container.emit("statechange",ft),z.propagationDelegate(this.shape,"statechange",ft)},X.prototype.clearStates=function(){var D=this,w=this.states;Q.each(w,function(d){D.setState(d,!1)}),this.states=[]},X.prototype.hasState=function(D){return this.states.includes(D)},X.prototype.getStates=function(){return this.states},X.prototype.getData=function(){return this.data},X.prototype.getModel=function(){return this.model},X.prototype.getBBox=function(){var D=this,w=D.shape,d=D.labelShape,I={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return w&&(I=w.getCanvasBBox()),d&&d.forEach(function(k){var E=k.getCanvasBBox();I.x=Math.min(E.x,I.x),I.y=Math.min(E.y,I.y),I.minX=Math.min(E.minX,I.minX),I.minY=Math.min(E.minY,I.minY),I.maxX=Math.max(E.maxX,I.maxX),I.maxY=Math.max(E.maxY,I.maxY)}),I.width=I.maxX-I.minX,I.height=I.maxY-I.minY,I},X.prototype.getStatesStyle=function(){if(!this.statesStyle){var D=this,w=D.shapeType,d=D.geometry,I=D.shapeFactory,k=d.stateOption,E=I.defaultShapeType,P=I.theme[w]||I.theme[E];this.statesStyle=Q.deepMix({},P,k)}return this.statesStyle},X.prototype.getStateStyle=function(D,w){var d=this.getStatesStyle(),I=Q.get(d,[D,"style"],{}),k=I[w]||I;return Q.isFunction(k)?k(this):k},X.prototype.getAnimateCfg=function(D){var w=this.animate;return w?w[D]:null},X.prototype.drawShape=function(D,w){w===void 0&&(w=!1);var d=this,I=d.shapeFactory,k=d.container,E=d.shapeType;if(this.shape=I.drawShape(E,D,k),this.shape){this.setShapeInfo(this.shape,D);var P=this.shape.cfg.name;P?Q.isString(P)&&(this.shape.cfg.name=["element",P]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var Y=w?"enter":"appear",at=this.getAnimateCfg(Y);at&&Z.doAnimate(this.shape,at,{coordinate:I.coordinate,toAttrs:K.__assign({},this.shape.attr())})}},X.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var D=this.container.getGroupBase();this.offscreenGroup=new D({})}return this.offscreenGroup},X.prototype.setShapeInfo=function(D,w){var d=this;if(D.cfg.origin=w,D.cfg.element=this,D.isGroup()){var I=D.get("children");I.forEach(function(k){d.setShapeInfo(k,w)})}},X.prototype.syncShapeStyle=function(D,w,d,I,k){if(d===void 0&&(d=""),k===void 0&&(k=0),D.isGroup())for(var E=D.get("children"),P=w.get("children"),Y=0;Y<E.length;Y++)this.syncShapeStyle(E[Y],P[Y],d,I,k+Y);else{if(d&&d!=="reset"){var at=D.get("name");Q.isArray(at)&&(at=at[1]);var et=this.getStateStyle(d,at||k);w.attr(et)}var ot=G.getReplaceAttrs(D,w);this.animate?I?Z.doAnimate(D,I,{coordinate:this.shapeFactory.coordinate,toAttrs:ot,shapeModel:this.model}):d?(D.stopAnimate(),D.animate(ot,{duration:300})):D.attr(ot):D.attr(ot)}},X.prototype.getShapeType=function(D){var w=Q.get(D,"shape");return Q.isArray(w)?w[0]:w},X}(q.default);N=$},75564:function(oe,C,S){"use strict";var N;N={value:!0},C.iV=N=N=void 0;var K=S(70655),Q=S(6750),Z=S(26485);N=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],N=["cross","tick","plus","hyphen","line"];function q(G,z,$,F,X){var D=Z.getStyle(z,X,!X,"r"),w=G.parsePoints(z.points),d=w[0];if(z.isStack)d=w[1];else if(w.length>1){for(var I=$.addGroup(),k=0,E=w;k<E.length;k++){var P=E[k];I.addShape({type:"marker",attrs:K.__assign(K.__assign(K.__assign({},D),{symbol:Q.MarkerSymbols[F]||F}),P)})}return I}return $.addShape({type:"marker",attrs:K.__assign(K.__assign(K.__assign({},D),{symbol:Q.MarkerSymbols[F]||F}),d)})}C.iV=q},26485:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getStyle=void 0;var N=S(70655),K=S(49242);function Q(Z,q,G,z){z===void 0&&(z="");var $=Z.style,F=$===void 0?{}:$,X=Z.defaultStyle,D=Z.color,w=Z.size,d=N.__assign(N.__assign({},X),F);return D&&(q&&(F.stroke||(d.stroke=D)),G&&(F.fill||(d.fill=D))),z&&K.isNil(F[z])&&!K.isNil(w)&&(d[z]=w),d}C.getStyle=Q},36758:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.convertPolarPath=C.convertNormalPath=C.getSplinePath=C.getLinePath=C.catmullRom2bezier=C.smoothBezier=void 0;var N=S(43567),K=S(49242),Q=S(22514);function Z(d,I){var k=[];if(d.length){k.push(["M",d[0].x,d[0].y]);for(var E=1,P=d.length;E<P;E+=1){var Y=d[E];k.push(["L",Y.x,Y.y])}I&&k.push(["Z"])}return k}function q(d,I){for(var k=[d[0]],E=1,P=d.length;E<P;E=E+2){var Y=I.convert({x:d[E],y:d[E+1]});k.push(Y.x,Y.y)}return k}function G(d,I,k){var E=k.isTransposed,P=k.startAngle,Y=k.endAngle,at={x:d[1],y:d[2]},et={x:I[1],y:I[2]},ot=[],ft=E?"y":"x",ct=Math.abs(et[ft]-at[ft])*(Y-P),bt=et[ft]>=at[ft]?1:0,tt=ct>Math.PI?1:0,O=k.convert(et),J=Q.getDistanceToCenter(k,O);if(J>=.5)if(ct===Math.PI*2){var x={x:(et.x+at.x)/2,y:(et.y+at.y)/2},l=k.convert(x);ot.push(["A",J,J,0,tt,bt,l.x,l.y]),ot.push(["A",J,J,0,tt,bt,O.x,O.y])}else ot.push(["A",J,J,0,tt,bt,O.x,O.y]);return ot}function z(d){K.each(d,function(I,k){var E=I;if(E[0].toLowerCase()==="a"){var P=d[k-1],Y=d[k+1];Y&&Y[0].toLowerCase()==="a"?P&&P[0].toLowerCase()==="l"&&(P[0]="M"):P&&P[0].toLowerCase()==="a"&&Y&&Y[0].toLowerCase()==="l"&&(Y[0]="M")}})}C.smoothBezier=function(d,I,k,E){var P=[],Y,at,et=!!E,ot,ft;if(et){ot=[Infinity,Infinity],ft=[-Infinity,-Infinity];for(var ct=0,bt=d.length;ct<bt;ct++){var tt=d[ct];ot=N.vec2.min([0,0],ot,tt),ft=N.vec2.max([0,0],ft,tt)}ot=N.vec2.min([0,0],ot,E[0]),ft=N.vec2.max([0,0],ft,E[1])}for(var ct=0,O=d.length;ct<O;ct++){var tt=d[ct];if(k)Y=d[ct?ct-1:O-1],at=d[(ct+1)%O];else if(ct===0||ct===O-1){P.push(tt);continue}else Y=d[ct-1],at=d[ct+1];var J=[0,0];J=N.vec2.sub(J,at,Y),J=N.vec2.scale(J,J,I);var x=N.vec2.distance(tt,Y),l=N.vec2.distance(tt,at),W=x+l;W!==0&&(x/=W,l/=W);var it=N.vec2.scale([0,0],J,-x),nt=N.vec2.scale([0,0],J,l),ht=N.vec2.add([0,0],tt,it),y=N.vec2.add([0,0],tt,nt);et&&(ht=N.vec2.max([0,0],ht,ot),ht=N.vec2.min([0,0],ht,ft),y=N.vec2.max([0,0],y,ot),y=N.vec2.min([0,0],y,ft)),P.push(ht),P.push(y)}return k&&P.push(P.shift()),P};function $(d,I,k){for(var E=!!I,P=[],Y=0,at=d.length;Y<at;Y+=2)P.push([d[Y],d[Y+1]]);for(var et=C.smoothBezier(P,.4,E,k),ot=P.length,ft=[],ct,bt,tt,Y=0;Y<ot-1;Y++)ct=et[Y*2],bt=et[Y*2+1],tt=P[Y+1],ft.push(["C",ct[0],ct[1],bt[0],bt[1],tt[0],tt[1]]);return E&&(ct=et[ot],bt=et[ot+1],tt=P[0],ft.push(["C",ct[0],ct[1],bt[0],bt[1],tt[0],tt[1]])),ft}C.catmullRom2bezier=$;function F(d,I){return Z(d,I)}C.getLinePath=F;function X(d,I,k){var E=[],P=d[0],Y=null;if(d.length<=2)return F(d,I);for(var at=0,et=d.length;at<et;at++){var ot=d[at];(!Y||!(Y.x===ot.x&&Y.y===ot.y))&&(E.push(ot.x),E.push(ot.y),Y=ot)}var ft=k||[[0,0],[1,1]],ct=$(E,I,ft);return ct.unshift(["M",P.x,P.y]),ct}C.getSplinePath=X;function D(d,I){var k=[];return K.each(I,function(E){var P=E[0];switch(P.toLowerCase()){case"m":case"l":case"c":k.push(q(E,d));break;case"z":default:k.push(E);break}}),k}C.convertNormalPath=D;function w(d,I){var k=[],E,P,Y,at;return K.each(I,function(et,ot){var ft=et[0];switch(ft.toLowerCase()){case"m":case"c":case"q":k.push(q(et,d));break;case"l":E=I[ot-1],P=et,Y=d.isTransposed,at=Y?E[E.length-2]===P[1]:E[E.length-1]===P[2],at?k=k.concat(G(E,P,d)):k.push(q(et,d));break;case"z":default:k.push(et);break}}),z(k),k}C.convertPolarPath=w},33242:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(49242),K=function(){function Q(Z,q){this.context=Z,this.cfg=q,Z.addAction(this)}return Q.prototype.applyCfg=function(Z){N.assign(this,Z)},Q.prototype.init=function(){this.applyCfg(this.cfg)},Q.prototype.destroy=function(){this.context.removeAction(this),this.context=null},Q}();C.default=K},68842:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(70655),K=N.__importDefault(S(33242)),Q=function(Z){N.__extends(q,Z);function q(){return Z!==null&&Z.apply(this,arguments)||this}return q.prototype.execute=function(){this.callback&&this.callback(this.context)},q.prototype.destroy=function(){Z.prototype.destroy.call(this),this.callback=null},q}(K.default);C.default=Q},93359:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.createCallbackAction=C.unregisterAction=C.registerAction=C.getActionClass=C.createAction=void 0;var N=S(70655),K=N.__importDefault(S(68842)),Q=S(49242),Z={};function q(X,D){var w=Z[X],d=null;if(w){var I=w.ActionClass,k=w.cfg;d=new I(D,k),d.name=X,d.init()}return d}C.createAction=q;function G(X){var D=Z[X];return Q.get(D,"ActionClass")}C.getActionClass=G;function z(X,D,w){Z[X]={ActionClass:D,cfg:w}}C.registerAction=z;function $(X){delete Z[X]}C.unregisterAction=$;function F(X,D){var w=new K.default(D);return w.callback=X,w.name="callback",w}C.createCallbackAction=F},31882:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getScaleByField=C.isInRecords=C.getSiblingPoint=C.getSilbings=C.isInBox=C.getSpline=C.distance=C.getComponents=C.getElementsByPath=C.getIntersectElements=C.intersectRect=C.getElementValue=C.getElementsByState=C.getElementsByField=C.getElements=C.getSiblingMaskElements=C.getMaskedElements=C.isMask=C.isSlider=C.isList=C.isElementChange=C.getDelegationObject=C.getCurrentElement=void 0;var N=S(70655),K=S(49242),Q=S(36758),Z=S(85800),q=N.__importDefault(S(70146));function G(ht,y){var V=ht.event,yt=V.target,Mt=yt.getCanvasBBox();return Mt.width>=y||Mt.height>=y?Mt:null}function z(ht,y){var V=ht.event,yt=V.target,Mt=yt.getCanvasBBox();return Mt.width>=y||Mt.height>=y?yt.attr("path"):null}function $(ht){var y=ht.event,V,yt=y.target;return yt&&(V=yt.get("element")),V}C.getCurrentElement=$;function F(ht){var y=ht.event,V=y.target,yt;return V&&(yt=V.get("delegateObject")),yt}C.getDelegationObject=F;function X(ht){var y=ht.event.gEvent;return!(y&&y.fromShape&&y.toShape&&y.fromShape.get("element")===y.toShape.get("element"))}C.isElementChange=X;function D(ht){return ht&&ht.component&&ht.component.isList()}C.isList=D;function w(ht){return ht&&ht.component&&ht.component.isSlider()}C.isSlider=w;function d(ht){var y=ht.event,V=y.target;return V&&V.get("name")==="mask"}C.isMask=d;function I(ht,y){var V=ht.event.target;if(V.get("type")==="path"){var yt=z(ht,y);return yt?ct(ht.view,yt):void 0}var Mt=G(ht,y);return Mt?ot(ht.view,Mt):null}C.getMaskedElements=I;function k(ht,y,V){var yt=G(ht,V);if(!yt)return null;var Mt=ht.view,Gt=W(Mt,y,{x:yt.x,y:yt.y}),ee=W(Mt,y,{x:yt.maxX,y:yt.maxY}),re={minX:Gt.x,minY:Gt.y,maxX:ee.x,maxY:ee.y};return ot(y,re)}C.getSiblingMaskElements=k;function E(ht){var y=ht.geometries,V=[];return K.each(y,function(yt){var Mt=yt.elements;V=V.concat(Mt)}),ht.views&&ht.views.length&&K.each(ht.views,function(yt){V=V.concat(E(yt))}),V}C.getElements=E;function P(ht,y,V){var yt=E(ht);return yt.filter(function(Mt){return at(Mt,y)===V})}C.getElementsByField=P;function Y(ht,y){var V=ht.geometries,yt=[];return K.each(V,function(Mt){var Gt=Mt.getElementsBy(function(ee){return ee.hasState(y)});yt=yt.concat(Gt)}),yt}C.getElementsByState=Y;function at(ht,y){var V=ht.getModel(),yt=V.data,Mt;return K.isArray(yt)?Mt=yt[0][y]:Mt=yt[y],Mt}C.getElementValue=at;function et(ht,y){return!(y.minX>ht.maxX||y.maxX<ht.minX||y.minY>ht.maxY||y.maxY<ht.minY)}C.intersectRect=et;function ot(ht,y){var V=E(ht),yt=[];return K.each(V,function(Mt){var Gt=Mt.shape,ee=Gt.getCanvasBBox();et(y,ee)&&yt.push(Mt)}),yt}C.getIntersectElements=ot;function ft(ht){var y=[];return K.each(ht,function(V){var yt=V[0];if(yt!=="A")for(var Mt=1;Mt<V.length;Mt=Mt+2)y.push([V[Mt],V[Mt+1]]);else{var Gt=V.length;y.push([V[Gt-2],V[Gt-1]])}}),y}function ct(ht,y){var V=E(ht),yt=ft(y),Mt=V.filter(function(Gt){var ee=Gt.shape,re;if(ee.get("type")==="path")re=ft(ee.attr("path"));else{var ce=ee.getCanvasBBox();re=Z.toPoints(ce)}return q.default(yt,re)});return Mt}C.getElementsByPath=ct;function bt(ht){return ht.getComponents().map(function(y){return y.component})}C.getComponents=bt;function tt(ht,y){var V=y.x-ht.x,yt=y.y-ht.y;return Math.sqrt(V*V+yt*yt)}C.distance=tt;function O(ht,y){if(ht.length<=2)return Q.getLinePath(ht,!1);var V=ht[0],yt=[];K.each(ht,function(Gt){yt.push(Gt.x),yt.push(Gt.y)});var Mt=Q.catmullRom2bezier(yt,y,null);return Mt.unshift(["M",V.x,V.y]),Mt}C.getSpline=O;function J(ht,y){return ht.x<=y.x&&ht.maxX>=y.x&&ht.y<=y.y&&ht.maxY>y.y}C.isInBox=J;function x(ht){var y=ht.parent,V=null;return y&&(V=y.views.filter(function(yt){return yt!==ht})),V}C.getSilbings=x;function l(ht,y){var V=ht.getCoordinate();return V.invert(y)}function W(ht,y,V){var yt=l(ht,V);return y.getCoordinate().convert(yt)}C.getSiblingPoint=W;function it(ht,y,V,yt){var Mt=!1;return K.each(ht,function(Gt){if(Gt[V]===y[V]&&Gt[yt]===y[yt])return Mt=!0,!1}),Mt}C.isInRecords=it;function nt(ht,y){var V=ht.getScaleByField(y);return!V&&ht.views&&K.each(ht.views,function(yt){if(V=nt(yt,y),V)return!1}),V}C.getScaleByField=nt},43273:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(49242),K=S(31882),Q=function(){function Z(q){this.actions=[],this.event=null,this.cacheMap={},this.view=q}return Z.prototype.cache=function(){for(var q=[],G=0;G<arguments.length;G++)q[G]=arguments[G];if(q.length===1)return this.cacheMap[q[0]];q.length===2&&(this.cacheMap[q[0]]=q[1])},Z.prototype.getAction=function(q){return this.actions.find(function(G){return G.name===q})},Z.prototype.addAction=function(q){this.actions.push(q)},Z.prototype.removeAction=function(q){var G=this.actions,z=this.actions.indexOf(q);z>=0&&G.splice(z,1)},Z.prototype.getCurrentPoint=function(){var q=this.event;if(q)if(q.target instanceof HTMLElement){var G=this.view.getCanvas(),z=G.getPointByClient(q.clientX,q.clientY);return z}else return{x:q.x,y:q.y};return null},Z.prototype.getCurrentShape=function(){return N.get(this.event,["gEvent","shape"])},Z.prototype.isInPlot=function(){var q=this.getCurrentPoint();return q?this.view.isPointInPlot(q):!1},Z.prototype.isInShape=function(q){var G=this.getCurrentShape();return G?G.get("name")===q:!1},Z.prototype.isInComponent=function(q){var G=K.getComponents(this.view),z=this.getCurrentPoint();return z?!!G.find(function($){var F=$.getBBox();return q?$.get("name")===q&&K.isInBox(F,z):K.isInBox(F,z)}):!1},Z.prototype.destroy=function(){this.view=null,this.event=null,N.each(this.actions.slice(),function(q){q.destroy()}),this.actions=null,this.cacheMap=null},Z}();C.default=Q},61058:function(oe,C,S){"use strict";var N;N={value:!0};var K=S(70655),Q=S(49242),Z=S(93359),q=K.__importDefault(S(43273)),G=K.__importDefault(S(91513));function z(D,w){var d=D.split(":"),I=d[0],k=w.getAction(I)||Z.createAction(I,w);if(!k)throw new Error("There is no action named "+I);var E=d[1];return{action:k,methodName:E}}function $(D){var w=D.action,d=D.methodName;if(w[d])w[d]();else throw new Error("Action("+w.name+") doesn't have a method called "+d)}var F={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},X=function(D){K.__extends(w,D);function w(d,I){var k=D.call(this,d,I)||this;return k.callbackCaches={},k.emitCaches={},k.steps=I,k}return w.prototype.init=function(){this.initContext(),D.prototype.init.call(this)},w.prototype.destroy=function(){D.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},w.prototype.initEvents=function(){var d=this;Q.each(this.steps,function(I,k){Q.each(I,function(E){var P=d.getActionCallback(k,E);P&&d.bindEvent(E.trigger,P)})})},w.prototype.clearEvents=function(){var d=this;Q.each(this.steps,function(I,k){Q.each(I,function(E){var P=d.getActionCallback(k,E);P&&d.offEvent(E.trigger,P)})})},w.prototype.initContext=function(){var d=this.view,I=new q.default(d);this.context=I;var k=this.steps;Q.each(k,function(E){Q.each(E,function(P){if(Q.isFunction(P.action))P.actionObject={action:Z.createCallbackAction(P.action,I),methodName:"execute"};else if(Q.isString(P.action))P.actionObject=z(P.action,I);else if(Q.isArray(P.action)){var Y=P.action;P.actionObject=[],Q.each(Y,function(at){P.actionObject.push(z(at,I))})}})})},w.prototype.isAllowStep=function(d){var I=this.currentStepName,k=this.steps;if(I===d||d===F.SHOW_ENABLE)return!0;if(d===F.PROCESSING)return I===F.START;if(d===F.START)return I!==F.PROCESSING;if(d===F.END)return I===F.PROCESSING||I===F.START;if(d===F.ROLLBACK){if(k[F.END])return I===F.END;if(I===F.START)return!0}return!1},w.prototype.isAllowExcute=function(d,I){if(this.isAllowStep(d)){var k=this.getKey(d,I);return I.once&&this.emitCaches[k]?!1:I.isEnable?I.isEnable(this.context):!0}return!1},w.prototype.enterStep=function(d){this.currentStepName=d,this.emitCaches={}},w.prototype.afterExecute=function(d,I){d!==F.SHOW_ENABLE&&this.currentStepName!==d&&this.enterStep(d);var k=this.getKey(d,I);this.emitCaches[k]=!0},w.prototype.getKey=function(d,I){return d+I.trigger+I.action},w.prototype.getActionCallback=function(d,I){var k=this,E=this.context,P=this.callbackCaches,Y=I.actionObject;if(I.action&&Y){var at=this.getKey(d,I);if(!P[at]){var et=function(ot){E.event=ot,k.isAllowExcute(d,I)?(Q.isArray(Y)?Q.each(Y,function(ft){E.event=ot,$(ft)}):(E.event=ot,$(Y)),k.afterExecute(d,I),I.callback&&(E.event=ot,I.callback(E))):E.event=null};I.debounce?P[at]=Q.debounce(et,I.debounce.wait,I.debounce.immediate):I.throttle?P[at]=Q.throttle(et,I.throttle.wait,{leading:I.throttle.leading,trailing:I.throttle.trailing}):P[at]=et}return P[at]}return null},w.prototype.bindEvent=function(d,I){var k=d.split(":");k[0]==="window"?window.addEventListener(k[1],I):k[0]==="document"?document.addEventListener(k[1],I):this.view.on(d,I)},w.prototype.offEvent=function(d,I){var k=d.split(":");k[0]==="window"?window.removeEventListener(k[1],I):k[0]==="document"?document.removeEventListener(k[1],I):this.view.off(d,I)},w}(G.default);N=X},91513:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=function(){function N(K,Q){this.view=K,this.cfg=Q}return N.prototype.init=function(){this.initEvents()},N.prototype.initEvents=function(){},N.prototype.clearEvents=function(){},N.prototype.destroy=function(){this.clearEvents()},N}();C.default=S},85800:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.toPoints=C.getRegionBBox=C.BBox=void 0;var N=S(49242),K=S(29583),Q=function(){function q(G,z,$,F){G===void 0&&(G=0),z===void 0&&(z=0),$===void 0&&($=0),F===void 0&&(F=0),this.x=G,this.y=z,this.height=F,this.width=$}return q.fromRange=function(G,z,$,F){return new q(G,z,$-G,F-z)},Object.defineProperty(q.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),q.prototype.isEqual=function(G){return this.x===G.x&&this.y===G.y&&this.width===G.width&&this.height===G.height},q.prototype.clone=function(){return new q(this.x,this.y,this.width,this.height)},q.prototype.add=function(){for(var G=[],z=0;z<arguments.length;z++)G[z]=arguments[z];var $=this.clone();return N.each(G,function(F){$.x=Math.min(F.x,$.x),$.y=Math.min(F.y,$.y),$.width=Math.max(F.maxX,$.maxX)-$.x,$.height=Math.max(F.maxY,$.maxY)-$.y}),$},q.prototype.merge=function(){for(var G=[],z=0;z<arguments.length;z++)G[z]=arguments[z];var $=this.clone();return N.each(G,function(F){$.x=Math.max(F.x,$.x),$.y=Math.max(F.y,$.y),$.width=Math.min(F.maxX,$.maxX)-$.x,$.height=Math.min(F.maxY,$.maxY)-$.y}),$},q.prototype.cut=function(G,z){var $=G.width,F=G.height;switch(z){case K.DIRECTION.TOP:case K.DIRECTION.TOP_LEFT:case K.DIRECTION.TOP_RIGHT:return q.fromRange(this.minX,this.minY+F,this.maxX,this.maxY);case K.DIRECTION.RIGHT:case K.DIRECTION.RIGHT_TOP:case K.DIRECTION.RIGHT_BOTTOM:return q.fromRange(this.minX,this.minY,this.maxX-$,this.maxY);case K.DIRECTION.BOTTOM:case K.DIRECTION.BOTTOM_LEFT:case K.DIRECTION.BOTTOM_RIGHT:return q.fromRange(this.minX,this.minY,this.maxX,this.maxY-F);case K.DIRECTION.LEFT:case K.DIRECTION.LEFT_TOP:case K.DIRECTION.LEFT_BOTTOM:return q.fromRange(this.minX+$,this.minY,this.maxX,this.maxY);default:return this}},q.prototype.shrink=function(G){var z=G[0],$=G[1],F=G[2],X=G[3];return new q(this.x+X,this.y+z,this.width-X-$,this.height-z-F)},q.prototype.exceed=function(G){return[Math.max(-this.minY+G.minY,0),Math.max(this.maxX-G.maxX,0),Math.max(this.maxY-G.maxY,0),Math.max(-this.minX+G.minX,0)]},q.prototype.size=function(){return this.width*this.height},q}();C.BBox=Q,C.getRegionBBox=function(q,G){var z=G.start,$=G.end;return new Q(q.x+q.width*z.x,q.y+q.height*z.y,q.width*Math.abs($.x-z.x),q.height*Math.abs($.y-z.y))};function Z(q){return[[q.minX,q.minY],[q.maxX,q.minY],[q.maxX,q.maxY],[q.minX,q.maxY]]}C.toPoints=Z},22514:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getCoordinateClipCfg=C.getAngleByPoint=C.isPointInCoordinate=C.getDistanceToCenter=C.isFullCircle=C.getXDimensionLength=void 0;var N=S(42770),K=S(86630);function Q(F){if(F.isPolar&&!F.isTransposed)return(F.endAngle-F.startAngle)*F.getRadius();var X=F.convert({x:0,y:0}),D=F.convert({x:1,y:0});return Math.sqrt(Math.pow(D.x-X.x,2)+Math.pow(D.y-X.y,2))}C.getXDimensionLength=Q;function Z(F){if(F.isPolar){var X=F.startAngle,D=F.endAngle;return D-X==Math.PI*2}return!1}C.isFullCircle=Z;function q(F,X){var D=F.getCenter();return Math.sqrt(Math.pow(X.x-D.x,2)+Math.pow(X.y-D.y,2))}C.getDistanceToCenter=q;function G(F,X){var D=!1;if(F)if(F.type==="theta"){var w=F.start,d=F.end;D=K.isBetween(X.x,w.x,d.x)&&K.isBetween(X.y,w.y,d.y)}else{var I=F.invert(X);D=K.isBetween(I.x,0,1)&&K.isBetween(I.y,0,1)}return D}C.isPointInCoordinate=G;function z(F,X){var D=F.getCenter();return Math.atan2(X.y-D.y,X.x-D.x)}C.getAngleByPoint=z;function $(F,X){X===void 0&&(X=0);var D=F.start,w=F.end,d=F.getWidth(),I=F.getHeight();if(F.isPolar){var k=F.startAngle,E=F.endAngle,P=F.getCenter(),Y=F.getRadius();return{type:"path",startState:{path:N.getSectorPath(P.x,P.y,Y+X,k,k)},endState:function(et){var ot=(E-k)*et+k,ft=N.getSectorPath(P.x,P.y,Y+X,k,ot);return{path:ft}},attrs:{path:N.getSectorPath(P.x,P.y,Y+X,k,E)}}}var at;return F.isTransposed?at={height:I+X*2}:at={width:d+X*2},{type:"rect",startState:{x:D.x-X,y:w.y-X,width:F.isTransposed?d+X*2:0,height:F.isTransposed?0:I+X*2},endState:at,attrs:{x:D.x-X,y:w.y-X,width:d+X*2,height:I+X*2}}}C.getCoordinateClipCfg=$},42770:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getReplaceAttrs=C.getPolygonCentroid=C.getAngle=C.getArcPath=C.getSectorPath=C.polarToCartesian=void 0;var N=S(49242);function K(F){if(N.isEmpty(F))return null;var X=F[0].x,D=F[0].x,w=F[0].y,d=F[0].y;return N.each(F,function(I){X=X>I.x?I.x:X,D=D<I.x?I.x:D,w=w>I.y?I.y:w,d=d<I.y?I.y:d}),{minX:X,maxX:D,minY:w,maxY:d,centerX:(X+D)/2,centerY:(w+d)/2}}function Q(F,X,D,w){return{x:F+D*Math.cos(w),y:X+D*Math.sin(w)}}C.polarToCartesian=Q;function Z(F,X,D,w,d,I){I===void 0&&(I=0);var k=Q(F,X,D,w),E=Q(F,X,D,d),P=Q(F,X,I,w),Y=Q(F,X,I,d);if(d-w==Math.PI*2){var at=Q(F,X,D,w+Math.PI),et=Q(F,X,I,w+Math.PI),ot=[["M",k.x,k.y],["A",D,D,0,1,1,at.x,at.y],["A",D,D,0,1,1,E.x,E.y],["M",P.x,P.y]];return I&&(ot.push(["A",I,I,0,1,0,et.x,et.y]),ot.push(["A",I,I,0,1,0,Y.x,Y.y])),ot.push(["M",k.x,k.y]),ot.push(["Z"]),ot}var ft=d-w<=Math.PI?0:1,ct=[["M",k.x,k.y],["A",D,D,0,ft,1,E.x,E.y],["L",Y.x,Y.y]];return I&&ct.push(["A",I,I,0,ft,0,P.x,P.y]),ct.push(["L",k.x,k.y]),ct.push(["Z"]),ct}C.getSectorPath=Z;function q(F,X,D,w,d){var I=Q(F,X,D,w),k=Q(F,X,D,d);if(N.isNumberEqual(d-w,Math.PI*2)){var E=Q(F,X,D,w+Math.PI);return[["M",I.x,I.y],["A",D,D,0,1,1,E.x,E.y],["A",D,D,0,1,1,I.x,I.y],["A",D,D,0,1,0,E.x,E.y],["A",D,D,0,1,0,I.x,I.y],["Z"]]}var P=d-w<=Math.PI?0:1;return[["M",I.x,I.y],["A",D,D,0,P,1,k.x,k.y]]}C.getArcPath=q;function G(F,X){var D=F.points,w=K(D),d,I,k=X.startAngle,E=X.endAngle,P=E-k;return X.isTransposed?(d=w.maxY*P,I=w.minY*P):(d=w.maxX*P,I=w.minX*P),d+=k,I+=k,{startAngle:I,endAngle:d}}C.getAngle=G;function z(F,X){if(N.isNumber(F)&&N.isNumber(X))return[F,X];for(var D=-1,w=0,d=0,I,k=F.length-1,E,P=0;++D<F.length;)I=k,k=D,P+=E=F[I]*X[k]-F[k]*X[I],w+=(F[I]+F[k])*E,d+=(X[I]+X[k])*E;return P*=3,[w/P,d/P]}C.getPolygonCentroid=z;function $(F,X){var D=F.attr(),w=X.attr();return N.each(D,function(d,I){w[I]===void 0&&(w[I]=void 0)}),w}C.getReplaceAttrs=$},86630:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.uniq=C.omit=C.padEnd=C.isBetween=void 0;var N=S(49242);function K(G,z,$){var F=Math.min(z,$),X=Math.max(z,$);return G>=F&&G<=X}C.isBetween=K;function Q(G,z,$){if(N.isString(G))return G.padEnd(z,$);if(N.isArray(G)){var F=G.length;if(F<z)for(var X=z-F,D=0;D<X;D++)G.push($)}return G}C.padEnd=Q;function Z(G,z){return z.forEach(function($){delete G[$]}),G}C.omit=Z;function q(G,z,$){z===void 0&&(z=[]),$===void 0&&($={});for(var F=0,X=G;F<X.length;F++){var D=X[F];$[D]||(z.push(D),$[D]=!0)}return z}C.uniq=q},6750:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.MarkerSymbols=void 0,C.MarkerSymbols={hexagon:function(S,N,K){var Q=K/2*Math.sqrt(3);return[["M",S,N-K],["L",S+Q,N-K/2],["L",S+Q,N+K/2],["L",S,N+K],["L",S-Q,N+K/2],["L",S-Q,N-K/2],["Z"]]},bowtie:function(S,N,K){var Q=K-1.5;return[["M",S-K,N-Q],["L",S+K,N+Q],["L",S+K,N-Q],["L",S-K,N+Q],["Z"]]},cross:function(S,N,K){return[["M",S-K,N-K],["L",S+K,N+K],["M",S+K,N-K],["L",S-K,N+K]]},tick:function(S,N,K){return[["M",S-K/2,N-K],["L",S+K/2,N-K],["M",S,N-K],["L",S,N+K],["M",S-K/2,N+K],["L",S+K/2,N+K]]},plus:function(S,N,K){return[["M",S-K,N],["L",S+K,N],["M",S,N-K],["L",S,N+K]]},hyphen:function(S,N,K){return[["M",S-K,N],["L",S+K,N]]},line:function(S,N,K){return[["M",S,N-K],["L",S,N+K]]}}},16854:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getName=C.syncScale=C.createScaleByField=void 0;var N=S(70655),K=S(49242),Q=S(57029),Z=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function q(F){var X="linear";return Z.test(F)?X="time":K.isString(F)&&(X="cat"),X}function G(F,X,D){var w=X||[];if(K.isNumber(F)||K.isNil(K.firstValue(w,F))&&K.isEmpty(D)){var d=Q.getScale("identity");return new d({field:F.toString(),values:[F]})}var I=K.valuesOfKey(w,F),k=K.get(D,"type",q(I[0])),E=Q.getScale(k);return new E(N.__assign({field:F,values:I},D))}C.createScaleByField=G;function z(F,X){if(F.type!=="identity"&&X.type!=="identity"){var D={};for(var w in X)Object.prototype.hasOwnProperty.call(X,w)&&(D[w]=X[w]);F.change(D)}}C.syncScale=z;function $(F){return F.alias||F.field}C.getName=$},99677:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getTooltipItems=C.findDataByPoint=void 0;var N=S(70655),K=S(49242),Q=S(29583),Z=S(16854);function q(E,P,Y){var at=Y.translate(E),et=Y.translate(P);return K.isNumberEqual(at,et)}function G(E,P){var Y=P.coordinate,at=P.getXScale(),et=at.range,ot=et[et.length-1],ft=et[0],ct=Y.invert(E),bt=ct.x;return Y.isPolar&&bt>(1+ot)/2&&(bt=ft),at.translate(at.invert(bt))}function z(E,P,Y){var at=Y.coordinate,et=Y.getYScale(),ot=et.field,ft=at.invert(P),ct=et.invert(ft.y),bt=K.find(E,function(tt){var O=tt[Q.FIELD_ORIGIN];return O[ot][0]<=ct&&O[ot][1]>=ct});return bt||E[E.length-1]}var $=K.memoize(function(E){if(E.isCategory)return 1;for(var P=E.values,Y=P.length,at=E.translate(P[0]),et=at,ot=0;ot<Y;ot++){var ft=P[ot],ct=E.translate(ft);ct<at&&(at=ct),ct>et&&(et=ct)}return(et-at)/(Y-1)});function F(E,P,Y){var at=Y;if(!Y){var et=P.getAttribute("position"),ot=et.getFields();at=ot[0]}var ft=P.scales;return ft[at]?ft[at].getText(E[at]):K.hasKey(E,at)?E[at]:at}function X(E){var P=K.values(E.attributes);return K.filter(P,function(Y){return K.contains(Q.GROUP_ATTRS,Y.type)})}function D(E){for(var P=X(E),Y,at=0,et=P;at<et.length;at++){var ot=et[at],ft=ot.getScale(ot.type);if(ft&&ft.isLinear){Y=ft;break}}var ct=E.getXScale(),bt=E.getYScale();return Y||bt||ct}function w(E,P){var Y=P.field,at=E[Y];if(K.isArray(at)){var et=at.map(function(ot){return P.getText(ot)});return et.join("-")}return P.getText(at)}function d(E,P){var Y,at=P.getGroupScales();if(at.length&&(Y=at[0]),Y){var et=Y.field;return Y.getText(E[et])}var ot=D(P);return Z.getName(ot)}function I(E,P,Y){if(P.length===0)return null;var at=Y.type,et=Y.getXScale(),ot=Y.getYScale(),ft=et.field,ct=ot.field,bt=null;if(at==="heatmap"||at==="point"){for(var tt=Y.coordinate,O=tt.invert(E),J=et.invert(O.x),x=ot.invert(O.y),l=Infinity,W=0;W<P.length;W++){var it=P[W],nt=it[Q.FIELD_ORIGIN],ht=Math.pow(nt[ft]-J,2)+Math.pow(nt[ct]-x,2);ht<l&&(l=ht,bt=it)}return bt}var y=P[0],V=P[P.length-1],yt=G(E,Y),Mt=y[Q.FIELD_ORIGIN][ft],Gt=y[Q.FIELD_ORIGIN][ct],ee=V[Q.FIELD_ORIGIN][ft],re=ot.isLinear&&K.isArray(Gt);if(K.isArray(Mt)){for(var W=0;W<P.length;W++){var ce=P[W],nt=ce[Q.FIELD_ORIGIN];if(et.translate(nt[ft][0])<=yt&&et.translate(nt[ft][1])>=yt)if(re)K.isArray(bt)||(bt=[]),bt.push(ce);else{bt=ce;break}}K.isArray(bt)&&(bt=z(bt,E,Y))}else{var pe=void 0;if(!et.isLinear&&et.type!=="timeCat"){for(var W=0;W<P.length;W++){var ce=P[W],nt=ce[Q.FIELD_ORIGIN];if(q(nt[ft],yt,et))if(re)K.isArray(bt)||(bt=[]),bt.push(ce);else{bt=ce;break}else et.translate(nt[ft])<=yt&&(V=ce,pe=P[W+1])}K.isArray(bt)&&(bt=z(bt,E,Y))}else{if((yt>et.translate(ee)||yt<et.translate(Mt))&&(yt>et.max||yt<et.min))return null;for(var ge=0,me=P.length-1,xe=void 0;ge<=me;){xe=Math.floor((ge+me)/2);var de=P[xe][Q.FIELD_ORIGIN][ft];if(q(de,yt,et))return P[xe];et.translate(de)<=et.translate(yt)?(ge=xe+1,V=P[xe],pe=P[xe+1]):(me===0&&(V=P[0]),me=xe-1)}}V&&pe&&Math.abs(et.translate(V[Q.FIELD_ORIGIN][ft])-yt)>Math.abs(et.translate(pe[Q.FIELD_ORIGIN][ft])-yt)&&(V=pe)}var kt=$(Y.getXScale());return!bt&&Math.abs(et.translate(V[Q.FIELD_ORIGIN][ft])-yt)<=kt/2&&(bt=V),bt}C.findDataByPoint=I;function k(E,P,Y){Y===void 0&&(Y="");var at=E[Q.FIELD_ORIGIN],et=F(at,P,Y),ot=P.tooltipOption,ft=P.theme.defaultColor,ct=[],bt,tt;function O(Gt,ee){if(!K.isNil(ee)&&ee!==""){var re={title:et,data:at,mappingData:E,name:Gt,value:ee,color:E.color||ft,marker:!0};ct.push(re)}}if(K.isObject(ot)){var J=ot.fields,x=ot.callback;if(x){var l=J.map(function(Gt){return E[Q.FIELD_ORIGIN][Gt]}),W=x.apply(void 0,l),it=N.__assign({data:E[Q.FIELD_ORIGIN],mappingData:E,title:et,color:E.color||ft,marker:!0},W);ct.push(it)}else for(var nt=P.scales,ht=0,y=J;ht<y.length;ht++){var V=y[ht];if(!K.isNil(at[V])){var yt=nt[V];bt=Z.getName(yt),tt=yt.getText(at[V]),O(bt,tt)}}}else{var Mt=D(P);K.isNil(at[Mt.field])||(tt=w(at,Mt),bt=d(at,P),O(bt,tt))}return ct}C.getTooltipItems=k},25155:function(oe){"use strict";var C=!1,S=function(){};if(C){var N=function(Q,Z){var q=arguments.length;Z=new Array(q>1?q-1:0);for(var G=1;G<q;G++)Z[G-1]=arguments[G];var z=0,$="Warning: "+Q.replace(/%s/g,function(){return Z[z++]});typeof console!="undefined"&&console.error($);try{throw new Error($)}catch(F){}};S=function(K,Q,Z){var q=arguments.length;Z=new Array(q>2?q-2:0);for(var G=2;G<q;G++)Z[G-2]=arguments[G];if(Q===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");K||N.apply(null,[Q].concat(Z))}}oe.exports=S},31506:function(oe,C,S){"use strict";S.r(C),S.d(C,{leftTranslate:function(){return Q},leftRotate:function(){return Z},leftScale:function(){return q},transform:function(){return z},direction:function(){return $},angleTo:function(){return F},vertical:function(){return X}});var N=S(35600),K=S(31437);function Q(D,w,d){var I=[0,0,0,0,0,0,0,0,0];return N.fromTranslation(I,d),N.multiply(D,I,w)}function Z(D,w,d){var I=[0,0,0,0,0,0,0,0,0];return N.fromRotation(I,d),N.multiply(D,I,w)}function q(D,w,d){var I=[0,0,0,0,0,0,0,0,0];return N.fromScaling(I,d),N.multiply(D,I,w)}function G(D,w,d){return N.multiply(D,d,w)}function z(D,w){for(var d=D?[].concat(D):[1,0,0,0,1,0,0,0,1],I=0,k=w.length;I<k;I++){var E=w[I];switch(E[0]){case"t":Q(d,d,[E[1],E[2]]);break;case"s":q(d,d,[E[1],E[2]]);break;case"r":Z(d,d,E[1]);break;case"m":G(d,d,E[1]);break;default:break}}return d}function $(D,w){return D[0]*w[1]-w[0]*D[1]}function F(D,w,d){var I=K.angle(D,w),k=$(D,w)>=0;return d?k?Math.PI*2-I:I:k?I:Math.PI*2-I}function X(D,w,d){return d?(D[0]=w[1],D[1]=-1*w[0]):(D[0]=-1*w[1],D[1]=w[0]),D}},43567:function(oe,C,S){"use strict";S.r(C),S.d(C,{mat3:function(){return N},vec2:function(){return K},vec3:function(){return Q},ext:function(){return Z}});var N=S(35600),K=S(31437),Q=S(77160),Z=S(31506)},32093:function(oe,C,S){"use strict";S.d(C,{e9:function(){return F},tr:function(){return E}});var N=S(49242),K=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,Q=/[^\s\,]+/ig;function Z(dt){var Ct=dt||[];if(isArray(Ct))return Ct;if(isString(Ct))return Ct=Ct.match(K),each(Ct,function(It,Bt){if(It=It.match(Q),It[0].length>1){var Wt=It[0].charAt(0);It.splice(1,0,It[0].substr(1)),It[0]=Wt}each(It,function($t,Zt){isNaN($t)||(It[Zt]=+$t)}),Ct[Bt]=It}),Ct}var q=null,G=S(31437);function z(dt,Ct,It,Bt){var Wt=[],$t=!!Bt,Zt,ie,zt,Kt,ne,Te,ke;if($t){zt=Bt[0],Kt=Bt[1];for(var Se=0,Ie=dt.length;Se<Ie;Se+=1){var Ee=dt[Se];zt=G.min([0,0],zt,Ee),Kt=G.max([0,0],Kt,Ee)}}for(var Se=0,Be=dt.length;Se<Be;Se+=1){var Ee=dt[Se];if(Se===0&&!It)ke=Ee;else if(Se===Be-1&&!It)Te=Ee,Wt.push(ke),Wt.push(Te);else{var Ce=[Se?Se-1:Be-1,Se-1][It?0:1];Zt=dt[Ce],ie=dt[It?(Se+1)%Be:Se+1];var Ge=[0,0];Ge=G.sub(Ge,ie,Zt),Ge=G.scale(Ge,Ge,Ct);var Pe=G.distance(Ee,Zt),Ve=G.distance(Ee,ie),ze=Pe+Ve;ze!==0&&(Pe/=ze,Ve/=ze);var Je=G.scale([0,0],Ge,-Pe),si=G.scale([0,0],Ge,Ve);Te=G.add([0,0],Ee,Je),ne=G.add([0,0],Ee,si),ne=G.min([0,0],ne,G.max([0,0],ie,Ee)),ne=G.max([0,0],ne,G.min([0,0],ie,Ee)),Je=G.sub([0,0],ne,Ee),Je=G.scale([0,0],Je,-Pe/Ve),Te=G.add([0,0],Ee,Je),Te=G.min([0,0],Te,G.max([0,0],Zt,Ee)),Te=G.max([0,0],Te,G.min([0,0],Zt,Ee)),si=G.sub([0,0],Ee,Te),si=G.scale([0,0],si,Ve/Pe),ne=G.add([0,0],Ee,si),$t&&(Te=G.max([0,0],Te,zt),Te=G.min([0,0],Te,Kt),ne=G.max([0,0],ne,zt),ne=G.min([0,0],ne,Kt)),Wt.push(ke),Wt.push(Te),ke=ne}}return It&&Wt.push(Wt.shift()),Wt}function $(dt,Ct,It){Ct===void 0&&(Ct=!1),It===void 0&&(It=[[0,0],[1,1]]);for(var Bt=!!Ct,Wt=[],$t=0,Zt=dt.length;$t<Zt;$t+=2)Wt.push([dt[$t],dt[$t+1]]);for(var ie=z(Wt,.4,Bt,It),zt=Wt.length,Kt=[],ne,Te,ke,$t=0;$t<zt-1;$t+=1)ne=ie[$t*2],Te=ie[$t*2+1],ke=Wt[$t+1],Kt.push(["C",ne[0],ne[1],Te[0],Te[1],ke[0],ke[1]]);return Bt&&(ne=ie[zt],Te=ie[zt+1],ke=Wt[0],Kt.push(["C",ne[0],ne[1],Te[0],Te[1],ke[0],ke[1]])),Kt}var F=$;function X(dt,Ct,It){var Bt=null,Wt=It;return Ct<Wt&&(Wt=Ct,Bt="add"),dt<Wt&&(Wt=dt,Bt="del"),{type:Bt,min:Wt}}var D=function(dt,Ct){var It=dt.length,Bt=Ct.length,Wt,$t,Zt=0;if(It===0||Bt===0)return null;for(var ie=[],zt=0;zt<=It;zt++)ie[zt]=[],ie[zt][0]={min:zt};for(var Kt=0;Kt<=Bt;Kt++)ie[0][Kt]={min:Kt};for(var zt=1;zt<=It;zt++){Wt=dt[zt-1];for(var Kt=1;Kt<=Bt;Kt++){$t=Ct[Kt-1],isEqual(Wt,$t)?Zt=0:Zt=1;var ne=ie[zt-1][Kt].min+1,Te=ie[zt][Kt-1].min+1,ke=ie[zt-1][Kt-1].min+Zt;ie[zt][Kt]=X(ne,Te,ke)}}return ie};function w(dt,Ct){var It=D(dt,Ct),Bt=dt.length,Wt=Ct.length,$t=[],Zt=1,ie=1;if(It[Bt][Wt]!==Bt){for(var zt=1;zt<=Bt;zt++){var Kt=It[zt][zt].min;ie=zt;for(var ne=Zt;ne<=Wt;ne++)It[zt][ne].min<Kt&&(Kt=It[zt][ne].min,ie=ne);Zt=ie,It[zt][Zt].type&&$t.push({index:zt-1,type:It[zt][Zt].type})}for(var zt=$t.length-1;zt>=0;zt--)Zt=$t[zt].index,$t[zt].type==="add"?dt.splice(Zt,0,[].concat(dt[Zt])):dt.splice(Zt,1)}if(Bt=dt.length,Bt<Wt)for(var zt=0;zt<Wt-Bt;zt++)dt[Bt-1][0]==="z"||dt[Bt-1][0]==="Z"?dt.splice(Bt-2,0,dt[Bt-2]):dt.push(dt[Bt-1]);return dt}var d=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+d+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+d+"]*,?["+d+"]*)+)","ig"),k=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+d+"]*,?["+d+"]*","ig");function E(dt){if(!dt)return null;if((0,N.isArray)(dt))return dt;var Ct={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},It=[];return String(dt).replace(I,function(Bt,Wt,$t){var Zt=[],ie=Wt.toLowerCase();if($t.replace(k,function(zt,Kt){Kt&&Zt.push(+Kt)}),ie==="m"&&Zt.length>2&&(It.push([Wt].concat(Zt.splice(0,2))),ie="l",Wt=Wt==="m"?"l":"L"),ie==="o"&&Zt.length===1&&It.push([Wt,Zt[0]]),ie==="r")It.push([Wt].concat(Zt));else for(;Zt.length>=Ct[ie]&&(It.push([Wt].concat(Zt.splice(0,Ct[ie]))),!!Ct[ie]););return""}),It}var P=/[a-z]/;function Y(dt,Ct){return[Ct[0]+(Ct[0]-dt[0]),Ct[1]+(Ct[1]-dt[1])]}function at(dt){var Ct=parsePathString(dt);if(!Ct||!Ct.length)return[["M",0,0]];for(var It=!1,Bt=0;Bt<Ct.length;Bt++){var Wt=Ct[Bt][0];if(P.test(Wt)||["V","H","T","S"].indexOf(Wt)>=0){It=!0;break}}if(!It)return Ct;var $t=[],Zt=0,ie=0,zt=0,Kt=0,ne=0,Te,ke,Se=Ct[0];(Se[0]==="M"||Se[0]==="m")&&(Zt=+Se[1],ie=+Se[2],zt=Zt,Kt=ie,ne++,$t[0]=["M",Zt,ie]);for(var Bt=ne,Ie=Ct.length;Bt<Ie;Bt++){var Ee=Ct[Bt],Be=$t[Bt-1],Ce=[],Wt=Ee[0],Ge=Wt.toUpperCase();if(Wt!==Ge)switch(Ce[0]=Ge,Ge){case"A":Ce[1]=Ee[1],Ce[2]=Ee[2],Ce[3]=Ee[3],Ce[4]=Ee[4],Ce[5]=Ee[5],Ce[6]=+Ee[6]+Zt,Ce[7]=+Ee[7]+ie;break;case"V":Ce[1]=+Ee[1]+ie;break;case"H":Ce[1]=+Ee[1]+Zt;break;case"M":zt=+Ee[1]+Zt,Kt=+Ee[2]+ie,Ce[1]=zt,Ce[2]=Kt;break;default:for(var Pe=1,Ve=Ee.length;Pe<Ve;Pe++)Ce[Pe]=+Ee[Pe]+(Pe%2?Zt:ie)}else Ce=Ct[Bt];switch(Ge){case"Z":Zt=+zt,ie=+Kt;break;case"H":Zt=Ce[1],Ce=["L",Zt,ie];break;case"V":ie=Ce[1],Ce=["L",Zt,ie];break;case"T":Zt=Ce[1],ie=Ce[2];var ze=Y([Be[1],Be[2]],[Be[3],Be[4]]);Ce=["Q",ze[0],ze[1],Zt,ie];break;case"S":Zt=Ce[Ce.length-2],ie=Ce[Ce.length-1];var Je=Be.length,si=Y([Be[Je-4],Be[Je-3]],[Be[Je-2],Be[Je-1]]);Ce=["C",si[0],si[1],Ce[1],Ce[2],Zt,ie];break;case"M":zt=Ce[Ce.length-2],Kt=Ce[Ce.length-1];break;default:Zt=Ce[Ce.length-2],ie=Ce[Ce.length-1]}$t.push(Ce)}return $t}var et=Math.PI*2,ot=function(dt,Ct,It,Bt,Wt,$t,Zt){var ie=dt.x,zt=dt.y;ie*=Ct,zt*=It;var Kt=Bt*ie-Wt*zt,ne=Wt*ie+Bt*zt;return{x:Kt+$t,y:ne+Zt}},ft=function(dt,Ct){var It=Ct===1.5707963267948966?.551915024494:Ct===-1.5707963267948966?-.551915024494:4/3*Math.tan(Ct/4),Bt=Math.cos(dt),Wt=Math.sin(dt),$t=Math.cos(dt+Ct),Zt=Math.sin(dt+Ct);return[{x:Bt-Wt*It,y:Wt+Bt*It},{x:$t+Zt*It,y:Zt-$t*It},{x:$t,y:Zt}]},ct=function(dt,Ct,It,Bt){var Wt=dt*Bt-Ct*It<0?-1:1,$t=dt*It+Ct*Bt;return $t>1&&($t=1),$t<-1&&($t=-1),Wt*Math.acos($t)},bt=function(dt,Ct,It,Bt,Wt,$t,Zt,ie,zt,Kt,ne,Te){var ke=Math.pow(Wt,2),Se=Math.pow($t,2),Ie=Math.pow(ne,2),Ee=Math.pow(Te,2),Be=ke*Se-ke*Ee-Se*Ie;Be<0&&(Be=0),Be/=ke*Ee+Se*Ie,Be=Math.sqrt(Be)*(Zt===ie?-1:1);var Ce=Be*Wt/$t*Te,Ge=Be*-$t/Wt*ne,Pe=Kt*Ce-zt*Ge+(dt+It)/2,Ve=zt*Ce+Kt*Ge+(Ct+Bt)/2,ze=(ne-Ce)/Wt,Je=(Te-Ge)/$t,si=(-ne-Ce)/Wt,Li=(-Te-Ge)/$t,or=ct(1,0,ze,Je),wi=ct(ze,Je,si,Li);return ie===0&&wi>0&&(wi-=et),ie===1&&wi<0&&(wi+=et),[Pe,Ve,or,wi]},tt=function(dt){var Ct=dt.px,It=dt.py,Bt=dt.cx,Wt=dt.cy,$t=dt.rx,Zt=dt.ry,ie=dt.xAxisRotation,zt=ie===void 0?0:ie,Kt=dt.largeArcFlag,ne=Kt===void 0?0:Kt,Te=dt.sweepFlag,ke=Te===void 0?0:Te,Se=[];if($t===0||Zt===0)return[{x1:0,y1:0,x2:0,y2:0,x:Bt,y:Wt}];var Ie=Math.sin(zt*et/360),Ee=Math.cos(zt*et/360),Be=Ee*(Ct-Bt)/2+Ie*(It-Wt)/2,Ce=-Ie*(Ct-Bt)/2+Ee*(It-Wt)/2;if(Be===0&&Ce===0)return[{x1:0,y1:0,x2:0,y2:0,x:Bt,y:Wt}];$t=Math.abs($t),Zt=Math.abs(Zt);var Ge=Math.pow(Be,2)/Math.pow($t,2)+Math.pow(Ce,2)/Math.pow(Zt,2);Ge>1&&($t*=Math.sqrt(Ge),Zt*=Math.sqrt(Ge));var Pe=bt(Ct,It,Bt,Wt,$t,Zt,ne,ke,Ie,Ee,Be,Ce),Ve=Pe[0],ze=Pe[1],Je=Pe[2],si=Pe[3],Li=Math.abs(si)/(et/4);Math.abs(1-Li)<1e-7&&(Li=1);var or=Math.max(Math.ceil(Li),1);si/=or;for(var wi=0;wi<or;wi++)Se.push(ft(Je,si)),Je+=si;return Se.map(function(yr){var $i=ot(yr[0],$t,Zt,Ee,Ie,Ve,ze),Ar=$i.x,zr=$i.y,Wi=ot(yr[1],$t,Zt,Ee,Ie,Ve,ze),mr=Wi.x,Br=Wi.y,Ki=ot(yr[2],$t,Zt,Ee,Ie,Ve,ze),Zi=Ki.x,Ci=Ki.y;return{x1:Ar,y1:zr,x2:mr,y2:Br,x:Zi,y:Ci}})};function O(dt,Ct,It,Bt,Wt,$t,Zt,ie,zt){var Kt=tt({px:dt,py:Ct,cx:ie,cy:zt,rx:It,ry:Bt,xAxisRotation:Wt,largeArcFlag:$t,sweepFlag:Zt});return Kt.reduce(function(ne,Te){var ke=Te.x1,Se=Te.y1,Ie=Te.x2,Ee=Te.y2,Be=Te.x,Ce=Te.y;return ne.push(ke,Se,Ie,Ee,Be,Ce),ne},[])}function J(dt,Ct){"TQ".indexOf(dt[0])<0&&(Ct.qx=null,Ct.qy=null);var It=dt.slice(1),Bt=It[0],Wt=It[1];switch(dt[0]){case"M":return Ct.x=Bt,Ct.y=Wt,dt;case"A":return["C"].concat(arcToCubic.apply(0,[Ct.x1,Ct.y1].concat(dt.slice(1))));case"Q":return Ct.qx=Bt,Ct.qy=Wt,["C"].concat(quadToCubic.apply(0,[Ct.x1,Ct.y1].concat(dt.slice(1))));case"L":return["C"].concat(lineToCubic(Ct.x1,Ct.y1,dt[1],dt[2]));case"H":return["C"].concat(lineToCubic(Ct.x1,Ct.y1,dt[1],Ct.y1));case"V":return["C"].concat(lineToCubic(Ct.x1,Ct.y1,Ct.x1,dt[1]));case"Z":return["C"].concat(lineToCubic(Ct.x1,Ct.y1,Ct.x,Ct.y));default:}return dt}function x(dt,Ct){Ct===void 0&&(Ct=!1);for(var It=path2Absolute(dt),Bt={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},Wt=[],$t="",Zt=It.length,ie,zt,Kt=[],ne=0;ne<Zt;ne+=1)It[ne]&&($t=It[ne][0]),Wt[ne]=$t,It[ne]=segmentToCubic(It[ne],Bt),l(It,Wt,ne),Zt=It.length,$t==="Z"&&Kt.push(ne),ie=It[ne],zt=ie.length,Bt.x1=+ie[zt-2],Bt.y1=+ie[zt-1],Bt.x2=+ie[zt-4]||Bt.x1,Bt.y2=+ie[zt-3]||Bt.y1;return Ct?[It,Kt]:It}function l(dt,Ct,It){if(dt[It].length>7){dt[It].shift();for(var Bt=dt[It],Wt=It;Bt.length;)Ct[It]="A",dt.splice(Wt+=1,0,["C"].concat(Bt.splice(0,6)));dt.splice(It,1)}}var W=function(dt,Ct,It,Bt,Wt){var $t=-3*Ct+9*It-9*Bt+3*Wt,Zt=dt*$t+6*Ct-12*It+6*Bt;return dt*Zt-3*Ct+3*It},it=function(dt,Ct,It,Bt,Wt,$t,Zt,ie,zt){zt===null&&(zt=1),zt=zt>1?1:zt<0?0:zt;for(var Kt=zt/2,ne=12,Te=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ke=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Se=0,Ie=0;Ie<ne;Ie++){var Ee=Kt*Te[Ie]+Kt,Be=W(Ee,dt,It,Wt,Zt),Ce=W(Ee,Ct,Bt,$t,ie),Ge=Be*Be+Ce*Ce;Se+=ke[Ie]*Math.sqrt(Ge)}return Kt*Se},nt=function(dt,Ct,It,Bt,Wt,$t,Zt,ie){for(var zt=[],Kt=[[],[]],ne,Te,ke,Se,Ie=0;Ie<2;++Ie){if(Ie===0?(Te=6*dt-12*It+6*Wt,ne=-3*dt+9*It-9*Wt+3*Zt,ke=3*It-3*dt):(Te=6*Ct-12*Bt+6*$t,ne=-3*Ct+9*Bt-9*$t+3*ie,ke=3*Bt-3*Ct),Math.abs(ne)<1e-12){if(Math.abs(Te)<1e-12)continue;Se=-ke/Te,Se>0&&Se<1&&zt.push(Se);continue}var Ee=Te*Te-4*ke*ne,Be=Math.sqrt(Ee);if(!(Ee<0)){var Ce=(-Te+Be)/(2*ne);Ce>0&&Ce<1&&zt.push(Ce);var Ge=(-Te-Be)/(2*ne);Ge>0&&Ge<1&&zt.push(Ge)}}for(var Pe=zt.length,Ve=Pe,ze;Pe--;)Se=zt[Pe],ze=1-Se,Kt[0][Pe]=ze*ze*ze*dt+3*ze*ze*Se*It+3*ze*Se*Se*Wt+Se*Se*Se*Zt,Kt[1][Pe]=ze*ze*ze*Ct+3*ze*ze*Se*Bt+3*ze*Se*Se*$t+Se*Se*Se*ie;return Kt[0][Ve]=dt,Kt[1][Ve]=Ct,Kt[0][Ve+1]=Zt,Kt[1][Ve+1]=ie,Kt[0].length=Kt[1].length=Ve+2,{min:{x:Math.min.apply(0,Kt[0]),y:Math.min.apply(0,Kt[1])},max:{x:Math.max.apply(0,Kt[0]),y:Math.max.apply(0,Kt[1])}}},ht=function(dt,Ct,It,Bt,Wt,$t,Zt,ie){if(!(Math.max(dt,It)<Math.min(Wt,Zt)||Math.min(dt,It)>Math.max(Wt,Zt)||Math.max(Ct,Bt)<Math.min($t,ie)||Math.min(Ct,Bt)>Math.max($t,ie))){var zt=(dt*Bt-Ct*It)*(Wt-Zt)-(dt-It)*(Wt*ie-$t*Zt),Kt=(dt*Bt-Ct*It)*($t-ie)-(Ct-Bt)*(Wt*ie-$t*Zt),ne=(dt-It)*($t-ie)-(Ct-Bt)*(Wt-Zt);if(!!ne){var Te=zt/ne,ke=Kt/ne,Se=+Te.toFixed(2),Ie=+ke.toFixed(2);if(!(Se<+Math.min(dt,It).toFixed(2)||Se>+Math.max(dt,It).toFixed(2)||Se<+Math.min(Wt,Zt).toFixed(2)||Se>+Math.max(Wt,Zt).toFixed(2)||Ie<+Math.min(Ct,Bt).toFixed(2)||Ie>+Math.max(Ct,Bt).toFixed(2)||Ie<+Math.min($t,ie).toFixed(2)||Ie>+Math.max($t,ie).toFixed(2)))return{x:Te,y:ke}}}},y=function(dt,Ct,It){return Ct>=dt.x&&Ct<=dt.x+dt.width&&It>=dt.y&&It<=dt.y+dt.height},V=function(dt,Ct,It,Bt){return dt===null&&(dt=Ct=It=Bt=0),Ct===null&&(Ct=dt.y,It=dt.width,Bt=dt.height,dt=dt.x),{x:dt,y:Ct,width:It,w:It,height:Bt,h:Bt,x2:dt+It,y2:Ct+Bt,cx:dt+It/2,cy:Ct+Bt/2,r1:Math.min(It,Bt)/2,r2:Math.max(It,Bt)/2,r0:Math.sqrt(It*It+Bt*Bt)/2,path:rectPath(dt,Ct,It,Bt),vb:[dt,Ct,It,Bt].join(" ")}},yt=function(dt,Ct){return dt=V(dt),Ct=V(Ct),y(Ct,dt.x,dt.y)||y(Ct,dt.x2,dt.y)||y(Ct,dt.x,dt.y2)||y(Ct,dt.x2,dt.y2)||y(dt,Ct.x,Ct.y)||y(dt,Ct.x2,Ct.y)||y(dt,Ct.x,Ct.y2)||y(dt,Ct.x2,Ct.y2)||(dt.x<Ct.x2&&dt.x>Ct.x||Ct.x<dt.x2&&Ct.x>dt.x)&&(dt.y<Ct.y2&&dt.y>Ct.y||Ct.y<dt.y2&&Ct.y>dt.y)},Mt=function(dt,Ct,It,Bt,Wt,$t,Zt,ie){isArray(dt)||(dt=[dt,Ct,It,Bt,Wt,$t,Zt,ie]);var zt=nt.apply(null,dt);return V(zt.min.x,zt.min.y,zt.max.x-zt.min.x,zt.max.y-zt.min.y)},Gt=function(dt,Ct,It,Bt,Wt,$t,Zt,ie,zt){var Kt=1-zt,ne=Math.pow(Kt,3),Te=Math.pow(Kt,2),ke=zt*zt,Se=ke*zt,Ie=ne*dt+Te*3*zt*It+Kt*3*zt*zt*Wt+Se*Zt,Ee=ne*Ct+Te*3*zt*Bt+Kt*3*zt*zt*$t+Se*ie,Be=dt+2*zt*(It-dt)+ke*(Wt-2*It+dt),Ce=Ct+2*zt*(Bt-Ct)+ke*($t-2*Bt+Ct),Ge=It+2*zt*(Wt-It)+ke*(Zt-2*Wt+It),Pe=Bt+2*zt*($t-Bt)+ke*(ie-2*$t+Bt),Ve=Kt*dt+zt*It,ze=Kt*Ct+zt*Bt,Je=Kt*Wt+zt*Zt,si=Kt*$t+zt*ie,Li=90-Math.atan2(Be-Ge,Ce-Pe)*180/Math.PI;return{x:Ie,y:Ee,m:{x:Be,y:Ce},n:{x:Ge,y:Pe},start:{x:Ve,y:ze},end:{x:Je,y:si},alpha:Li}},ee=function(dt,Ct,It){var Bt=Mt(dt),Wt=Mt(Ct);if(!yt(Bt,Wt))return It?0:[];for(var $t=it.apply(0,dt),Zt=it.apply(0,Ct),ie=~~($t/8),zt=~~(Zt/8),Kt=[],ne=[],Te={},ke=It?0:[],Se=0;Se<ie+1;Se++){var Ie=Gt.apply(0,dt.concat(Se/ie));Kt.push({x:Ie.x,y:Ie.y,t:Se/ie})}for(var Se=0;Se<zt+1;Se++){var Ie=Gt.apply(0,Ct.concat(Se/zt));ne.push({x:Ie.x,y:Ie.y,t:Se/zt})}for(var Se=0;Se<ie;Se++)for(var Ee=0;Ee<zt;Ee++){var Be=Kt[Se],Ce=Kt[Se+1],Ge=ne[Ee],Pe=ne[Ee+1],Ve=Math.abs(Ce.x-Be.x)<.001?"y":"x",ze=Math.abs(Pe.x-Ge.x)<.001?"y":"x",Je=ht(Be.x,Be.y,Ce.x,Ce.y,Ge.x,Ge.y,Pe.x,Pe.y);if(Je){if(Te[Je.x.toFixed(4)]===Je.y.toFixed(4))continue;Te[Je.x.toFixed(4)]=Je.y.toFixed(4);var si=Be.t+Math.abs((Je[Ve]-Be[Ve])/(Ce[Ve]-Be[Ve]))*(Ce.t-Be.t),Li=Ge.t+Math.abs((Je[ze]-Ge[ze])/(Pe[ze]-Ge[ze]))*(Pe.t-Ge.t);si>=0&&si<=1&&Li>=0&&Li<=1&&(It?ke++:ke.push({x:Je.x,y:Je.y,t1:si,t2:Li}))}}return ke},re=function(dt,Ct,It){dt=path2Curve(dt),Ct=path2Curve(Ct);for(var Bt,Wt,$t,Zt,ie,zt,Kt,ne,Te,ke,Se=It?0:[],Ie=0,Ee=dt.length;Ie<Ee;Ie++){var Be=dt[Ie];if(Be[0]==="M")Bt=ie=Be[1],Wt=zt=Be[2];else{Be[0]==="C"?(Te=[Bt,Wt].concat(Be.slice(1)),Bt=Te[6],Wt=Te[7]):(Te=[Bt,Wt,Bt,Wt,ie,zt,ie,zt],Bt=ie,Wt=zt);for(var Ce=0,Ge=Ct.length;Ce<Ge;Ce++){var Pe=Ct[Ce];if(Pe[0]==="M")$t=Kt=Pe[1],Zt=ne=Pe[2];else{Pe[0]==="C"?(ke=[$t,Zt].concat(Pe.slice(1)),$t=ke[6],Zt=ke[7]):(ke=[$t,Zt,$t,Zt,Kt,ne,Kt,ne],$t=Kt,Zt=ne);var Ve=ee(Te,ke,It);if(It)Se+=Ve;else{for(var ze=0,Je=Ve.length;ze<Je;ze++)Ve[ze].segment1=Ie,Ve[ze].segment2=Ce,Ve[ze].bez1=Te,Ve[ze].bez2=ke;Se=Se.concat(Ve)}}}}}return Se};function ce(dt,Ct){return re(dt,Ct)}function pe(dt){return Math.sqrt(dt[0]*dt[0]+dt[1]*dt[1])}function ge(dt,Ct){return pe(dt)*pe(Ct)?(dt[0]*Ct[0]+dt[1]*Ct[1])/(pe(dt)*pe(Ct)):1}function me(dt,Ct){return(dt[0]*Ct[1]<dt[1]*Ct[0]?-1:1)*Math.acos(ge(dt,Ct))}function xe(dt,Ct){return dt[0]===Ct[0]&&dt[1]===Ct[1]}function de(dt,Ct){var It=Ct[1],Bt=Ct[2],Wt=mod(toRadian(Ct[3]),Math.PI*2),$t=Ct[4],Zt=Ct[5],ie=dt[0],zt=dt[1],Kt=Ct[6],ne=Ct[7],Te=Math.cos(Wt)*(ie-Kt)/2+Math.sin(Wt)*(zt-ne)/2,ke=-1*Math.sin(Wt)*(ie-Kt)/2+Math.cos(Wt)*(zt-ne)/2,Se=Te*Te/(It*It)+ke*ke/(Bt*Bt);Se>1&&(It*=Math.sqrt(Se),Bt*=Math.sqrt(Se));var Ie=It*It*(ke*ke)+Bt*Bt*(Te*Te),Ee=Ie?Math.sqrt((It*It*(Bt*Bt)-Ie)/Ie):1;$t===Zt&&(Ee*=-1),isNaN(Ee)&&(Ee=0);var Be=Bt?Ee*It*ke/Bt:0,Ce=It?Ee*-Bt*Te/It:0,Ge=(ie+Kt)/2+Math.cos(Wt)*Be-Math.sin(Wt)*Ce,Pe=(zt+ne)/2+Math.sin(Wt)*Be+Math.cos(Wt)*Ce,Ve=[(Te-Be)/It,(ke-Ce)/Bt],ze=[(-1*Te-Be)/It,(-1*ke-Ce)/Bt],Je=me([1,0],Ve),si=me(Ve,ze);return ge(Ve,ze)<=-1&&(si=Math.PI),ge(Ve,ze)>=1&&(si=0),Zt===0&&si>0&&(si=si-2*Math.PI),Zt===1&&si<0&&(si=si+2*Math.PI),{cx:Ge,cy:Pe,rx:xe(dt,[Kt,ne])?0:It,ry:xe(dt,[Kt,ne])?0:Bt,startAngle:Je,endAngle:Je+si,xRotation:Wt,arcFlag:$t,sweepFlag:Zt}}function kt(dt,Ct){return[Ct[0]+(Ct[0]-dt[0]),Ct[1]+(Ct[1]-dt[1])]}function jt(dt){dt=parsePath(dt);for(var Ct=[],It=null,Bt=null,Wt=null,$t=0,Zt=dt.length,ie=0;ie<Zt;ie++){var zt=dt[ie];Bt=dt[ie+1];var Kt=zt[0],ne={command:Kt,prePoint:It,params:zt,startTangent:null,endTangent:null};switch(Kt){case"M":Wt=[zt[1],zt[2]],$t=ie;break;case"A":var Te=getArcParams(It,zt);ne.arcParams=Te;break;default:break}if(Kt==="Z")It=Wt,Bt=dt[$t+1];else{var ke=zt.length;It=[zt[ke-2],zt[ke-1]]}Bt&&Bt[0]==="Z"&&(Bt=dt[$t],Ct[$t]&&(Ct[$t].prePoint=It)),ne.currentPoint=It,Ct[$t]&&isSamePoint(It,Ct[$t].currentPoint)&&(Ct[$t].prePoint=ne.prePoint);var Se=Bt?[Bt[Bt.length-2],Bt[Bt.length-1]]:null;ne.nextPoint=Se;var Ie=ne.prePoint;if(["L","H","V"].includes(Kt))ne.startTangent=[Ie[0]-It[0],Ie[1]-It[1]],ne.endTangent=[It[0]-Ie[0],It[1]-Ie[1]];else if(Kt==="Q"){var Ee=[zt[1],zt[2]];ne.startTangent=[Ie[0]-Ee[0],Ie[1]-Ee[1]],ne.endTangent=[It[0]-Ee[0],It[1]-Ee[1]]}else if(Kt==="T"){var Be=Ct[ie-1],Ee=kt(Be.currentPoint,Ie);Be.command==="Q"?(ne.command="Q",ne.startTangent=[Ie[0]-Ee[0],Ie[1]-Ee[1]],ne.endTangent=[It[0]-Ee[0],It[1]-Ee[1]]):(ne.command="TL",ne.startTangent=[Ie[0]-It[0],Ie[1]-It[1]],ne.endTangent=[It[0]-Ie[0],It[1]-Ie[1]])}else if(Kt==="C"){var Ce=[zt[1],zt[2]],Ge=[zt[3],zt[4]];ne.startTangent=[Ie[0]-Ce[0],Ie[1]-Ce[1]],ne.endTangent=[It[0]-Ge[0],It[1]-Ge[1]],ne.startTangent[0]===0&&ne.startTangent[1]===0&&(ne.startTangent=[Ce[0]-Ge[0],Ce[1]-Ge[1]]),ne.endTangent[0]===0&&ne.endTangent[1]===0&&(ne.endTangent=[Ge[0]-Ce[0],Ge[1]-Ce[1]])}else if(Kt==="S"){var Be=Ct[ie-1],Ce=kt(Be.currentPoint,Ie),Ge=[zt[1],zt[2]];Be.command==="C"?(ne.command="C",ne.startTangent=[Ie[0]-Ce[0],Ie[1]-Ce[1]],ne.endTangent=[It[0]-Ge[0],It[1]-Ge[1]]):(ne.command="SQ",ne.startTangent=[Ie[0]-Ge[0],Ie[1]-Ge[1]],ne.endTangent=[It[0]-Ge[0],It[1]-Ge[1]])}else if(Kt==="A"){var Pe=.001,Ve=ne.arcParams||{},ze=Ve.cx,Je=ze===void 0?0:ze,si=Ve.cy,Li=si===void 0?0:si,or=Ve.rx,wi=or===void 0?0:or,yr=Ve.ry,$i=yr===void 0?0:yr,Ar=Ve.sweepFlag,zr=Ar===void 0?0:Ar,Wi=Ve.startAngle,mr=Wi===void 0?0:Wi,Br=Ve.endAngle,Ki=Br===void 0?0:Br;zr===0&&(Pe*=-1);var Zi=wi*Math.cos(mr-Pe)+Je,Ci=$i*Math.sin(mr-Pe)+Li;ne.startTangent=[Zi-Wt[0],Ci-Wt[1]];var gn=wi*Math.cos(mr+Ki+Pe)+Je,en=$i*Math.sin(mr+Ki-Pe)+Li;ne.endTangent=[Ie[0]-gn,Ie[1]-en]}Ct.push(ne)}return Ct}function Jt(dt){for(var Ct=[],It=dt.length,Bt=0;Bt<It-1;Bt++){var Wt=dt[Bt],$t=dt[Bt+1];Ct.push({from:{x:Wt[0],y:Wt[1]},to:{x:$t[0],y:$t[1]}})}if(Ct.length>1){var Zt=dt[0],ie=dt[It-1];Ct.push({from:{x:ie[0],y:ie[1]},to:{x:Zt[0],y:Zt[1]}})}return Ct}function At(dt,Ct){var It=!1;return each(dt,function(Bt){if(getLineIntersect(Bt.from,Bt.to,Ct.from,Ct.to))return It=!0,!1}),It}function Pt(dt){var Ct=dt.map(function(Bt){return Bt[0]}),It=dt.map(function(Bt){return Bt[1]});return{minX:Math.min.apply(null,Ct),maxX:Math.max.apply(null,Ct),minY:Math.min.apply(null,It),maxY:Math.max.apply(null,It)}}function Xt(dt,Ct){return!(Ct.minX>dt.maxX||Ct.maxX<dt.minX||Ct.minY>dt.maxY||Ct.maxY<dt.minY)}function se(dt,Ct){if(dt.length<2||Ct.length<2)return!1;var It=Pt(dt),Bt=Pt(Ct);if(!Xt(It,Bt))return!1;var Wt=!1;if(each(Ct,function(zt){if(isPointInPolygon(dt,zt[0],zt[1]))return Wt=!0,!1}),Wt||(each(dt,function(zt){if(isPointInPolygon(Ct,zt[0],zt[1]))return Wt=!0,!1}),Wt))return!0;var $t=Jt(dt),Zt=Jt(Ct),ie=!1;return each(Zt,function(zt){if(At($t,zt))return ie=!0,!1}),ie}},84023:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.isSamePoint=void 0;var N=S(49242);function K(z){return Math.sqrt(z[0]*z[0]+z[1]*z[1])}function Q(z,$){return K(z)*K($)?(z[0]*$[0]+z[1]*$[1])/(K(z)*K($)):1}function Z(z,$){return(z[0]*$[1]<z[1]*$[0]?-1:1)*Math.acos(Q(z,$))}function q(z,$){return z[0]===$[0]&&z[1]===$[1]}C.isSamePoint=q;function G(z,$){var F=$[1],X=$[2],D=(0,N.mod)((0,N.toRadian)($[3]),Math.PI*2),w=$[4],d=$[5],I=z[0],k=z[1],E=$[6],P=$[7],Y=Math.cos(D)*(I-E)/2+Math.sin(D)*(k-P)/2,at=-1*Math.sin(D)*(I-E)/2+Math.cos(D)*(k-P)/2,et=Y*Y/(F*F)+at*at/(X*X);et>1&&(F*=Math.sqrt(et),X*=Math.sqrt(et));var ot=F*F*(at*at)+X*X*(Y*Y),ft=ot?Math.sqrt((F*F*(X*X)-ot)/ot):1;w===d&&(ft*=-1),isNaN(ft)&&(ft=0);var ct=X?ft*F*at/X:0,bt=F?ft*-X*Y/F:0,tt=(I+E)/2+Math.cos(D)*ct-Math.sin(D)*bt,O=(k+P)/2+Math.sin(D)*ct+Math.cos(D)*bt,J=[(Y-ct)/F,(at-bt)/X],x=[(-1*Y-ct)/F,(-1*at-bt)/X],l=Z([1,0],J),W=Z(J,x);return Q(J,x)<=-1&&(W=Math.PI),Q(J,x)>=1&&(W=0),d===0&&W>0&&(W=W-2*Math.PI),d===1&&W<0&&(W=W+2*Math.PI),{cx:tt,cy:O,rx:q(z,[E,P])?0:F,ry:q(z,[E,P])?0:X,startAngle:l,endAngle:l+W,xRotation:D,arcFlag:w,sweepFlag:d}}C.default=G},21528:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=function(K,Q,Z){return K>=Q&&K<=Z};function N(K,Q,Z,q){var G=.001,z={x:Z.x-K.x,y:Z.y-K.y},$={x:Q.x-K.x,y:Q.y-K.y},F={x:q.x-Z.x,y:q.y-Z.y},X=$.x*F.y-$.y*F.x,D=X*X,w=$.x*$.x+$.y*$.y,d=F.x*F.x+F.y*F.y,I=null;if(D>G*w*d){var k=(z.x*F.y-z.y*F.x)/X,E=(z.x*$.y-z.y*$.x)/X;S(k,0,1)&&S(E,0,1)&&(I={x:K.x+k*$.x,y:K.y+k*$.y})}return I}C.default=N},70146:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(66957),K=S(21528),Q=S(49242);function Z(F){for(var X=[],D=F.length,w=0;w<D-1;w++){var d=F[w],I=F[w+1];X.push({from:{x:d[0],y:d[1]},to:{x:I[0],y:I[1]}})}if(X.length>1){var k=F[0],E=F[D-1];X.push({from:{x:E[0],y:E[1]},to:{x:k[0],y:k[1]}})}return X}function q(F,X){var D=!1;return(0,Q.each)(F,function(w){if((0,K.default)(w.from,w.to,X.from,X.to))return D=!0,!1}),D}function G(F){var X=F.map(function(w){return w[0]}),D=F.map(function(w){return w[1]});return{minX:Math.min.apply(null,X),maxX:Math.max.apply(null,X),minY:Math.min.apply(null,D),maxY:Math.max.apply(null,D)}}function z(F,X){return!(X.minX>F.maxX||X.maxX<F.minX||X.minY>F.maxY||X.maxY<F.minY)}function $(F,X){if(F.length<2||X.length<2)return!1;var D=G(F),w=G(X);if(!z(D,w))return!1;var d=!1;if((0,Q.each)(X,function(P){if((0,N.default)(F,P[0],P[1]))return d=!0,!1}),d||((0,Q.each)(F,function(P){if((0,N.default)(X,P[0],P[1]))return d=!0,!1}),d))return!0;var I=Z(F),k=Z(X),E=!1;return(0,Q.each)(k,function(P){if(q(I,P))return E=!0,!1}),E}C.default=$},28498:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(49242),K=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Q=new RegExp("([a-z])["+K+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+K+"]*,?["+K+"]*)+)","ig"),Z=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+K+"]*,?["+K+"]*","ig");function q(G){if(!G)return null;if((0,N.isArray)(G))return G;var z={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},$=[];return String(G).replace(Q,function(F,X,D){var w=[],d=X.toLowerCase();if(D.replace(Z,function(I,k){k&&w.push(+k)}),d==="m"&&w.length>2&&($.push([X].concat(w.splice(0,2))),d="l",X=X==="m"?"l":"L"),d==="o"&&w.length===1&&$.push([X,w[0]]),d==="r")$.push([X].concat(w));else for(;w.length>=z[d]&&($.push([X].concat(w.splice(0,z[d]))),!!z[d]););return""}),$}C.default=q},80315:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(49242),K=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,Q=/[^\s\,]+/ig;function Z(q){var G=q||[];if((0,N.isArray)(G))return G;if((0,N.isString)(G))return G=G.match(K),(0,N.each)(G,function(z,$){if(z=z.match(Q),z[0].length>1){var F=z[0].charAt(0);z.splice(1,0,z[0].substr(1)),z[0]=F}(0,N.each)(z,function(X,D){isNaN(X)||(z[D]=+X)}),G[$]=z}),G}C.default=Z},74479:function(oe,C,S){"use strict";var N;N={value:!0};var K=S(28498),Q=/[a-z]/;function Z(G,z){return[z[0]+(z[0]-G[0]),z[1]+(z[1]-G[1])]}function q(G){var z=(0,K.default)(G);if(!z||!z.length)return[["M",0,0]];for(var $=!1,F=0;F<z.length;F++){var X=z[F][0];if(Q.test(X)||["V","H","T","S"].indexOf(X)>=0){$=!0;break}}if(!$)return z;var D=[],w=0,d=0,I=0,k=0,E=0,P,Y,at=z[0];(at[0]==="M"||at[0]==="m")&&(w=+at[1],d=+at[2],I=w,k=d,E++,D[0]=["M",w,d]);for(var F=E,et=z.length;F<et;F++){var ot=z[F],ft=D[F-1],ct=[],X=ot[0],bt=X.toUpperCase();if(X!==bt)switch(ct[0]=bt,bt){case"A":ct[1]=ot[1],ct[2]=ot[2],ct[3]=ot[3],ct[4]=ot[4],ct[5]=ot[5],ct[6]=+ot[6]+w,ct[7]=+ot[7]+d;break;case"V":ct[1]=+ot[1]+d;break;case"H":ct[1]=+ot[1]+w;break;case"M":I=+ot[1]+w,k=+ot[2]+d,ct[1]=I,ct[2]=k;break;default:for(var tt=1,O=ot.length;tt<O;tt++)ct[tt]=+ot[tt]+(tt%2?w:d)}else ct=z[F];switch(bt){case"Z":w=+I,d=+k;break;case"H":w=ct[1],ct=["L",w,d];break;case"V":d=ct[1],ct=["L",w,d];break;case"T":w=ct[1],d=ct[2];var J=Z([ft[1],ft[2]],[ft[3],ft[4]]);ct=["Q",J[0],J[1],w,d];break;case"S":w=ct[ct.length-2],d=ct[ct.length-1];var x=ft.length,l=Z([ft[x-4],ft[x-3]],[ft[x-2],ft[x-1]]);ct=["C",l[0],l[1],ct[1],ct[2],w,d];break;case"M":I=ct[ct.length-2],k=ct[ct.length-1];break;default:w=ct[ct.length-2],d=ct[ct.length-1]}D.push(ct)}return D}C.Z=q},49274:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(84023),K=S(84023),Q=S(80315);function Z(G,z){return[z[0]+(z[0]-G[0]),z[1]+(z[1]-G[1])]}function q(G){G=(0,Q.default)(G);for(var z=[],$=null,F=null,X=null,D=0,w=G.length,d=0;d<w;d++){var I=G[d];F=G[d+1];var k=I[0],E={command:k,prePoint:$,params:I,startTangent:null,endTangent:null};switch(k){case"M":X=[I[1],I[2]],D=d;break;case"A":var P=(0,N.default)($,I);E.arcParams=P;break;default:break}if(k==="Z")$=X,F=G[D+1];else{var Y=I.length;$=[I[Y-2],I[Y-1]]}F&&F[0]==="Z"&&(F=G[D],z[D]&&(z[D].prePoint=$)),E.currentPoint=$,z[D]&&(0,K.isSamePoint)($,z[D].currentPoint)&&(z[D].prePoint=E.prePoint);var at=F?[F[F.length-2],F[F.length-1]]:null;E.nextPoint=at;var et=E.prePoint;if(["L","H","V"].includes(k))E.startTangent=[et[0]-$[0],et[1]-$[1]],E.endTangent=[$[0]-et[0],$[1]-et[1]];else if(k==="Q"){var ot=[I[1],I[2]];E.startTangent=[et[0]-ot[0],et[1]-ot[1]],E.endTangent=[$[0]-ot[0],$[1]-ot[1]]}else if(k==="T"){var ft=z[d-1],ot=Z(ft.currentPoint,et);ft.command==="Q"?(E.command="Q",E.startTangent=[et[0]-ot[0],et[1]-ot[1]],E.endTangent=[$[0]-ot[0],$[1]-ot[1]]):(E.command="TL",E.startTangent=[et[0]-$[0],et[1]-$[1]],E.endTangent=[$[0]-et[0],$[1]-et[1]])}else if(k==="C"){var ct=[I[1],I[2]],bt=[I[3],I[4]];E.startTangent=[et[0]-ct[0],et[1]-ct[1]],E.endTangent=[$[0]-bt[0],$[1]-bt[1]],E.startTangent[0]===0&&E.startTangent[1]===0&&(E.startTangent=[ct[0]-bt[0],ct[1]-bt[1]]),E.endTangent[0]===0&&E.endTangent[1]===0&&(E.endTangent=[bt[0]-ct[0],bt[1]-ct[1]])}else if(k==="S"){var ft=z[d-1],ct=Z(ft.currentPoint,et),bt=[I[1],I[2]];ft.command==="C"?(E.command="C",E.startTangent=[et[0]-ct[0],et[1]-ct[1]],E.endTangent=[$[0]-bt[0],$[1]-bt[1]]):(E.command="SQ",E.startTangent=[et[0]-bt[0],et[1]-bt[1]],E.endTangent=[$[0]-bt[0],$[1]-bt[1]])}else if(k==="A"){var tt=.001,O=E.arcParams||{},J=O.cx,x=J===void 0?0:J,l=O.cy,W=l===void 0?0:l,it=O.rx,nt=it===void 0?0:it,ht=O.ry,y=ht===void 0?0:ht,V=O.sweepFlag,yt=V===void 0?0:V,Mt=O.startAngle,Gt=Mt===void 0?0:Mt,ee=O.endAngle,re=ee===void 0?0:ee;yt===0&&(tt*=-1);var ce=nt*Math.cos(Gt-tt)+x,pe=y*Math.sin(Gt-tt)+W;E.startTangent=[ce-X[0],pe-X[1]];var ge=nt*Math.cos(Gt+re+tt)+x,me=y*Math.sin(Gt+re-tt)+W;E.endTangent=[et[0]-ge,et[1]-me]}z.push(E)}return z}C.default=q},66957:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=1e-6;function N(Z){return Math.abs(Z)<S?0:Z<0?-1:1}function K(Z,q,G){return(G[0]-Z[0])*(q[1]-Z[1])==(q[0]-Z[0])*(G[1]-Z[1])&&Math.min(Z[0],q[0])<=G[0]&&G[0]<=Math.max(Z[0],q[0])&&Math.min(Z[1],q[1])<=G[1]&&G[1]<=Math.max(Z[1],q[1])}function Q(Z,q,G){var z=!1,$=Z.length;if($<=2)return!1;for(var F=0;F<$;F++){var X=Z[F],D=Z[(F+1)%$];if(K(X,D,[q,G]))return!0;N(X[1]-G)>0!=N(D[1]-G)>0&&N(q-(G-X[1])*(X[0]-D[0])/(X[1]-D[1])-X[0])<0&&(z=!z)}return z}C.default=Q},51082:function(oe,C,S){"use strict";S.r(C),S.d(C,{Category:function(){return F},Identity:function(){return jt},Linear:function(){return x},Log:function(){return V},Pow:function(){return Mt},Quantile:function(){return ge},Quantize:function(){return ce},Scale:function(){return G},Time:function(){return ee},TimeCat:function(){return bt},getScale:function(){return xe},getTickMethod:function(){return Q},registerScale:function(){return de},registerTickMethod:function(){return Z}});var N=S(49242),K={};function Q(Tt){return K[Tt]}function Z(Tt,Et){K[Tt]=Et}var q=function(){function Tt(Et){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=Et,this.initCfg(),this.init()}return Tt.prototype.translate=function(Et){return Et},Tt.prototype.change=function(Et){(0,N.assign)(this.__cfg__,Et),this.init()},Tt.prototype.clone=function(){return this.constructor(this.__cfg__)},Tt.prototype.getTicks=function(){var Et=this;return(0,N.map)(this.ticks,function(St,Yt){return(0,N.isObject)(St)?St:{text:Et.getText(St,Yt),tickValue:St,value:Et.scale(St)}})},Tt.prototype.getText=function(Et,St){var Yt=this.formatter,Ut=Yt?Yt(Et,St):Et;return(0,N.isNil)(Ut)||!(0,N.isFunction)(Ut.toString)?"":Ut.toString()},Tt.prototype.getConfig=function(Et){return this.__cfg__[Et]},Tt.prototype.init=function(){(0,N.assign)(this,this.__cfg__),this.setDomain(),(0,N.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},Tt.prototype.initCfg=function(){},Tt.prototype.setDomain=function(){},Tt.prototype.calculateTicks=function(){var Et=this.tickMethod,St=[];if((0,N.isString)(Et)){var Yt=Q(Et);if(!Yt)throw new Error("There is no method to to calculate ticks!");St=Yt(this)}else(0,N.isFunction)(Et)&&(St=Et(this));return St},Tt.prototype.rangeMin=function(){return this.range[0]},Tt.prototype.rangeMax=function(){return this.range[1]},Tt.prototype.calcPercent=function(Et,St,Yt){return(0,N.isNumber)(Et)?(Et-St)/(Yt-St):NaN},Tt.prototype.calcValue=function(Et,St,Yt){return St+Et*(Yt-St)},Tt}(),G=q,z=S(70655),$=function(Tt){(0,z.__extends)(Et,Tt);function Et(){var St=Tt!==null&&Tt.apply(this,arguments)||this;return St.type="cat",St.isCategory=!0,St}return Et.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var St=0;St<this.values.length;St++)this.translateIndexMap.set(this.values[St],St)}},Et.prototype.translate=function(St){this.buildIndexMap();var Yt=this.translateIndexMap.get(St);return Yt===void 0&&(Yt=(0,N.isNumber)(St)?St:NaN),Yt},Et.prototype.scale=function(St){var Yt=this.translate(St),Ut=this.calcPercent(Yt,this.min,this.max);return this.calcValue(Ut,this.rangeMin(),this.rangeMax())},Et.prototype.invert=function(St){var Yt=this.max-this.min,Ut=this.calcPercent(St,this.rangeMin(),this.rangeMax()),Qt=Math.round(Yt*Ut)+this.min;return Qt<this.min||Qt>this.max?NaN:this.values[Qt]},Et.prototype.getText=function(St){for(var Yt=[],Ut=1;Ut<arguments.length;Ut++)Yt[Ut-1]=arguments[Ut];var Qt=St;return(0,N.isNumber)(St)&&!this.values.includes(St)&&(Qt=this.values[Qt]),Tt.prototype.getText.apply(this,(0,z.__spreadArrays)([Qt],Yt))},Et.prototype.initCfg=function(){this.tickMethod="cat"},Et.prototype.setDomain=function(){if((0,N.isNil)(this.getConfig("min"))&&(this.min=0),(0,N.isNil)(this.getConfig("max"))){var St=this.values.length;this.max=St>1?St-1:St}this.translateIndexMap&&(this.translateIndexMap=void 0)},Et}(G),F=$,X=S(19432);function D(Tt){return function(Et,St,Yt,Ut){for(var Qt=(0,N.isNil)(Yt)?0:Yt,fe=(0,N.isNil)(Ut)?Et.length:Ut;Qt<fe;){var be=Qt+fe>>>1;Tt(Et[be])>St?fe=be:Qt=be+1}return Qt}}var w="format";function d(Tt,Et){var St=X[w]||X.default[w];return St(Tt,Et)}function I(Tt){return(0,N.isString)(Tt)&&(Tt.indexOf("T")>0?Tt=new Date(Tt).getTime():Tt=new Date(Tt.replace(/-/gi,"/")).getTime()),(0,N.isDate)(Tt)&&(Tt=Tt.getTime()),Tt}var k=1e3,E=60*k,P=60*E,Y=24*P,at=Y*31,et=Y*365,ot=[["HH:mm:ss",k],["HH:mm:ss",k*10],["HH:mm:ss",k*30],["HH:mm",E],["HH:mm",E*10],["HH:mm",E*30],["HH",P],["HH",P*6],["HH",P*12],["YYYY-MM-DD",Y],["YYYY-MM-DD",Y*4],["YYYY-WW",Y*7],["YYYY-MM",at],["YYYY-MM",at*4],["YYYY-MM",at*6],["YYYY",Y*380]];function ft(Tt,Et,St){var Yt=(Et-Tt)/St,Ut=D(function(fe){return fe[1]})(ot,Yt)-1,Qt=ot[Ut];return Ut<0?Qt=ot[0]:Ut>=ot.length&&(Qt=(0,N.last)(ot)),Qt}var ct=function(Tt){(0,z.__extends)(Et,Tt);function Et(){var St=Tt!==null&&Tt.apply(this,arguments)||this;return St.type="timeCat",St}return Et.prototype.translate=function(St){St=I(St);var Yt=this.values.indexOf(St);return Yt===-1&&((0,N.isNumber)(St)&&St<this.values.length?Yt=St:Yt=NaN),Yt},Et.prototype.getText=function(St,Yt){var Ut=this.translate(St);if(Ut>-1){var Qt=this.values[Ut],fe=this.formatter;return Qt=fe?fe(Qt,Yt):d(Qt,this.mask),Qt}return St},Et.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},Et.prototype.setDomain=function(){var St=this.values;(0,N.each)(St,function(Yt,Ut){St[Ut]=I(Yt)}),St.sort(function(Yt,Ut){return Yt-Ut}),Tt.prototype.setDomain.call(this)},Et}(F),bt=ct,tt=function(Tt){(0,z.__extends)(Et,Tt);function Et(){var St=Tt!==null&&Tt.apply(this,arguments)||this;return St.isContinuous=!0,St}return Et.prototype.scale=function(St){if((0,N.isNil)(St))return NaN;var Yt=this.rangeMin(),Ut=this.rangeMax(),Qt=this.max,fe=this.min;if(Qt===fe)return Yt;var be=this.getScalePercent(St);return Yt+be*(Ut-Yt)},Et.prototype.init=function(){Tt.prototype.init.call(this);var St=this.ticks,Yt=(0,N.head)(St),Ut=(0,N.last)(St);Yt<this.min&&(this.min=Yt),Ut>this.max&&(this.max=Ut),(0,N.isNil)(this.minLimit)||(this.min=Yt),(0,N.isNil)(this.maxLimit)||(this.max=Ut)},Et.prototype.setDomain=function(){var St=(0,N.getRange)(this.values),Yt=St.min,Ut=St.max;(0,N.isNil)(this.min)&&(this.min=Yt),(0,N.isNil)(this.max)&&(this.max=Ut),this.min>this.max&&(this.min=Yt,this.max=Ut)},Et.prototype.calculateTicks=function(){var St=this,Yt=Tt.prototype.calculateTicks.call(this);return this.nice||(Yt=(0,N.filter)(Yt,function(Ut){return Ut>=St.min&&Ut<=St.max})),Yt},Et.prototype.getScalePercent=function(St){var Yt=this.max,Ut=this.min;return(St-Ut)/(Yt-Ut)},Et.prototype.getInvertPercent=function(St){return(St-this.rangeMin())/(this.rangeMax()-this.rangeMin())},Et}(G),O=tt,J=function(Tt){(0,z.__extends)(Et,Tt);function Et(){var St=Tt!==null&&Tt.apply(this,arguments)||this;return St.type="linear",St.isLinear=!0,St}return Et.prototype.invert=function(St){var Yt=this.getInvertPercent(St);return this.min+Yt*(this.max-this.min)},Et.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},Et}(O),x=J;function l(Tt,Et){var St=Math.E,Yt;return Et>=0?Yt=Math.pow(St,Math.log(Et)/Tt):Yt=Math.pow(St,Math.log(-Et)/Tt)*-1,Yt}function W(Tt,Et){return Tt===1?1:Math.log(Et)/Math.log(Tt)}function it(Tt,Et,St){(0,N.isNil)(St)&&(St=Math.max.apply(null,Tt));var Yt=St;return(0,N.each)(Tt,function(Ut){Ut>0&&Ut<Yt&&(Yt=Ut)}),Yt===St&&(Yt=St/Et),Yt>1&&(Yt=1),Yt}function nt(Tt){var Et=Tt.toString().split(/[eE]/),St=(Et[0].split(".")[1]||"").length-+(Et[1]||0);return St>0?St:0}function ht(Tt,Et){var St=nt(Tt),Yt=nt(Et),Ut=Math.pow(10,Math.max(St,Yt));return(Tt*Ut+Et*Ut)/Ut}var y=function(Tt){(0,z.__extends)(Et,Tt);function Et(){var St=Tt!==null&&Tt.apply(this,arguments)||this;return St.type="log",St}return Et.prototype.invert=function(St){var Yt=this.base,Ut=W(Yt,this.max),Qt=this.rangeMin(),fe=this.rangeMax()-Qt,be,Ye=this.positiveMin;if(Ye){if(St===0)return 0;be=W(Yt,Ye/Yt);var _e=1/(Ut-be)*fe;if(St<_e)return St/_e*Ye}else be=W(Yt,this.min);var Fe=(St-Qt)/fe,li=Fe*(Ut-be)+be;return Math.pow(Yt,li)},Et.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},Et.prototype.setDomain=function(){Tt.prototype.setDomain.call(this);var St=this.min;if(St<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");St===0&&(this.positiveMin=it(this.values,this.base,this.max))},Et.prototype.getScalePercent=function(St){var Yt=this.max,Ut=this.min;if(Yt===Ut||St<=0)return 0;var Qt=this.base,fe=this.positiveMin;fe&&(Ut=fe*1/Qt);var be;return St<fe?be=St/fe/(W(Qt,Yt)-W(Qt,Ut)):be=(W(Qt,St)-W(Qt,Ut))/(W(Qt,Yt)-W(Qt,Ut)),be},Et}(O),V=y,yt=function(Tt){(0,z.__extends)(Et,Tt);function Et(){var St=Tt!==null&&Tt.apply(this,arguments)||this;return St.type="pow",St}return Et.prototype.invert=function(St){var Yt=this.getInvertPercent(St),Ut=this.exponent,Qt=l(Ut,this.max),fe=l(Ut,this.min),be=Yt*(Qt-fe)+fe,Ye=be>=0?1:-1;return Math.pow(be,Ut)*Ye},Et.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},Et.prototype.getScalePercent=function(St){var Yt=this.max,Ut=this.min;if(Yt===Ut)return 0;var Qt=this.exponent,fe=(l(Qt,St)-l(Qt,Ut))/(l(Qt,Yt)-l(Qt,Ut));return fe},Et}(O),Mt=yt,Gt=function(Tt){(0,z.__extends)(Et,Tt);function Et(){var St=Tt!==null&&Tt.apply(this,arguments)||this;return St.type="time",St}return Et.prototype.getText=function(St,Yt){var Ut=this.translate(St),Qt=this.formatter;return Qt?Qt(Ut,Yt):d(Ut,this.mask)},Et.prototype.scale=function(St){var Yt=St;return((0,N.isString)(Yt)||(0,N.isDate)(Yt))&&(Yt=this.translate(Yt)),Tt.prototype.scale.call(this,Yt)},Et.prototype.translate=function(St){return I(St)},Et.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},Et.prototype.setDomain=function(){var St=this.values,Yt=this.getConfig("min"),Ut=this.getConfig("max");if((!(0,N.isNil)(Yt)||!(0,N.isNumber)(Yt))&&(this.min=this.translate(this.min)),(!(0,N.isNil)(Ut)||!(0,N.isNumber)(Ut))&&(this.max=this.translate(this.max)),St&&St.length){var Qt=[],fe=Infinity,be=fe,Ye=0;(0,N.each)(St,function(_e){var Fe=I(_e);if(isNaN(Fe))throw new TypeError("Invalid Time: "+_e+" in time scale!");fe>Fe?(be=fe,fe=Fe):be>Fe&&(be=Fe),Ye<Fe&&(Ye=Fe),Qt.push(Fe)}),St.length>1&&(this.minTickInterval=be-fe),(0,N.isNil)(Yt)&&(this.min=fe),(0,N.isNil)(Ut)&&(this.max=Ye)}},Et}(x),ee=Gt,re=function(Tt){(0,z.__extends)(Et,Tt);function Et(){var St=Tt!==null&&Tt.apply(this,arguments)||this;return St.type="quantize",St}return Et.prototype.invert=function(St){var Yt=this.ticks,Ut=Yt.length,Qt=this.getInvertPercent(St),fe=Math.floor(Qt*(Ut-1));if(fe>=Ut-1)return(0,N.last)(Yt);if(fe<0)return(0,N.head)(Yt);var be=Yt[fe],Ye=Yt[fe+1],_e=fe/(Ut-1),Fe=(fe+1)/(Ut-1);return be+(Qt-_e)/(Fe-_e)*(Ye-be)},Et.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},Et.prototype.calculateTicks=function(){var St=Tt.prototype.calculateTicks.call(this);return this.nice||((0,N.last)(St)!==this.max&&St.push(this.max),(0,N.head)(St)!==this.min&&St.unshift(this.min)),St},Et.prototype.getScalePercent=function(St){var Yt=this.ticks;if(St<(0,N.head)(Yt))return 0;if(St>(0,N.last)(Yt))return 1;var Ut=0;return(0,N.each)(Yt,function(Qt,fe){if(St>=Qt)Ut=fe;else return!1}),Ut/(Yt.length-1)},Et}(O),ce=re,pe=function(Tt){(0,z.__extends)(Et,Tt);function Et(){var St=Tt!==null&&Tt.apply(this,arguments)||this;return St.type="quantile",St}return Et.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},Et}(ce),ge=pe,me={};function xe(Tt){return me[Tt]}function de(Tt,Et){if(xe(Tt))throw new Error("type '"+Tt+"' existed.");me[Tt]=Et}var kt=function(Tt){(0,z.__extends)(Et,Tt);function Et(){var St=Tt!==null&&Tt.apply(this,arguments)||this;return St.type="identity",St.isIdentity=!0,St}return Et.prototype.calculateTicks=function(){return this.values},Et.prototype.scale=function(St){return this.values[0]!==St&&(0,N.isNumber)(St)?St:this.range[0]},Et.prototype.invert=function(St){var Yt=this.range;return St<Yt[0]||St>Yt[1]?NaN:this.values[0]},Et}(G),jt=kt;function Jt(Tt){var Et=Tt.values,St=Tt.tickInterval,Yt=Tt.tickCount,Ut=Tt.showLast;if((0,N.isNumber)(St)){var Qt=(0,N.filter)(Et,function(ti,Ei){return Ei%St==0}),fe=(0,N.last)(Et);return Ut&&(0,N.last)(Qt)!==fe&&Qt.push(fe),Qt}var be=Et.length,Ye=Tt.min,_e=Tt.max;if((0,N.isNil)(Ye)&&(Ye=0),(0,N.isNil)(_e)&&(_e=Et.length-1),!(0,N.isNumber)(Yt)||Yt>=be)return Et.slice(Ye,_e+1);if(Yt<=0||_e<=0)return[];for(var Fe=Yt===1?be:Math.floor(be/(Yt-1)),li=[],bi=Ye,Ii=0;Ii<Yt&&!(bi>=_e);Ii++)bi=Math.min(Ye+Ii*Fe,_e),Ii===Yt-1&&Ut?li.push(Et[_e]):li.push(Et[bi]);return li}function At(Tt){var Et=Tt.min,St=Tt.max,Yt=Tt.nice,Ut=Tt.tickCount,Qt=new Ct;return Qt.domain([Et,St]),Yt&&Qt.nice(Ut),Qt.ticks(Ut)}var Pt=5,Xt=Math.sqrt(50),se=Math.sqrt(10),dt=Math.sqrt(2),Ct=function(){function Tt(){this._domain=[0,1]}return Tt.prototype.domain=function(Et){return Et?(this._domain=Array.from(Et,Number),this):this._domain.slice()},Tt.prototype.nice=function(Et){var St,Yt;Et===void 0&&(Et=Pt);var Ut=this._domain.slice(),Qt=0,fe=this._domain.length-1,be=this._domain[Qt],Ye=this._domain[fe],_e;return Ye<be&&(St=[Ye,be],be=St[0],Ye=St[1],Yt=[fe,Qt],Qt=Yt[0],fe=Yt[1]),_e=Bt(be,Ye,Et),_e>0?(be=Math.floor(be/_e)*_e,Ye=Math.ceil(Ye/_e)*_e,_e=Bt(be,Ye,Et)):_e<0&&(be=Math.ceil(be*_e)/_e,Ye=Math.floor(Ye*_e)/_e,_e=Bt(be,Ye,Et)),_e>0?(Ut[Qt]=Math.floor(be/_e)*_e,Ut[fe]=Math.ceil(Ye/_e)*_e,this.domain(Ut)):_e<0&&(Ut[Qt]=Math.ceil(be*_e)/_e,Ut[fe]=Math.floor(Ye*_e)/_e,this.domain(Ut)),this},Tt.prototype.ticks=function(Et){return Et===void 0&&(Et=Pt),It(this._domain[0],this._domain[this._domain.length-1],Et||Pt)},Tt}();function It(Tt,Et,St){var Yt,Ut=-1,Qt,fe,be;if(Et=+Et,Tt=+Tt,St=+St,Tt===Et&&St>0)return[Tt];if((Yt=Et<Tt)&&(Qt=Tt,Tt=Et,Et=Qt),(be=Bt(Tt,Et,St))===0||!isFinite(be))return[];if(be>0)for(Tt=Math.ceil(Tt/be),Et=Math.floor(Et/be),fe=new Array(Qt=Math.ceil(Et-Tt+1));++Ut<Qt;)fe[Ut]=(Tt+Ut)*be;else for(Tt=Math.floor(Tt*be),Et=Math.ceil(Et*be),fe=new Array(Qt=Math.ceil(Tt-Et+1));++Ut<Qt;)fe[Ut]=(Tt-Ut)/be;return Yt&&fe.reverse(),fe}function Bt(Tt,Et,St){var Yt=(Et-Tt)/Math.max(0,St),Ut=Math.floor(Math.log(Yt)/Math.LN10),Qt=Yt/Math.pow(10,Ut);return Ut>=0?(Qt>=Xt?10:Qt>=se?5:Qt>=dt?2:1)*Math.pow(10,Ut):-Math.pow(10,-Ut)/(Qt>=Xt?10:Qt>=se?5:Qt>=dt?2:1)}function Wt(Tt,Et,St){var Yt;return St==="ceil"?Yt=Math.ceil(Tt/Et):St==="floor"?Yt=Math.floor(Tt/Et):Yt=Math.round(Tt/Et),Yt*Et}function $t(Tt,Et,St){var Yt=Wt(Tt,St,"floor"),Ut=Wt(Et,St,"ceil");Yt=(0,N.fixedBase)(Yt,St),Ut=(0,N.fixedBase)(Ut,St);for(var Qt=[],fe=Math.max((Ut-Yt)/(Math.pow(2,12)-1),St),be=Yt;be<=Ut;be=be+fe){var Ye=(0,N.fixedBase)(be,fe);Qt.push(Ye)}return{min:Yt,max:Ut,ticks:Qt}}function Zt(Tt,Et,St){var Yt,Ut=Tt.minLimit,Qt=Tt.maxLimit,fe=Tt.min,be=Tt.max,Ye=Tt.tickCount,_e=Ye===void 0?5:Ye,Fe=(0,N.isNil)(Ut)?(0,N.isNil)(Et)?fe:Et:Ut,li=(0,N.isNil)(Qt)?(0,N.isNil)(St)?be:St:Qt;if(Fe>li&&(Yt=[Fe,li],li=Yt[0],Fe=Yt[1]),_e<=2)return[Fe,li];for(var bi=(li-Fe)/(_e-1),Ii=[],ti=0;ti<_e;ti++)Ii.push(Fe+bi*ti);return Ii}function ie(Tt){var Et=Tt.min,St=Tt.max,Yt=Tt.tickInterval,Ut=Tt.minLimit,Qt=Tt.maxLimit,fe=At(Tt);return!(0,N.isNil)(Ut)||!(0,N.isNil)(Qt)?Zt(Tt,(0,N.head)(fe),(0,N.last)(fe)):Yt?$t(Et,St,Yt).ticks:fe}function zt(Tt){return Math.abs(Tt)<1e-15?Tt:parseFloat(Tt.toFixed(15))}var Kt=[1,5,2,2.5,4,3],ne=null,Te=Number.EPSILON*100;function ke(Tt,Et){return(Tt%Et+Et)%Et}function Se(Tt){return Math.round(Tt*1e12)/1e12}function Ie(Tt,Et,St,Yt,Ut,Qt){var fe=(0,N.size)(Et),be=(0,N.indexOf)(Et,Tt),Ye=0,_e=ke(Yt,Qt);return(_e<Te||Qt-_e<Te)&&Yt<=0&&Ut>=0&&(Ye=1),1-be/(fe-1)-St+Ye}function Ee(Tt,Et,St){var Yt=(0,N.size)(Et),Ut=(0,N.indexOf)(Et,Tt),Qt=1;return 1-Ut/(Yt-1)-St+Qt}function Be(Tt,Et,St,Yt,Ut,Qt){var fe=(Tt-1)/(Qt-Ut),be=(Et-1)/(Math.max(Qt,Yt)-Math.min(St,Ut));return 2-Math.max(fe/be,be/fe)}function Ce(Tt,Et){return Tt>=Et?2-(Tt-1)/(Et-1):1}function Ge(Tt,Et,St,Yt){var Ut=Et-Tt;return 1-.5*(Math.pow(Et-Yt,2)+Math.pow(Tt-St,2))/Math.pow(.1*Ut,2)}function Pe(Tt,Et,St){var Yt=Et-Tt;if(St>Yt){var Ut=(St-Yt)/2;return 1-Math.pow(Ut,2)/Math.pow(.1*Yt,2)}return 1}function Ve(){return 1}function ze(Tt,Et,St,Yt,Ut,Qt){St===void 0&&(St=5),Yt===void 0&&(Yt=!0),Ut===void 0&&(Ut=Kt),Qt===void 0&&(Qt=[.25,.2,.5,.05]);var fe=St<0?0:Math.round(St);if(Number.isNaN(Tt)||Number.isNaN(Et)||typeof Tt!="number"||typeof Et!="number"||!fe)return{min:0,max:0,ticks:[]};if(Et-Tt<1e-15||fe===1)return{min:Tt,max:Et,ticks:[Tt]};if(Et-Tt>1e148){var be=St||5,Ye=(Et-Tt)/be;return{min:Tt,max:Et,ticks:Array(be).fill(null).map(function(Fn,Lr){return zt(Tt+Ye*Lr)})}}for(var _e={score:-2,lmin:0,lmax:0,lstep:0},Fe=1;Fe<Infinity;){for(var li=0;li<Ut.length;li+=1){var bi=Ut[li],Ii=Ee(bi,Ut,Fe);if(Qt[0]*Ii+Qt[1]+Qt[2]+Qt[3]<_e.score){Fe=Infinity;break}for(var ti=2;ti<Infinity;){var Ei=Ce(ti,fe);if(Qt[0]*Ii+Qt[1]+Qt[2]*Ei+Qt[3]<_e.score)break;for(var Ri=(Et-Tt)/(ti+1)/Fe/bi,Qi=Math.ceil(Math.log10(Ri));Qi<Infinity;){var hi=Fe*bi*Math.pow(10,Qi),Wr=Pe(Tt,Et,hi*(ti-1));if(Qt[0]*Ii+Qt[1]*Wr+Qt[2]*Ei+Qt[3]<_e.score)break;var qi=Math.floor(Et/hi)*Fe-(ti-1)*Fe,xr=Math.ceil(Tt/hi)*Fe;if(qi<=xr)for(var be=xr-qi,br=0;br<=be;br+=1){var kr=qi+br,Ji=kr*(hi/Fe),sr=Ji+hi*(ti-1),rn=hi,_r=Ie(bi,Ut,Fe,Ji,sr,rn),wr=Ge(Tt,Et,Ji,sr),nn=Be(ti,fe,Tt,Et,Ji,sr),kn=Ve(),An=Qt[0]*_r+Qt[1]*wr+Qt[2]*nn+Qt[3]*kn;An>_e.score&&(!Yt||Ji<=Tt&&sr>=Et)&&(_e.lmin=Ji,_e.lmax=sr,_e.lstep=rn,_e.score=An)}Qi+=1}ti+=1}}Fe+=1}var Nr=zt(_e.lmax),an=zt(_e.lmin),on=zt(_e.lstep),_n=Math.floor(Se((Nr-an)/on))+1,Tr=new Array(_n);Tr[0]=zt(an);for(var li=1;li<_n;li++)Tr[li]=zt(Tr[li-1]+on);return{min:Math.min(Tt,(0,N.head)(Tr)),max:Math.max(Et,(0,N.last)(Tr)),ticks:Tr}}function Je(Tt){var Et=Tt.min,St=Tt.max,Yt=Tt.tickCount,Ut=Tt.nice,Qt=Tt.tickInterval,fe=Tt.minLimit,be=Tt.maxLimit,Ye=ze(Et,St,Yt,Ut).ticks;return!(0,N.isNil)(fe)||!(0,N.isNil)(be)?Zt(Tt,(0,N.head)(Ye),(0,N.last)(Ye)):Qt?$t(Et,St,Qt).ticks:Ye}function si(Tt){var Et=Tt.base,St=Tt.tickCount,Yt=Tt.min,Ut=Tt.max,Qt=Tt.values,fe,be=W(Et,Ut);if(Yt>0)fe=Math.floor(W(Et,Yt));else{var Ye=it(Qt,Et,Ut);fe=Math.floor(W(Et,Ye))}for(var _e=be-fe,Fe=Math.ceil(_e/St),li=[],bi=fe;bi<be+Fe;bi=bi+Fe)li.push(Math.pow(Et,bi));return Yt<=0&&li.unshift(0),li}function Li(Tt,Et,St){if(St===void 0&&(St=5),Tt===Et)return{max:Et,min:Tt,ticks:[Tt]};var Yt=St<0?0:Math.round(St);if(Yt===0)return{max:Et,min:Tt,ticks:[]};var Ut=1.5,Qt=.5+1.5*Ut,fe=Et-Tt,be=fe/Yt,Ye=Math.pow(10,Math.floor(Math.log10(be))),_e=Ye;2*Ye-be<Ut*(be-_e)&&(_e=2*Ye,5*Ye-be<Qt*(be-_e)&&(_e=5*Ye,10*Ye-be<Ut*(be-_e)&&(_e=10*Ye)));for(var Fe=Math.ceil(Et/_e),li=Math.floor(Tt/_e),bi=Math.max(Fe*_e,Et),Ii=Math.min(li*_e,Tt),ti=Math.floor((bi-Ii)/_e)+1,Ei=new Array(ti),Ri=0;Ri<ti;Ri++)Ei[Ri]=zt(Ii+Ri*_e);return{min:Ii,max:bi,ticks:Ei}}function or(Tt){var Et=Tt.exponent,St=Tt.tickCount,Yt=Math.ceil(l(Et,Tt.max)),Ut=Math.floor(l(Et,Tt.min)),Qt=Li(Ut,Yt,St).ticks;return Qt.map(function(fe){var be=fe>=0?1:-1;return Math.pow(fe,Et)*be})}function wi(Tt,Et){var St=Tt.length*Et;return Et===1?Tt[Tt.length-1]:Et===0?Tt[0]:St%1!=0?Tt[Math.ceil(St)-1]:Tt.length%2==0?(Tt[St-1]+Tt[St])/2:Tt[St]}function yr(Tt){var Et=Tt.tickCount,St=Tt.values;if(!St||!St.length)return[];for(var Yt=St.slice().sort(function(be,Ye){return be-Ye}),Ut=[],Qt=0;Qt<Et;Qt++){var fe=Qt/(Et-1);Ut.push(wi(Yt,fe))}return Ut}function $i(Tt){var Et=Tt.min,St=Tt.max,Yt=Tt.tickCount,Ut=Tt.tickInterval,Qt=Tt.minLimit,fe=Tt.maxLimit,be=Li(Et,St,Yt).ticks;return!(0,N.isNil)(Qt)||!(0,N.isNil)(fe)?Zt(Tt,(0,N.head)(be),(0,N.last)(be)):Ut?$t(Et,St,Ut).ticks:be}function Ar(Tt){var Et=Tt.min,St=Tt.max,Yt=Tt.minTickInterval,Ut=Tt.tickInterval,Qt=Tt.tickCount;if(Ut)Qt=Math.ceil((St-Et)/Ut);else{Ut=ft(Et,St,Qt)[1];var fe=(St-Et)/Ut,be=fe/Qt;be>1&&(Ut=Ut*Math.ceil(be)),Yt&&Ut<Yt&&(Ut=Yt)}Ut=Math.max(Math.floor((St-Et)/(Math.pow(2,12)-1)),Ut);for(var Ye=[],_e=Et;_e<St+Ut;_e+=Ut)Ye.push(_e);return Ye}function zr(Tt){var Et=Jt((0,z.__assign)({showLast:!0},Tt));return Et}function Wi(Tt){return new Date(Tt).getFullYear()}function mr(Tt){return new Date(Tt,0,1).getTime()}function Br(Tt){return new Date(Tt).getMonth()}function Ki(Tt,Et){var St=Wi(Tt),Yt=Wi(Et),Ut=Br(Tt),Qt=Br(Et);return(Yt-St)*12+(Qt-Ut)%12}function Zi(Tt,Et){return new Date(Tt,Et,1).getTime()}function Ci(Tt,Et){return Math.ceil((Et-Tt)/Y)}function gn(Tt,Et){return Math.ceil((Et-Tt)/P)}function en(Tt,Et){return Math.ceil((Et-Tt)/(60*1e3))}function Kr(Tt){var Et=Tt.min,St=Tt.max,Yt=Tt.minTickInterval,Ut=Tt.tickCount,Qt=Tt.tickInterval,fe=[];Qt||(Qt=(St-Et)/Ut,Yt&&Qt<Yt&&(Qt=Yt)),Qt=Math.max(Math.floor((St-Et)/(Math.pow(2,12)-1)),Qt);var be=Wi(Et);if(Qt>et)for(var Ye=Wi(St),_e=Math.ceil(Qt/et),Fe=be;Fe<=Ye+_e;Fe=Fe+_e)fe.push(mr(Fe));else if(Qt>at)for(var li=Math.ceil(Qt/at),bi=Br(Et),Ii=Ki(Et,St),Fe=0;Fe<=Ii+li;Fe=Fe+li)fe.push(Zi(be,Fe+bi));else if(Qt>Y)for(var ti=new Date(Et),Ei=ti.getFullYear(),Ri=ti.getMonth(),Qi=ti.getDate(),hi=Math.ceil(Qt/Y),Wr=Ci(Et,St),Fe=0;Fe<Wr+hi;Fe=Fe+hi)fe.push(new Date(Ei,Ri,Qi+Fe).getTime());else if(Qt>P)for(var ti=new Date(Et),Ei=ti.getFullYear(),Ri=ti.getMonth(),hi=ti.getDate(),qi=ti.getHours(),xr=Math.ceil(Qt/P),br=gn(Et,St),Fe=0;Fe<=br+xr;Fe=Fe+xr)fe.push(new Date(Ei,Ri,hi,qi+Fe).getTime());else if(Qt>E)for(var kr=en(Et,St),Ji=Math.ceil(Qt/E),Fe=0;Fe<=kr+Ji;Fe=Fe+Ji)fe.push(Et+Fe*E);else{var sr=Qt;sr<k&&(sr=k);for(var rn=Math.floor(Et/k)*k,_r=Math.ceil((St-Et)/k),wr=Math.ceil(sr/k),Fe=0;Fe<_r+wr;Fe=Fe+wr)fe.push(rn+Fe*k)}return fe.length>=512&&console.warn("Notice: current ticks length("+fe.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+Qt+") is too small, increase the value to solve the problem!"),fe}Z("cat",Jt),Z("time-cat",zr),Z("wilkinson-extended",Je),Z("r-pretty",$i),Z("time",Ar),Z("time-pretty",Kr),Z("log",si),Z("pow",or),Z("quantile",yr),Z("d3-linear",ie),de("cat",F),de("category",F),de("identity",jt),de("linear",x),de("log",V),de("pow",Mt),de("time",ee),de("timeCat",bt),de("quantize",ce),de("quantile",ge)},49242:function(oe,C,S){"use strict";S.r(C),S.d(C,{Cache:function(){return vt},assign:function(){return hn},augment:function(){return ia},clamp:function(){return Wi},clearAnimationFrame:function(){return cn},clone:function(){return In},contains:function(){return Z},debounce:function(){return Ca},deepMix:function(){return Hn},difference:function(){return $},each:function(){return Y},endsWith:function(){return Te},every:function(){return Se},extend:function(){return Pi},filter:function(){return G},find:function(){return x},findIndex:function(){return W},firstValue:function(){return nt},fixedBase:function(){return Br},flatten:function(){return y},flattenDeep:function(){return yt},forIn:function(){return xr},get:function(){return v},getEllipsisText:function(){return M},getRange:function(){return re},getType:function(){return Tn},getWrapBehavior:function(){return Je},group:function(){return Ve},groupBy:function(){return Ge},groupToMap:function(){return Pe},has:function(){return br},hasKey:function(){return kr},hasValue:function(){return rn},head:function(){return Zt},identity:function(){return ae},includes:function(){return Z},indexOf:function(){return mi},isArguments:function(){return Dn},isArray:function(){return k},isArrayLike:function(){return K},isBoolean:function(){return ln},isDate:function(){return Bi},isDecimal:function(){return gn},isElement:function(){return Yn},isEmpty:function(){return Ma},isEqual:function(){return Qr},isEqualWith:function(){return wn},isError:function(){return Ln},isEven:function(){return Kr},isFinite:function(){return lr},isFunction:function(){return w},isInteger:function(){return Et},isMatch:function(){return ft},isNegative:function(){return Yt},isNil:function(){return I},isNull:function(){return xn},isNumber:function(){return Zi},isNumberEqual:function(){return Qt},isObject:function(){return E},isObjectLike:function(){return bt},isOdd:function(){return be},isPlainObject:function(){return O},isPositive:function(){return _e},isPrototype:function(){return Nn},isRegExp:function(){return wa},isString:function(){return se},isType:function(){return D},isUndefined:function(){return Dr},keys:function(){return et},last:function(){return ie},lowerCase:function(){return nn},lowerFirst:function(){return An},map:function(){return na},mapValues:function(){return R},max:function(){return Mt},maxBy:function(){return Fe},measureTextWidth:function(){return b},memoize:function(){return Xn},min:function(){return Gt},minBy:function(){return li},mix:function(){return hn},mod:function(){return Ii},noop:function(){return Ht},number2color:function(){return yr},omit:function(){return ut},parseRadius:function(){return Ar},pick:function(){return j},pull:function(){return xe},pullAt:function(){return jt},reduce:function(){return At},remove:function(){return Xt},requestAnimationFrame:function(){return un},set:function(){return m},size:function(){return ve},some:function(){return Ee},sortBy:function(){return Ct},startsWith:function(){return Kt},substitute:function(){return an},throttle:function(){return gt},toArray:function(){return _t},toDegree:function(){return Ri},toInteger:function(){return Qi},toRadian:function(){return qi},toString:function(){return _r},union:function(){return Wt},uniq:function(){return It},uniqueId:function(){return Rt},upperCase:function(){return _n},upperFirst:function(){return Fn},values:function(){return sr},valuesOfKey:function(){return $t},wrapBehavior:function(){return Li}});var N=function(T){return T!==null&&typeof T!="function"&&isFinite(T.length)},K=N,Q=function(T,U){return K(T)?T.indexOf(U)>-1:!1},Z=Q,q=function(T,U){if(!K(T))return T;for(var rt=[],xt=0;xt<T.length;xt++){var Ot=T[xt];U(Ot,xt)&&rt.push(Ot)}return rt},G=q,z=function(T,U){return U===void 0&&(U=[]),G(T,function(rt){return!Z(U,rt)})},$=z,F={}.toString,X=function(T,U){return F.call(T)==="[object "+U+"]"},D=X,w=function(T){return D(T,"Function")},d=function(T){return T==null},I=d,k=function(T){return Array.isArray?Array.isArray(T):D(T,"Array")},E=function(T){var U=typeof T;return T!==null&&U==="object"||U==="function"};function P(T,U){if(!!T){var rt;if(k(T))for(var xt=0,Ot=T.length;xt<Ot&&(rt=U(T[xt],xt),rt!==!1);xt++);else if(E(T)){for(var Nt in T)if(T.hasOwnProperty(Nt)&&(rt=U(T[Nt],Nt),rt===!1))break}}}var Y=P,at=Object.keys?function(T){return Object.keys(T)}:function(T){var U=[];return Y(T,function(rt,xt){w(T)&&xt==="prototype"||U.push(xt)}),U},et=at;function ot(T,U){var rt=et(U),xt=rt.length;if(I(T))return!xt;for(var Ot=0;Ot<xt;Ot+=1){var Nt=rt[Ot];if(U[Nt]!==T[Nt]||!(Nt in T))return!1}return!0}var ft=ot,ct=function(T){return typeof T=="object"&&T!==null},bt=ct,tt=function(T){if(!bt(T)||!D(T,"Object"))return!1;if(Object.getPrototypeOf(T)===null)return!0;for(var U=T;Object.getPrototypeOf(U)!==null;)U=Object.getPrototypeOf(U);return Object.getPrototypeOf(T)===U},O=tt;function J(T,U){if(!k(T))return null;var rt;if(w(U)&&(rt=U),O(U)&&(rt=function(Ot){return ft(Ot,U)}),rt){for(var xt=0;xt<T.length;xt+=1)if(rt(T[xt]))return T[xt]}return null}var x=J;function l(T,U,rt){rt===void 0&&(rt=0);for(var xt=rt;xt<T.length;xt++)if(U(T[xt],xt))return xt;return-1}var W=l,it=function(T,U){for(var rt=null,xt=0;xt<T.length;xt++){var Ot=T[xt],Nt=Ot[U];if(!I(Nt)){k(Nt)?rt=Nt[0]:rt=Nt;break}}return rt},nt=it,ht=function(T){if(!k(T))return[];for(var U=[],rt=0;rt<T.length;rt++)U=U.concat(T[rt]);return U},y=ht,V=function(T,U){if(U===void 0&&(U=[]),!k(T))U.push(T);else for(var rt=0;rt<T.length;rt+=1)V(T[rt],U);return U},yt=V,Mt=function(T){if(!!k(T))return T.reduce(function(U,rt){return Math.max(U,rt)},T[0])},Gt=function(T){if(!!k(T))return T.reduce(function(U,rt){return Math.min(U,rt)},T[0])},ee=function(T){var U=T.filter(function(le){return!isNaN(le)});if(!U.length)return{min:0,max:0};if(k(T[0])){for(var rt=[],xt=0;xt<T.length;xt++)rt=rt.concat(T[xt]);U=rt}var Ot=Mt(U),Nt=Gt(U);return{min:Nt,max:Ot}},re=ee,ce=Array.prototype,pe=ce.splice,ge=ce.indexOf,me=function(T){for(var U=[],rt=1;rt<arguments.length;rt++)U[rt-1]=arguments[rt];for(var xt=0;xt<U.length;xt++)for(var Ot=U[xt],Nt=-1;(Nt=ge.call(T,Ot))>-1;)pe.call(T,Nt,1);return T},xe=me,de=Array.prototype.splice,kt=function(U,rt){if(!K(U))return[];for(var xt=U?rt.length:0,Ot=xt-1;xt--;){var Nt=void 0,le=rt[xt];(xt===Ot||le!==Nt)&&(Nt=le,de.call(U,le,1))}return U},jt=kt,Jt=function(T,U,rt){if(!k(T)&&!O(T))return T;var xt=rt;return Y(T,function(Ot,Nt){xt=U(xt,Ot,Nt)}),xt},At=Jt,Pt=function(T,U){var rt=[];if(!K(T))return rt;for(var xt=-1,Ot=[],Nt=T.length;++xt<Nt;){var le=T[xt];U(le,xt,T)&&(rt.push(le),Ot.push(xt))}return jt(T,Ot),rt},Xt=Pt,se=function(T){return D(T,"String")};function dt(T,U){var rt;if(w(U))rt=function(Ot,Nt){return U(Ot)-U(Nt)};else{var xt=[];se(U)?xt.push(U):k(U)&&(xt=U),rt=function(Ot,Nt){for(var le=0;le<xt.length;le+=1){var he=xt[le];if(Ot[he]>Nt[he])return 1;if(Ot[he]<Nt[he])return-1}return 0}}return T.sort(rt),T}var Ct=dt;function It(T,U){U===void 0&&(U=new Map);var rt=[];if(Array.isArray(T))for(var xt=0,Ot=T.length;xt<Ot;xt++){var Nt=T[xt];U.has(Nt)||(rt.push(Nt),U.set(Nt,!0))}return rt}var Bt=function(){for(var T=[],U=0;U<arguments.length;U++)T[U]=arguments[U];return It([].concat.apply([],T))},Wt=Bt,$t=function(T,U){for(var rt=[],xt={},Ot=0;Ot<T.length;Ot++){var Nt=T[Ot],le=Nt[U];if(!I(le)){k(le)||(le=[le]);for(var he=0;he<le.length;he++){var ue=le[he];xt[ue]||(rt.push(ue),xt[ue]=!0)}}}return rt};function Zt(T){if(K(T))return T[0]}function ie(T){if(K(T)){var U=T;return U[U.length-1]}}function zt(T,U){return k(T)||se(T)?T[0]===U:!1}var Kt=zt;function ne(T,U){return k(T)||se(T)?T[T.length-1]===U:!1}var Te=ne,ke=function(T,U){for(var rt=0;rt<T.length;rt++)if(!U(T[rt],rt))return!1;return!0},Se=ke,Ie=function(T,U){for(var rt=0;rt<T.length;rt++)if(U(T[rt],rt))return!0;return!1},Ee=Ie,Be=Object.prototype.hasOwnProperty;function Ce(T,U){if(!U||!k(T))return{};for(var rt={},xt=w(U)?U:function(he){return he[U]},Ot,Nt=0;Nt<T.length;Nt++){var le=T[Nt];Ot=xt(le),Be.call(rt,Ot)?rt[Ot].push(le):rt[Ot]=[le]}return rt}var Ge=Ce;function Pe(T,U){if(!U)return{0:T};if(!w(U)){var rt=k(U)?U:U.replace(/\s+/g,"").split("*");U=function(xt){for(var Ot="_",Nt=0,le=rt.length;Nt<le;Nt++)Ot+=xt[rt[Nt]]&&xt[rt[Nt]].toString();return Ot}}return Ge(T,U)}var Ve=function(T,U){if(!U)return[T];var rt=Pe(T,U),xt=[];for(var Ot in rt)xt.push(rt[Ot]);return xt};function ze(T,U){return T["_wrap_"+U]}var Je=ze;function si(T,U){if(T["_wrap_"+U])return T["_wrap_"+U];var rt=function(xt){T[U](xt)};return T["_wrap_"+U]=rt,rt}var Li=si,or={};function wi(T){var U=or[T];if(!U){for(var rt=T.toString(16),xt=rt.length;xt<6;xt++)rt="0"+rt;U="#"+rt,or[T]=U}return U}var yr=wi;function $i(T){var U=0,rt=0,xt=0,Ot=0;return k(T)?T.length===1?U=rt=xt=Ot=T[0]:T.length===2?(U=xt=T[0],rt=Ot=T[1]):T.length===3?(U=T[0],rt=Ot=T[1],xt=T[2]):(U=T[0],rt=T[1],xt=T[2],Ot=T[3]):U=rt=xt=Ot=T,{r1:U,r2:rt,r3:xt,r4:Ot}}var Ar=$i,zr=function(T,U,rt){return T<U?U:T>rt?rt:T},Wi=zr,mr=function(T,U){var rt=U.toString(),xt=rt.indexOf(".");if(xt===-1)return Math.round(T);var Ot=rt.substr(xt+1).length;return Ot>20&&(Ot=20),parseFloat(T.toFixed(Ot))},Br=mr,Ki=function(T){return D(T,"Number")},Zi=Ki,Ci=function(T){return Zi(T)&&T%1!=0},gn=Ci,en=function(T){return Zi(T)&&T%2==0},Kr=en,Tt=Number.isInteger?Number.isInteger:function(T){return Zi(T)&&T%1==0},Et=Tt,St=function(T){return Zi(T)&&T<0},Yt=St,Ut=1e-5;function Qt(T,U,rt){return rt===void 0&&(rt=Ut),Math.abs(T-U)<rt}var fe=function(T){return Zi(T)&&T%2!=0},be=fe,Ye=function(T){return Zi(T)&&T>0},_e=Ye,Fe=function(T,U){if(!!k(T)){for(var rt,xt=-Infinity,Ot=0;Ot<T.length;Ot++){var Nt=T[Ot],le=w(U)?U(Nt):Nt[U];le>xt&&(rt=Nt,xt=le)}return rt}},li=function(T,U){if(!!k(T)){for(var rt,xt=Infinity,Ot=0;Ot<T.length;Ot++){var Nt=T[Ot],le=w(U)?U(Nt):Nt[U];le<xt&&(rt=Nt,xt=le)}return rt}},bi=function(T,U){return(T%U+U)%U},Ii=bi,ti=180/Math.PI,Ei=function(T){return ti*T},Ri=Ei,Qi=parseInt,hi=Math.PI/180,Wr=function(T){return hi*T},qi=Wr,xr=Y,br=function(T,U){return T.hasOwnProperty(U)},kr=br,Ji=Object.values?function(T){return Object.values(T)}:function(T){var U=[];return Y(T,function(rt,xt){w(T)&&xt==="prototype"||U.push(rt)}),U},sr=Ji,rn=function(T,U){return Z(sr(T),U)},_r=function(T){return I(T)?"":T.toString()},wr=function(T){return _r(T).toLowerCase()},nn=wr,kn=function(T){var U=_r(T);return U.charAt(0).toLowerCase()+U.substring(1)},An=kn;function Nr(T,U){return!T||!U?T:T.replace(/\\?\{([^{}]+)\}/g,function(rt,xt){return rt.charAt(0)==="\\"?rt.slice(1):U[xt]===void 0?"":U[xt]})}var an=Nr,on=function(T){return _r(T).toUpperCase()},_n=on,Tr=function(T){var U=_r(T);return U.charAt(0).toUpperCase()+U.substring(1)},Fn=Tr,Lr={}.toString,sn=function(T){return Lr.call(T).replace(/^\[object /,"").replace(/]$/,"")},Tn=sn,yn=function(T){return D(T,"Arguments")},Dn=yn,Cr=function(T){return D(T,"Boolean")},ln=Cr,mn=function(T){return D(T,"Date")},Bi=mn,Rn=function(T){return D(T,"Error")},Ln=Rn;function lr(T){return Zi(T)&&isFinite(T)}var En=function(T){return T===null},xn=En,Pn=Object.prototype,Fr=function(T){var U=T&&T.constructor,rt=typeof U=="function"&&U.prototype||Pn;return T===rt},Nn=Fr,Gn=function(T){return D(T,"RegExp")},wa=Gn,ta=function(T){return T===void 0},Dr=ta,On=function(T){return T instanceof Element||T instanceof HTMLDocument},Yn=On;function un(T){var U=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(rt){return setTimeout(rt,16)};return U(T)}function cn(T){var U=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;U(T)}function bn(T,U){for(var rt in U)U.hasOwnProperty(rt)&&rt!=="constructor"&&U[rt]!==void 0&&(T[rt]=U[rt])}function hn(T,U,rt,xt){return U&&bn(T,U),rt&&bn(T,rt),xt&&bn(T,xt),T}var ea=function(){for(var T=[],U=0;U<arguments.length;U++)T[U]=arguments[U];for(var rt=T[0],xt=1;xt<T.length;xt++){var Ot=T[xt];w(Ot)&&(Ot=Ot.prototype),hn(rt.prototype,Ot)}},ia=ea,Rr=function(T){if(typeof T!="object"||T===null)return T;var U;if(k(T)){U=[];for(var rt=0,xt=T.length;rt<xt;rt++)typeof T[rt]=="object"&&T[rt]!=null?U[rt]=Rr(T[rt]):U[rt]=T[rt]}else{U={};for(var Ot in T)typeof T[Ot]=="object"&&T[Ot]!=null?U[Ot]=Rr(T[Ot]):U[Ot]=T[Ot]}return U},In=Rr;function tr(T,U,rt){var xt;return function(){var Ot=this,Nt=arguments,le=function(){xt=null,rt||T.apply(Ot,Nt)},he=rt&&!xt;clearTimeout(xt),xt=setTimeout(le,U),he&&T.apply(Ot,Nt)}}var Ca=tr,Xn=function(T,U){if(!w(T))throw new TypeError("Expected a function");var rt=function(){for(var xt=[],Ot=0;Ot<arguments.length;Ot++)xt[Ot]=arguments[Ot];var Nt=U?U.apply(this,xt):xt[0],le=rt.cache;if(le.has(Nt))return le.get(Nt);var he=T.apply(this,xt);return le.set(Nt,he),he};return rt.cache=new Map,rt},Sa=5;function jn(T,U,rt,xt){rt=rt||0,xt=xt||Sa;for(var Ot in U)if(U.hasOwnProperty(Ot)){var Nt=U[Ot];Nt!==null&&O(Nt)?(O(T[Ot])||(T[Ot]={}),rt<xt?jn(T[Ot],Nt,rt+1,xt):T[Ot]=U[Ot]):k(Nt)?(T[Ot]=[],T[Ot]=T[Ot].concat(Nt)):Nt!==void 0&&(T[Ot]=Nt)}}var Si=function(T){for(var U=[],rt=1;rt<arguments.length;rt++)U[rt-1]=arguments[rt];for(var xt=0;xt<U.length;xt+=1)jn(T,U[xt]);return T},Hn=Si,hr=function(T,U,rt,xt){w(U)||(rt=U,U=T,T=function(){});var Ot=Object.create?function(le,he){return Object.create(le,{constructor:{value:he}})}:function(le,he){function ue(){}ue.prototype=le;var Ne=new ue;return Ne.constructor=he,Ne},Nt=Ot(U.prototype,T);return T.prototype=hn(Nt,T.prototype),T.superclass=Ot(U.prototype,U),hn(Nt,rt),hn(T,xt),T},Pi=hr,ra=function(T,U){if(!K(T))return-1;var rt=Array.prototype.indexOf;if(rt)return rt.call(T,U);for(var xt=-1,Ot=0;Ot<T.length;Ot++)if(T[Ot]===U){xt=Ot;break}return xt},mi=ra,fn=Object.prototype.hasOwnProperty;function Er(T){if(I(T))return!0;if(K(T))return!T.length;var U=Tn(T);if(U==="Map"||U==="Set")return!T.size;if(Nn(T))return!Object.keys(T).length;for(var rt in T)if(fn.call(T,rt))return!1;return!0}var Ma=Er,Vn=function(T,U){if(T===U)return!0;if(!T||!U||se(T)||se(U))return!1;if(K(T)||K(U)){if(T.length!==U.length)return!1;for(var rt=!0,xt=0;xt<T.length&&(rt=Vn(T[xt],U[xt]),!!rt);xt++);return rt}if(bt(T)||bt(U)){var Ot=Object.keys(T),Nt=Object.keys(U);if(Ot.length!==Nt.length)return!1;for(var rt=!0,xt=0;xt<Ot.length&&(rt=Vn(T[Ot[xt]],U[Ot[xt]]),!!rt);xt++);return rt}return!1},Qr=Vn,wn=function(T,U,rt){return w(rt)?!!rt(T,U):Qr(T,U)},zn=function(T,U){if(!K(T))return T;for(var rt=[],xt=0;xt<T.length;xt++){var Ot=T[xt];rt.push(U(Ot,xt))}return rt},na=zn,mt=function(T){return T},R=function(T,U){U===void 0&&(U=mt);var rt={};return E(T)&&!I(T)&&Object.keys(T).forEach(function(xt){rt[xt]=U(T[xt],xt)}),rt},v=function(T,U,rt){for(var xt=0,Ot=se(U)?U.split("."):U;T&&xt<Ot.length;)T=T[Ot[xt++]];return T===void 0||xt<Ot.length?rt:T},m=function(T,U,rt){var xt=T,Ot=se(U)?U.split("."):U;return Ot.forEach(function(Nt,le){le<Ot.length-1?(E(xt[Nt])||(xt[Nt]=Zi(Ot[le+1])?[]:{}),xt=xt[Nt]):xt[Nt]=rt}),T},L=Object.prototype.hasOwnProperty,j=function(T,U){if(T===null||!O(T))return{};var rt={};return Y(U,function(xt){L.call(T,xt)&&(rt[xt]=T[xt])}),rt},ut=function(T,U){return At(T,function(rt,xt,Ot){return U.includes(Ot)||(rt[Ot]=xt),rt},{})},gt=function(T,U,rt){var xt,Ot,Nt,le,he=0;rt||(rt={});var ue=function(){he=rt.leading===!1?0:Date.now(),xt=null,le=T.apply(Ot,Nt),xt||(Ot=Nt=null)},Ne=function(){var je=Date.now();!he&&rt.leading===!1&&(he=je);var Ke=U-(je-he);return Ot=this,Nt=arguments,Ke<=0||Ke>U?(xt&&(clearTimeout(xt),xt=null),he=je,le=T.apply(Ot,Nt),xt||(Ot=Nt=null)):!xt&&rt.trailing!==!1&&(xt=setTimeout(ue,Ke)),le};return Ne.cancel=function(){clearTimeout(xt),he=0,xt=Ot=Nt=null},Ne},_t=function(T){return K(T)?Array.prototype.slice.call(T):[]},Lt={},Rt=function(T){return T=T||"g",Lt[T]?Lt[T]+=1:Lt[T]=1,T+Lt[T]},Ht=function(){},ae=function(T){return T};function ve(T){return I(T)?0:K(T)?T.length:Object.keys(T).length}var B=S(70655),A,b=Xn(function(T,U){U===void 0&&(U={});var rt=U.fontSize,xt=U.fontFamily,Ot=U.fontWeight,Nt=U.fontStyle,le=U.fontVariant;return A||(A=document.createElement("canvas").getContext("2d")),A.font=[Nt,le,Ot,rt+"px",xt].join(" "),A.measureText(se(T)?T:"").width},function(T,U){return U===void 0&&(U={}),(0,B.__spreadArrays)([T],sr(U)).join("")}),M=function(T,U,rt,xt){xt===void 0&&(xt="...");var Ot=16,Nt=b(xt,rt),le=se(T)?T:_r(T),he=U,ue=[],Ne,je;if(b(T,rt)<=U)return T;for(;Ne=le.substr(0,Ot),je=b(Ne,rt),!(je+Nt>he&&je>he);)if(ue.push(Ne),he-=je,le=le.substr(Ot),!le)return ue.join("");for(;Ne=le.substr(0,1),je=b(Ne,rt),!(je+Nt>he);)if(ue.push(Ne),he-=je,le=le.substr(1),!le)return ue.join("");return""+ue.join("")+xt},st=function(){function T(){this.map={}}return T.prototype.has=function(U){return this.map[U]!==void 0},T.prototype.get=function(U,rt){var xt=this.map[U];return xt===void 0?rt:xt},T.prototype.set=function(U,rt){this.map[U]=rt},T.prototype.clear=function(){this.map={}},T.prototype.delete=function(U){delete this.map[U]},T.prototype.size=function(){return Object.keys(this.map).length},T}(),vt=st},35755:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function S(N){var K=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;K(N)}C.default=S},27154:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(66631),K=S(33643);function Q(Z,q){if(!!Z){var G;if(N.default(Z))for(var z=0,$=Z.length;z<$&&(G=q(Z[z],z),G!==!1);z++);else if(K.default(Z)){for(var F in Z)if(Z.hasOwnProperty(F)&&(G=q(Z[F],F),G===!1))break}}}C.default=Q},66631:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(44235);C.default=function(K){return Array.isArray?Array.isArray(K):N.default(K,"Array")}},46812:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(44235);C.default=function(K){return N.default(K,"Function")}},73890:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=function(N){return N==null};C.default=S},39984:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=1e-5;function N(K,Q,Z){return Z===void 0&&(Z=S),Math.abs(K-Q)<Z}C.default=N},33643:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(S){var N=typeof S;return S!==null&&N==="object"||N==="function"}},21830:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(44235);C.default=function(K){return N.default(K,"String")}},44235:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S={}.toString,N=function(K,Q){return S.call(K)==="[object "+Q+"]"};C.default=N},66974:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function S(K,Q){for(var Z in Q)Q.hasOwnProperty(Z)&&Z!=="constructor"&&Q[Z]!==void 0&&(K[Z]=Q[Z])}function N(K,Q,Z,q){return Q&&S(K,Q),Z&&S(K,Z),q&&S(K,q),K}C.default=N},5253:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=function(N,K){return(N%K+K)%K};C.default=S},98229:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function S(N){var K=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Q){return setTimeout(Q,16)};return K(N)}C.default=S},9217:function(oe,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=Math.PI/180,N=function(K){return S*K};C.default=N},78127:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(73890);C.default=function(K){return N.default(K)?"":K.toString()}},85260:function(oe,C,S){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var N=S(78127),K=function(Q){var Z=N.default(Q);return Z.charAt(0).toUpperCase()+Z.substring(1)};C.default=K},99350:function(oe,C,S){"use strict";S.r(C),S.d(C,{__extends:function(){return K},__assign:function(){return Q},__rest:function(){return Z},__decorate:function(){return q},__param:function(){return G},__metadata:function(){return z},__awaiter:function(){return $},__generator:function(){return F},__createBinding:function(){return X},__exportStar:function(){return D},__values:function(){return w},__read:function(){return d},__spread:function(){return I},__spreadArrays:function(){return k},__await:function(){return E},__asyncGenerator:function(){return P},__asyncDelegator:function(){return Y},__asyncValues:function(){return at},__makeTemplateObject:function(){return et},__importStar:function(){return ot},__importDefault:function(){return ft},__classPrivateFieldGet:function(){return ct},__classPrivateFieldSet:function(){return bt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var N=function(O,J){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,l){x.__proto__=l}||function(x,l){for(var W in l)l.hasOwnProperty(W)&&(x[W]=l[W])},N(O,J)};function K(tt,O){N(tt,O);function J(){this.constructor=tt}tt.prototype=O===null?Object.create(O):(J.prototype=O.prototype,new J)}var Q=function(){return Q=Object.assign||function(J){for(var x,l=1,W=arguments.length;l<W;l++){x=arguments[l];for(var it in x)Object.prototype.hasOwnProperty.call(x,it)&&(J[it]=x[it])}return J},Q.apply(this,arguments)};function Z(tt,O){var J={};for(var x in tt)Object.prototype.hasOwnProperty.call(tt,x)&&O.indexOf(x)<0&&(J[x]=tt[x]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,x=Object.getOwnPropertySymbols(tt);l<x.length;l++)O.indexOf(x[l])<0&&Object.prototype.propertyIsEnumerable.call(tt,x[l])&&(J[x[l]]=tt[x[l]]);return J}function q(tt,O,J,x){var l=arguments.length,W=l<3?O:x===null?x=Object.getOwnPropertyDescriptor(O,J):x,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(tt,O,J,x);else for(var nt=tt.length-1;nt>=0;nt--)(it=tt[nt])&&(W=(l<3?it(W):l>3?it(O,J,W):it(O,J))||W);return l>3&&W&&Object.defineProperty(O,J,W),W}function G(tt,O){return function(J,x){O(J,x,tt)}}function z(tt,O){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(tt,O)}function $(tt,O,J,x){function l(W){return W instanceof J?W:new J(function(it){it(W)})}return new(J||(J=Promise))(function(W,it){function nt(V){try{y(x.next(V))}catch(yt){it(yt)}}function ht(V){try{y(x.throw(V))}catch(yt){it(yt)}}function y(V){V.done?W(V.value):l(V.value).then(nt,ht)}y((x=x.apply(tt,O||[])).next())})}function F(tt,O){var J={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},x,l,W,it;return it={next:nt(0),throw:nt(1),return:nt(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function nt(y){return function(V){return ht([y,V])}}function ht(y){if(x)throw new TypeError("Generator is already executing.");for(;J;)try{if(x=1,l&&(W=y[0]&2?l.return:y[0]?l.throw||((W=l.return)&&W.call(l),0):l.next)&&!(W=W.call(l,y[1])).done)return W;switch(l=0,W&&(y=[y[0]&2,W.value]),y[0]){case 0:case 1:W=y;break;case 4:return J.label++,{value:y[1],done:!1};case 5:J.label++,l=y[1],y=[0];continue;case 7:y=J.ops.pop(),J.trys.pop();continue;default:if(W=J.trys,!(W=W.length>0&&W[W.length-1])&&(y[0]===6||y[0]===2)){J=0;continue}if(y[0]===3&&(!W||y[1]>W[0]&&y[1]<W[3])){J.label=y[1];break}if(y[0]===6&&J.label<W[1]){J.label=W[1],W=y;break}if(W&&J.label<W[2]){J.label=W[2],J.ops.push(y);break}W[2]&&J.ops.pop(),J.trys.pop();continue}y=O.call(tt,J)}catch(V){y=[6,V],l=0}finally{x=W=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function X(tt,O,J,x){x===void 0&&(x=J),tt[x]=O[J]}function D(tt,O){for(var J in tt)J!=="default"&&!O.hasOwnProperty(J)&&(O[J]=tt[J])}function w(tt){var O=typeof Symbol=="function"&&Symbol.iterator,J=O&&tt[O],x=0;if(J)return J.call(tt);if(tt&&typeof tt.length=="number")return{next:function(){return tt&&x>=tt.length&&(tt=void 0),{value:tt&&tt[x++],done:!tt}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(tt,O){var J=typeof Symbol=="function"&&tt[Symbol.iterator];if(!J)return tt;var x=J.call(tt),l,W=[],it;try{for(;(O===void 0||O-- >0)&&!(l=x.next()).done;)W.push(l.value)}catch(nt){it={error:nt}}finally{try{l&&!l.done&&(J=x.return)&&J.call(x)}finally{if(it)throw it.error}}return W}function I(){for(var tt=[],O=0;O<arguments.length;O++)tt=tt.concat(d(arguments[O]));return tt}function k(){for(var tt=0,O=0,J=arguments.length;O<J;O++)tt+=arguments[O].length;for(var x=Array(tt),l=0,O=0;O<J;O++)for(var W=arguments[O],it=0,nt=W.length;it<nt;it++,l++)x[l]=W[it];return x}function E(tt){return this instanceof E?(this.v=tt,this):new E(tt)}function P(tt,O,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x=J.apply(tt,O||[]),l,W=[];return l={},it("next"),it("throw"),it("return"),l[Symbol.asyncIterator]=function(){return this},l;function it(Mt){x[Mt]&&(l[Mt]=function(Gt){return new Promise(function(ee,re){W.push([Mt,Gt,ee,re])>1||nt(Mt,Gt)})})}function nt(Mt,Gt){try{ht(x[Mt](Gt))}catch(ee){yt(W[0][3],ee)}}function ht(Mt){Mt.value instanceof E?Promise.resolve(Mt.value.v).then(y,V):yt(W[0][2],Mt)}function y(Mt){nt("next",Mt)}function V(Mt){nt("throw",Mt)}function yt(Mt,Gt){Mt(Gt),W.shift(),W.length&&nt(W[0][0],W[0][1])}}function Y(tt){var O,J;return O={},x("next"),x("throw",function(l){throw l}),x("return"),O[Symbol.iterator]=function(){return this},O;function x(l,W){O[l]=tt[l]?function(it){return(J=!J)?{value:E(tt[l](it)),done:l==="return"}:W?W(it):it}:W}}function at(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O=tt[Symbol.asyncIterator],J;return O?O.call(tt):(tt=typeof w=="function"?w(tt):tt[Symbol.iterator](),J={},x("next"),x("throw"),x("return"),J[Symbol.asyncIterator]=function(){return this},J);function x(W){J[W]=tt[W]&&function(it){return new Promise(function(nt,ht){it=tt[W](it),l(nt,ht,it.done,it.value)})}}function l(W,it,nt,ht){Promise.resolve(ht).then(function(y){W({value:y,done:nt})},it)}}function et(tt,O){return Object.defineProperty?Object.defineProperty(tt,"raw",{value:O}):tt.raw=O,tt}function ot(tt){if(tt&&tt.__esModule)return tt;var O={};if(tt!=null)for(var J in tt)Object.hasOwnProperty.call(tt,J)&&(O[J]=tt[J]);return O.default=tt,O}function ft(tt){return tt&&tt.__esModule?tt:{default:tt}}function ct(tt,O){if(!O.has(tt))throw new TypeError("attempted to get private field on non-instance");return O.get(tt)}function bt(tt,O,J){if(!O.has(tt))throw new TypeError("attempted to set private field on non-instance");return O.set(tt,J),J}},54085:function(oe,C,S){"use strict";S.r(C),S.d(C,{__extends:function(){return K},__assign:function(){return Q},__rest:function(){return Z},__decorate:function(){return q},__param:function(){return G},__metadata:function(){return z},__awaiter:function(){return $},__generator:function(){return F},__createBinding:function(){return X},__exportStar:function(){return D},__values:function(){return w},__read:function(){return d},__spread:function(){return I},__spreadArrays:function(){return k},__await:function(){return E},__asyncGenerator:function(){return P},__asyncDelegator:function(){return Y},__asyncValues:function(){return at},__makeTemplateObject:function(){return et},__importStar:function(){return ot},__importDefault:function(){return ft},__classPrivateFieldGet:function(){return ct},__classPrivateFieldSet:function(){return bt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var N=function(O,J){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,l){x.__proto__=l}||function(x,l){for(var W in l)l.hasOwnProperty(W)&&(x[W]=l[W])},N(O,J)};function K(tt,O){N(tt,O);function J(){this.constructor=tt}tt.prototype=O===null?Object.create(O):(J.prototype=O.prototype,new J)}var Q=function(){return Q=Object.assign||function(J){for(var x,l=1,W=arguments.length;l<W;l++){x=arguments[l];for(var it in x)Object.prototype.hasOwnProperty.call(x,it)&&(J[it]=x[it])}return J},Q.apply(this,arguments)};function Z(tt,O){var J={};for(var x in tt)Object.prototype.hasOwnProperty.call(tt,x)&&O.indexOf(x)<0&&(J[x]=tt[x]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,x=Object.getOwnPropertySymbols(tt);l<x.length;l++)O.indexOf(x[l])<0&&Object.prototype.propertyIsEnumerable.call(tt,x[l])&&(J[x[l]]=tt[x[l]]);return J}function q(tt,O,J,x){var l=arguments.length,W=l<3?O:x===null?x=Object.getOwnPropertyDescriptor(O,J):x,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(tt,O,J,x);else for(var nt=tt.length-1;nt>=0;nt--)(it=tt[nt])&&(W=(l<3?it(W):l>3?it(O,J,W):it(O,J))||W);return l>3&&W&&Object.defineProperty(O,J,W),W}function G(tt,O){return function(J,x){O(J,x,tt)}}function z(tt,O){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(tt,O)}function $(tt,O,J,x){function l(W){return W instanceof J?W:new J(function(it){it(W)})}return new(J||(J=Promise))(function(W,it){function nt(V){try{y(x.next(V))}catch(yt){it(yt)}}function ht(V){try{y(x.throw(V))}catch(yt){it(yt)}}function y(V){V.done?W(V.value):l(V.value).then(nt,ht)}y((x=x.apply(tt,O||[])).next())})}function F(tt,O){var J={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},x,l,W,it;return it={next:nt(0),throw:nt(1),return:nt(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function nt(y){return function(V){return ht([y,V])}}function ht(y){if(x)throw new TypeError("Generator is already executing.");for(;J;)try{if(x=1,l&&(W=y[0]&2?l.return:y[0]?l.throw||((W=l.return)&&W.call(l),0):l.next)&&!(W=W.call(l,y[1])).done)return W;switch(l=0,W&&(y=[y[0]&2,W.value]),y[0]){case 0:case 1:W=y;break;case 4:return J.label++,{value:y[1],done:!1};case 5:J.label++,l=y[1],y=[0];continue;case 7:y=J.ops.pop(),J.trys.pop();continue;default:if(W=J.trys,!(W=W.length>0&&W[W.length-1])&&(y[0]===6||y[0]===2)){J=0;continue}if(y[0]===3&&(!W||y[1]>W[0]&&y[1]<W[3])){J.label=y[1];break}if(y[0]===6&&J.label<W[1]){J.label=W[1],W=y;break}if(W&&J.label<W[2]){J.label=W[2],J.ops.push(y);break}W[2]&&J.ops.pop(),J.trys.pop();continue}y=O.call(tt,J)}catch(V){y=[6,V],l=0}finally{x=W=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function X(tt,O,J,x){x===void 0&&(x=J),tt[x]=O[J]}function D(tt,O){for(var J in tt)J!=="default"&&!O.hasOwnProperty(J)&&(O[J]=tt[J])}function w(tt){var O=typeof Symbol=="function"&&Symbol.iterator,J=O&&tt[O],x=0;if(J)return J.call(tt);if(tt&&typeof tt.length=="number")return{next:function(){return tt&&x>=tt.length&&(tt=void 0),{value:tt&&tt[x++],done:!tt}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(tt,O){var J=typeof Symbol=="function"&&tt[Symbol.iterator];if(!J)return tt;var x=J.call(tt),l,W=[],it;try{for(;(O===void 0||O-- >0)&&!(l=x.next()).done;)W.push(l.value)}catch(nt){it={error:nt}}finally{try{l&&!l.done&&(J=x.return)&&J.call(x)}finally{if(it)throw it.error}}return W}function I(){for(var tt=[],O=0;O<arguments.length;O++)tt=tt.concat(d(arguments[O]));return tt}function k(){for(var tt=0,O=0,J=arguments.length;O<J;O++)tt+=arguments[O].length;for(var x=Array(tt),l=0,O=0;O<J;O++)for(var W=arguments[O],it=0,nt=W.length;it<nt;it++,l++)x[l]=W[it];return x}function E(tt){return this instanceof E?(this.v=tt,this):new E(tt)}function P(tt,O,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x=J.apply(tt,O||[]),l,W=[];return l={},it("next"),it("throw"),it("return"),l[Symbol.asyncIterator]=function(){return this},l;function it(Mt){x[Mt]&&(l[Mt]=function(Gt){return new Promise(function(ee,re){W.push([Mt,Gt,ee,re])>1||nt(Mt,Gt)})})}function nt(Mt,Gt){try{ht(x[Mt](Gt))}catch(ee){yt(W[0][3],ee)}}function ht(Mt){Mt.value instanceof E?Promise.resolve(Mt.value.v).then(y,V):yt(W[0][2],Mt)}function y(Mt){nt("next",Mt)}function V(Mt){nt("throw",Mt)}function yt(Mt,Gt){Mt(Gt),W.shift(),W.length&&nt(W[0][0],W[0][1])}}function Y(tt){var O,J;return O={},x("next"),x("throw",function(l){throw l}),x("return"),O[Symbol.iterator]=function(){return this},O;function x(l,W){O[l]=tt[l]?function(it){return(J=!J)?{value:E(tt[l](it)),done:l==="return"}:W?W(it):it}:W}}function at(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O=tt[Symbol.asyncIterator],J;return O?O.call(tt):(tt=typeof w=="function"?w(tt):tt[Symbol.iterator](),J={},x("next"),x("throw"),x("return"),J[Symbol.asyncIterator]=function(){return this},J);function x(W){J[W]=tt[W]&&function(it){return new Promise(function(nt,ht){it=tt[W](it),l(nt,ht,it.done,it.value)})}}function l(W,it,nt,ht){Promise.resolve(ht).then(function(y){W({value:y,done:nt})},it)}}function et(tt,O){return Object.defineProperty?Object.defineProperty(tt,"raw",{value:O}):tt.raw=O,tt}function ot(tt){if(tt&&tt.__esModule)return tt;var O={};if(tt!=null)for(var J in tt)Object.hasOwnProperty.call(tt,J)&&(O[J]=tt[J]);return O.default=tt,O}function ft(tt){return tt&&tt.__esModule?tt:{default:tt}}function ct(tt,O){if(!O.has(tt))throw new TypeError("attempted to get private field on non-instance");return O.get(tt)}function bt(tt,O,J){if(!O.has(tt))throw new TypeError("attempted to set private field on non-instance");return O.set(tt,J),J}},62117:function(oe,C,S){"use strict";S.r(C),S.d(C,{__extends:function(){return K},__assign:function(){return Q},__rest:function(){return Z},__decorate:function(){return q},__param:function(){return G},__metadata:function(){return z},__awaiter:function(){return $},__generator:function(){return F},__createBinding:function(){return X},__exportStar:function(){return D},__values:function(){return w},__read:function(){return d},__spread:function(){return I},__spreadArrays:function(){return k},__await:function(){return E},__asyncGenerator:function(){return P},__asyncDelegator:function(){return Y},__asyncValues:function(){return at},__makeTemplateObject:function(){return et},__importStar:function(){return ot},__importDefault:function(){return ft},__classPrivateFieldGet:function(){return ct},__classPrivateFieldSet:function(){return bt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var N=function(O,J){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,l){x.__proto__=l}||function(x,l){for(var W in l)l.hasOwnProperty(W)&&(x[W]=l[W])},N(O,J)};function K(tt,O){N(tt,O);function J(){this.constructor=tt}tt.prototype=O===null?Object.create(O):(J.prototype=O.prototype,new J)}var Q=function(){return Q=Object.assign||function(J){for(var x,l=1,W=arguments.length;l<W;l++){x=arguments[l];for(var it in x)Object.prototype.hasOwnProperty.call(x,it)&&(J[it]=x[it])}return J},Q.apply(this,arguments)};function Z(tt,O){var J={};for(var x in tt)Object.prototype.hasOwnProperty.call(tt,x)&&O.indexOf(x)<0&&(J[x]=tt[x]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,x=Object.getOwnPropertySymbols(tt);l<x.length;l++)O.indexOf(x[l])<0&&Object.prototype.propertyIsEnumerable.call(tt,x[l])&&(J[x[l]]=tt[x[l]]);return J}function q(tt,O,J,x){var l=arguments.length,W=l<3?O:x===null?x=Object.getOwnPropertyDescriptor(O,J):x,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(tt,O,J,x);else for(var nt=tt.length-1;nt>=0;nt--)(it=tt[nt])&&(W=(l<3?it(W):l>3?it(O,J,W):it(O,J))||W);return l>3&&W&&Object.defineProperty(O,J,W),W}function G(tt,O){return function(J,x){O(J,x,tt)}}function z(tt,O){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(tt,O)}function $(tt,O,J,x){function l(W){return W instanceof J?W:new J(function(it){it(W)})}return new(J||(J=Promise))(function(W,it){function nt(V){try{y(x.next(V))}catch(yt){it(yt)}}function ht(V){try{y(x.throw(V))}catch(yt){it(yt)}}function y(V){V.done?W(V.value):l(V.value).then(nt,ht)}y((x=x.apply(tt,O||[])).next())})}function F(tt,O){var J={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},x,l,W,it;return it={next:nt(0),throw:nt(1),return:nt(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function nt(y){return function(V){return ht([y,V])}}function ht(y){if(x)throw new TypeError("Generator is already executing.");for(;J;)try{if(x=1,l&&(W=y[0]&2?l.return:y[0]?l.throw||((W=l.return)&&W.call(l),0):l.next)&&!(W=W.call(l,y[1])).done)return W;switch(l=0,W&&(y=[y[0]&2,W.value]),y[0]){case 0:case 1:W=y;break;case 4:return J.label++,{value:y[1],done:!1};case 5:J.label++,l=y[1],y=[0];continue;case 7:y=J.ops.pop(),J.trys.pop();continue;default:if(W=J.trys,!(W=W.length>0&&W[W.length-1])&&(y[0]===6||y[0]===2)){J=0;continue}if(y[0]===3&&(!W||y[1]>W[0]&&y[1]<W[3])){J.label=y[1];break}if(y[0]===6&&J.label<W[1]){J.label=W[1],W=y;break}if(W&&J.label<W[2]){J.label=W[2],J.ops.push(y);break}W[2]&&J.ops.pop(),J.trys.pop();continue}y=O.call(tt,J)}catch(V){y=[6,V],l=0}finally{x=W=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function X(tt,O,J,x){x===void 0&&(x=J),tt[x]=O[J]}function D(tt,O){for(var J in tt)J!=="default"&&!O.hasOwnProperty(J)&&(O[J]=tt[J])}function w(tt){var O=typeof Symbol=="function"&&Symbol.iterator,J=O&&tt[O],x=0;if(J)return J.call(tt);if(tt&&typeof tt.length=="number")return{next:function(){return tt&&x>=tt.length&&(tt=void 0),{value:tt&&tt[x++],done:!tt}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(tt,O){var J=typeof Symbol=="function"&&tt[Symbol.iterator];if(!J)return tt;var x=J.call(tt),l,W=[],it;try{for(;(O===void 0||O-- >0)&&!(l=x.next()).done;)W.push(l.value)}catch(nt){it={error:nt}}finally{try{l&&!l.done&&(J=x.return)&&J.call(x)}finally{if(it)throw it.error}}return W}function I(){for(var tt=[],O=0;O<arguments.length;O++)tt=tt.concat(d(arguments[O]));return tt}function k(){for(var tt=0,O=0,J=arguments.length;O<J;O++)tt+=arguments[O].length;for(var x=Array(tt),l=0,O=0;O<J;O++)for(var W=arguments[O],it=0,nt=W.length;it<nt;it++,l++)x[l]=W[it];return x}function E(tt){return this instanceof E?(this.v=tt,this):new E(tt)}function P(tt,O,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x=J.apply(tt,O||[]),l,W=[];return l={},it("next"),it("throw"),it("return"),l[Symbol.asyncIterator]=function(){return this},l;function it(Mt){x[Mt]&&(l[Mt]=function(Gt){return new Promise(function(ee,re){W.push([Mt,Gt,ee,re])>1||nt(Mt,Gt)})})}function nt(Mt,Gt){try{ht(x[Mt](Gt))}catch(ee){yt(W[0][3],ee)}}function ht(Mt){Mt.value instanceof E?Promise.resolve(Mt.value.v).then(y,V):yt(W[0][2],Mt)}function y(Mt){nt("next",Mt)}function V(Mt){nt("throw",Mt)}function yt(Mt,Gt){Mt(Gt),W.shift(),W.length&&nt(W[0][0],W[0][1])}}function Y(tt){var O,J;return O={},x("next"),x("throw",function(l){throw l}),x("return"),O[Symbol.iterator]=function(){return this},O;function x(l,W){O[l]=tt[l]?function(it){return(J=!J)?{value:E(tt[l](it)),done:l==="return"}:W?W(it):it}:W}}function at(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O=tt[Symbol.asyncIterator],J;return O?O.call(tt):(tt=typeof w=="function"?w(tt):tt[Symbol.iterator](),J={},x("next"),x("throw"),x("return"),J[Symbol.asyncIterator]=function(){return this},J);function x(W){J[W]=tt[W]&&function(it){return new Promise(function(nt,ht){it=tt[W](it),l(nt,ht,it.done,it.value)})}}function l(W,it,nt,ht){Promise.resolve(ht).then(function(y){W({value:y,done:nt})},it)}}function et(tt,O){return Object.defineProperty?Object.defineProperty(tt,"raw",{value:O}):tt.raw=O,tt}function ot(tt){if(tt&&tt.__esModule)return tt;var O={};if(tt!=null)for(var J in tt)Object.hasOwnProperty.call(tt,J)&&(O[J]=tt[J]);return O.default=tt,O}function ft(tt){return tt&&tt.__esModule?tt:{default:tt}}function ct(tt,O){if(!O.has(tt))throw new TypeError("attempted to get private field on non-instance");return O.get(tt)}function bt(tt,O,J){if(!O.has(tt))throw new TypeError("attempted to set private field on non-instance");return O.set(tt,J),J}},91894:function(oe,C,S){"use strict";S.d(C,{Z:function(){return ft}});var N=S(96156),K=S(22122),Q=S(36228),Z=S.n(Q),q=S(10366),G=S(67294),z=S(53124),$=S(97647),F=S(90860),X=S(72059),D=function(ct,bt){var tt={};for(var O in ct)Object.prototype.hasOwnProperty.call(ct,O)&&bt.indexOf(O)<0&&(tt[O]=ct[O]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var J=0,O=Object.getOwnPropertySymbols(ct);J<O.length;J++)bt.indexOf(O[J])<0&&Object.prototype.propertyIsEnumerable.call(ct,O[J])&&(tt[O[J]]=ct[O[J]]);return tt},w=function(bt){var tt=bt.prefixCls,O=bt.className,J=bt.hoverable,x=J===void 0?!0:J,l=D(bt,["prefixCls","className","hoverable"]);return G.createElement(z.C,null,function(W){var it=W.getPrefixCls,nt=it("card",tt),ht=Z()("".concat(nt,"-grid"),O,(0,N.Z)({},"".concat(nt,"-grid-hoverable"),x));return G.createElement("div",(0,K.Z)({},l,{className:ht}))})},d=w,I=function(ct,bt){var tt={};for(var O in ct)Object.prototype.hasOwnProperty.call(ct,O)&&bt.indexOf(O)<0&&(tt[O]=ct[O]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var J=0,O=Object.getOwnPropertySymbols(ct);J<O.length;J++)bt.indexOf(O[J])<0&&Object.prototype.propertyIsEnumerable.call(ct,O[J])&&(tt[O[J]]=ct[O[J]]);return tt};function k(ct){var bt=ct.map(function(tt,O){return G.createElement("li",{style:{width:"".concat(100/ct.length,"%")},key:"action-".concat(O)},G.createElement("span",null,tt))});return bt}var E=G.forwardRef(function(ct,bt){var tt,O,J=G.useContext(z.E_),x=J.getPrefixCls,l=J.direction,W=G.useContext($.Z),it=function(Be){var Ce;(Ce=ct.onTabChange)===null||Ce===void 0||Ce.call(ct,Be)},nt=function(){var Be;return G.Children.forEach(ct.children,function(Ce){Ce&&Ce.type&&Ce.type===d&&(Be=!0)}),Be},ht=ct.prefixCls,y=ct.className,V=ct.extra,yt=ct.headStyle,Mt=yt===void 0?{}:yt,Gt=ct.bodyStyle,ee=Gt===void 0?{}:Gt,re=ct.title,ce=ct.loading,pe=ct.bordered,ge=pe===void 0?!0:pe,me=ct.size,xe=ct.type,de=ct.cover,kt=ct.actions,jt=ct.tabList,Jt=ct.children,At=ct.activeTabKey,Pt=ct.defaultActiveTabKey,Xt=ct.tabBarExtraContent,se=ct.hoverable,dt=ct.tabProps,Ct=dt===void 0?{}:dt,It=I(ct,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),Bt=x("card",ht),Wt=G.createElement(F.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1},Jt),$t=At!==void 0,Zt=(0,K.Z)((0,K.Z)({},Ct),(tt={},(0,N.Z)(tt,$t?"activeKey":"defaultActiveKey",$t?At:Pt),(0,N.Z)(tt,"tabBarExtraContent",Xt),tt)),ie,zt=jt&&jt.length?G.createElement(X.Z,(0,K.Z)({size:"large"},Zt,{className:"".concat(Bt,"-head-tabs"),onChange:it,items:jt.map(function(Ee){var Be;return{label:Ee.tab,key:Ee.key,disabled:(Be=Ee.disabled)!==null&&Be!==void 0?Be:!1}})})):null;(re||V||zt)&&(ie=G.createElement("div",{className:"".concat(Bt,"-head"),style:Mt},G.createElement("div",{className:"".concat(Bt,"-head-wrapper")},re&&G.createElement("div",{className:"".concat(Bt,"-head-title")},re),V&&G.createElement("div",{className:"".concat(Bt,"-extra")},V)),zt));var Kt=de?G.createElement("div",{className:"".concat(Bt,"-cover")},de):null,ne=G.createElement("div",{className:"".concat(Bt,"-body"),style:ee},ce?Wt:Jt),Te=kt&&kt.length?G.createElement("ul",{className:"".concat(Bt,"-actions")},k(kt)):null,ke=(0,q.Z)(It,["onTabChange"]),Se=me||W,Ie=Z()(Bt,(O={},(0,N.Z)(O,"".concat(Bt,"-loading"),ce),(0,N.Z)(O,"".concat(Bt,"-bordered"),ge),(0,N.Z)(O,"".concat(Bt,"-hoverable"),se),(0,N.Z)(O,"".concat(Bt,"-contain-grid"),nt()),(0,N.Z)(O,"".concat(Bt,"-contain-tabs"),jt&&jt.length),(0,N.Z)(O,"".concat(Bt,"-").concat(Se),Se),(0,N.Z)(O,"".concat(Bt,"-type-").concat(xe),!!xe),(0,N.Z)(O,"".concat(Bt,"-rtl"),l==="rtl"),O),y);return G.createElement("div",(0,K.Z)({ref:bt},ke,{className:Ie}),ie,Kt,ne,Te)}),P=E,Y=function(ct,bt){var tt={};for(var O in ct)Object.prototype.hasOwnProperty.call(ct,O)&&bt.indexOf(O)<0&&(tt[O]=ct[O]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var J=0,O=Object.getOwnPropertySymbols(ct);J<O.length;J++)bt.indexOf(O[J])<0&&Object.prototype.propertyIsEnumerable.call(ct,O[J])&&(tt[O[J]]=ct[O[J]]);return tt},at=function(bt){return G.createElement(z.C,null,function(tt){var O=tt.getPrefixCls,J=bt.prefixCls,x=bt.className,l=bt.avatar,W=bt.title,it=bt.description,nt=Y(bt,["prefixCls","className","avatar","title","description"]),ht=O("card",J),y=Z()("".concat(ht,"-meta"),x),V=l?G.createElement("div",{className:"".concat(ht,"-meta-avatar")},l):null,yt=W?G.createElement("div",{className:"".concat(ht,"-meta-title")},W):null,Mt=it?G.createElement("div",{className:"".concat(ht,"-meta-description")},it):null,Gt=yt||Mt?G.createElement("div",{className:"".concat(ht,"-meta-detail")},yt,Mt):null;return G.createElement("div",(0,K.Z)({},nt,{className:y}),V,Gt)})},et=at,ot=P;ot.Grid=d,ot.Meta=et;var ft=ot},89032:function(oe,C,S){"use strict";var N=S(38663),K=S.n(N),Q=S(6999)},2650:function(oe,C,S){"use strict";S.d(C,{ZP:function(){return et},B8:function(){return bt}});function N(y,V,yt){y.prototype=V.prototype=yt,yt.constructor=y}function K(y,V){var yt=Object.create(y.prototype);for(var Mt in V)yt[Mt]=V[Mt];return yt}function Q(){}var Z=.7,q=1/Z,G="\\s*([+-]?\\d+)\\s*",z="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F=/^#([0-9a-f]{3,8})$/,X=new RegExp("^rgb\\("+[G,G,G]+"\\)$"),D=new RegExp("^rgb\\("+[$,$,$]+"\\)$"),w=new RegExp("^rgba\\("+[G,G,G,z]+"\\)$"),d=new RegExp("^rgba\\("+[$,$,$,z]+"\\)$"),I=new RegExp("^hsl\\("+[z,$,$]+"\\)$"),k=new RegExp("^hsla\\("+[z,$,$,z]+"\\)$"),E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};N(Q,et,{copy:function(y){return Object.assign(new this.constructor,this,y)},displayable:function(){return this.rgb().displayable()},hex:P,formatHex:P,formatHsl:Y,formatRgb:at,toString:at});function P(){return this.rgb().formatHex()}function Y(){return W(this).formatHsl()}function at(){return this.rgb().formatRgb()}function et(y){var V,yt;return y=(y+"").trim().toLowerCase(),(V=F.exec(y))?(yt=V[1].length,V=parseInt(V[1],16),yt===6?ot(V):yt===3?new tt(V>>8&15|V>>4&240,V>>4&15|V&240,(V&15)<<4|V&15,1):yt===8?ft(V>>24&255,V>>16&255,V>>8&255,(V&255)/255):yt===4?ft(V>>12&15|V>>8&240,V>>8&15|V>>4&240,V>>4&15|V&240,((V&15)<<4|V&15)/255):null):(V=X.exec(y))?new tt(V[1],V[2],V[3],1):(V=D.exec(y))?new tt(V[1]*255/100,V[2]*255/100,V[3]*255/100,1):(V=w.exec(y))?ft(V[1],V[2],V[3],V[4]):(V=d.exec(y))?ft(V[1]*255/100,V[2]*255/100,V[3]*255/100,V[4]):(V=I.exec(y))?l(V[1],V[2]/100,V[3]/100,1):(V=k.exec(y))?l(V[1],V[2]/100,V[3]/100,V[4]):E.hasOwnProperty(y)?ot(E[y]):y==="transparent"?new tt(NaN,NaN,NaN,0):null}function ot(y){return new tt(y>>16&255,y>>8&255,y&255,1)}function ft(y,V,yt,Mt){return Mt<=0&&(y=V=yt=NaN),new tt(y,V,yt,Mt)}function ct(y){return y instanceof Q||(y=et(y)),y?(y=y.rgb(),new tt(y.r,y.g,y.b,y.opacity)):new tt}function bt(y,V,yt,Mt){return arguments.length===1?ct(y):new tt(y,V,yt,Mt==null?1:Mt)}function tt(y,V,yt,Mt){this.r=+y,this.g=+V,this.b=+yt,this.opacity=+Mt}N(tt,bt,K(Q,{brighter:function(y){return y=y==null?q:Math.pow(q,y),new tt(this.r*y,this.g*y,this.b*y,this.opacity)},darker:function(y){return y=y==null?Z:Math.pow(Z,y),new tt(this.r*y,this.g*y,this.b*y,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O,formatHex:O,formatRgb:J,toString:J}));function O(){return"#"+x(this.r)+x(this.g)+x(this.b)}function J(){var y=this.opacity;return y=isNaN(y)?1:Math.max(0,Math.min(1,y)),(y===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(y===1?")":", "+y+")")}function x(y){return y=Math.max(0,Math.min(255,Math.round(y)||0)),(y<16?"0":"")+y.toString(16)}function l(y,V,yt,Mt){return Mt<=0?y=V=yt=NaN:yt<=0||yt>=1?y=V=NaN:V<=0&&(y=NaN),new nt(y,V,yt,Mt)}function W(y){if(y instanceof nt)return new nt(y.h,y.s,y.l,y.opacity);if(y instanceof Q||(y=et(y)),!y)return new nt;if(y instanceof nt)return y;y=y.rgb();var V=y.r/255,yt=y.g/255,Mt=y.b/255,Gt=Math.min(V,yt,Mt),ee=Math.max(V,yt,Mt),re=NaN,ce=ee-Gt,pe=(ee+Gt)/2;return ce?(V===ee?re=(yt-Mt)/ce+(yt<Mt)*6:yt===ee?re=(Mt-V)/ce+2:re=(V-yt)/ce+4,ce/=pe<.5?ee+Gt:2-ee-Gt,re*=60):ce=pe>0&&pe<1?0:re,new nt(re,ce,pe,y.opacity)}function it(y,V,yt,Mt){return arguments.length===1?W(y):new nt(y,V,yt,Mt==null?1:Mt)}function nt(y,V,yt,Mt){this.h=+y,this.s=+V,this.l=+yt,this.opacity=+Mt}N(nt,it,K(Q,{brighter:function(y){return y=y==null?q:Math.pow(q,y),new nt(this.h,this.s,this.l*y,this.opacity)},darker:function(y){return y=y==null?Z:Math.pow(Z,y),new nt(this.h,this.s,this.l*y,this.opacity)},rgb:function(){var y=this.h%360+(this.h<0)*360,V=isNaN(y)||isNaN(this.s)?0:this.s,yt=this.l,Mt=yt+(yt<.5?yt:1-yt)*V,Gt=2*yt-Mt;return new tt(ht(y>=240?y-240:y+120,Gt,Mt),ht(y,Gt,Mt),ht(y<120?y+240:y-120,Gt,Mt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var y=this.opacity;return y=isNaN(y)?1:Math.max(0,Math.min(1,y)),(y===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(y===1?")":", "+y+")")}}));function ht(y,V,yt){return(y<60?V+(yt-V)*y/60:y<180?yt:y<240?V+(yt-V)*(240-y)/60:V)*255}},68716:function(oe,C,S){"use strict";S.d(C,{yD:function(){return N},_e:function(){return K},tw:function(){return Q}});function N(Z){return Z*Z*Z}function K(Z){return--Z*Z*Z+1}function Q(Z){return((Z*=2)<=1?Z*Z*Z:(Z-=2)*Z*Z+2)/2}},88122:function(oe,C,S){"use strict";S.d(C,{Z:function(){return Q},M:function(){return Z}});var N=S(21775),K=S(67896);function Q(q,G){return((0,K.v)(G)?K.Z:Z)(q,G)}function Z(q,G){var z=G?G.length:0,$=q?Math.min(z,q.length):0,F=new Array($),X=new Array(z),D;for(D=0;D<$;++D)F[D]=(0,N.Z)(q[D],G[D]);for(;D<z;++D)X[D]=G[D];return function(w){for(D=0;D<$;++D)X[D]=F[D](w);return X}}},55302:function(oe,C,S){"use strict";S.d(C,{Z:function(){return N}});function N(K){return function(){return K}}},73626:function(oe,C,S){"use strict";S.d(C,{Z:function(){return N}});function N(K,Q){return K=+K,Q=+Q,function(Z){return K*(1-Z)+Q*Z}}},67896:function(oe,C,S){"use strict";S.d(C,{Z:function(){return N},v:function(){return K}});function N(Q,Z){Z||(Z=[]);var q=Q?Math.min(Z.length,Q.length):0,G=Z.slice(),z;return function($){for(z=0;z<q;++z)G[z]=Q[z]*(1-$)+Z[z]*$;return G}}function K(Q){return ArrayBuffer.isView(Q)&&!(Q instanceof DataView)}},87765:function(oe,C,S){"use strict";S.d(C,{ZP:function(){return D},hD:function(){return d}});var N=S(2650);function K(k,E,P,Y,at){var et=k*k,ot=et*k;return((1-3*k+3*et-ot)*E+(4-6*et+3*ot)*P+(1+3*k+3*et-3*ot)*Y+ot*at)/6}function Q(k){var E=k.length-1;return function(P){var Y=P<=0?P=0:P>=1?(P=1,E-1):Math.floor(P*E),at=k[Y],et=k[Y+1],ot=Y>0?k[Y-1]:2*at-et,ft=Y<E-1?k[Y+2]:2*et-at;return K((P-Y/E)*E,ot,at,et,ft)}}function Z(k){var E=k.length;return function(P){var Y=Math.floor(((P%=1)<0?++P:P)*E),at=k[(Y+E-1)%E],et=k[Y%E],ot=k[(Y+1)%E],ft=k[(Y+2)%E];return K((P-Y/E)*E,at,et,ot,ft)}}var q=S(55302);function G(k,E){return function(P){return k+P*E}}function z(k,E,P){return k=Math.pow(k,P),E=Math.pow(E,P)-k,P=1/P,function(Y){return Math.pow(k+Y*E,P)}}function $(k,E){var P=E-k;return P?G(k,P>180||P<-180?P-360*Math.round(P/360):P):constant(isNaN(k)?E:k)}function F(k){return(k=+k)==1?X:function(E,P){return P-E?z(E,P,k):(0,q.Z)(isNaN(E)?P:E)}}function X(k,E){var P=E-k;return P?G(k,P):(0,q.Z)(isNaN(k)?E:k)}var D=function k(E){var P=F(E);function Y(at,et){var ot=P((at=(0,N.B8)(at)).r,(et=(0,N.B8)(et)).r),ft=P(at.g,et.g),ct=P(at.b,et.b),bt=X(at.opacity,et.opacity);return function(tt){return at.r=ot(tt),at.g=ft(tt),at.b=ct(tt),at.opacity=bt(tt),at+""}}return Y.gamma=k,Y}(1);function w(k){return function(E){var P=E.length,Y=new Array(P),at=new Array(P),et=new Array(P),ot,ft;for(ot=0;ot<P;++ot)ft=(0,N.B8)(E[ot]),Y[ot]=ft.r||0,at[ot]=ft.g||0,et[ot]=ft.b||0;return Y=k(Y),at=k(at),et=k(et),ft.opacity=1,function(ct){return ft.r=Y(ct),ft.g=at(ct),ft.b=et(ct),ft+""}}}var d=w(Q),I=w(Z)},21775:function(oe,C,S){"use strict";S.d(C,{Z:function(){return I}});var N=S(2650),K=S(87765),Q=S(88122);function Z(k,E){var P=new Date;return k=+k,E=+E,function(Y){return P.setTime(k*(1-Y)+E*Y),P}}var q=S(73626);function G(k,E){var P={},Y={},at;(k===null||typeof k!="object")&&(k={}),(E===null||typeof E!="object")&&(E={});for(at in E)at in k?P[at]=I(k[at],E[at]):Y[at]=E[at];return function(et){for(at in P)Y[at]=P[at](et);return Y}}var z=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$=new RegExp(z.source,"g");function F(k){return function(){return k}}function X(k){return function(E){return k(E)+""}}function D(k,E){var P=z.lastIndex=$.lastIndex=0,Y,at,et,ot=-1,ft=[],ct=[];for(k=k+"",E=E+"";(Y=z.exec(k))&&(at=$.exec(E));)(et=at.index)>P&&(et=E.slice(P,et),ft[ot]?ft[ot]+=et:ft[++ot]=et),(Y=Y[0])===(at=at[0])?ft[ot]?ft[ot]+=at:ft[++ot]=at:(ft[++ot]=null,ct.push({i:ot,x:(0,q.Z)(Y,at)})),P=$.lastIndex;return P<E.length&&(et=E.slice(P),ft[ot]?ft[ot]+=et:ft[++ot]=et),ft.length<2?ct[0]?X(ct[0].x):F(E):(E=ct.length,function(bt){for(var tt=0,O;tt<E;++tt)ft[(O=ct[tt]).i]=O.x(bt);return ft.join("")})}var w=S(55302),d=S(67896);function I(k,E){var P=typeof E,Y;return E==null||P==="boolean"?(0,w.Z)(E):(P==="number"?q.Z:P==="string"?(Y=(0,N.ZP)(E))?(E=Y,K.ZP):D:E instanceof N.ZP?K.ZP:E instanceof Date?Z:(0,d.v)(E)?d.Z:Array.isArray(E)?Q.M:typeof E.valueOf!="function"&&typeof E.toString!="function"||isNaN(E)?G:q.Z)(k,E)}},56645:function(oe,C){(function(S,N){N(C)})(this,function(S){"use strict";function N(J,x){return K(J)||Q(J,x)||Z()}function K(J){if(Array.isArray(J))return J}function Q(J,x){var l=[],W=!0,it=!1,nt=void 0;try{for(var ht=J[Symbol.iterator](),y;!(W=(y=ht.next()).done)&&(l.push(y.value),!(x&&l.length===x));W=!0);}catch(V){it=!0,nt=V}finally{try{!W&&ht.return!=null&&ht.return()}finally{if(it)throw nt}}return l}function Z(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function q(J,x,l,W){J=J.filter(function(ce,pe){var ge=x(ce,pe),me=l(ce,pe);return ge!=null&&isFinite(ge)&&me!=null&&isFinite(me)}),W&&J.sort(function(ce,pe){return x(ce)-x(pe)});for(var it=J.length,nt=new Float64Array(it),ht=new Float64Array(it),y=0,V=0,yt,Mt,Gt,ee=0;ee<it;)Gt=J[ee],nt[ee]=yt=+x(Gt,ee,J),ht[ee]=Mt=+l(Gt,ee,J),++ee,y+=(yt-y)/ee,V+=(Mt-V)/ee;for(var re=0;re<it;++re)nt[re]-=y,ht[re]-=V;return[nt,ht,y,V]}function G(J,x,l,W){for(var it=0,nt=0,ht=J.length;nt<ht;nt++){var y=J[nt],V=+x(y,nt,J),yt=+l(y,nt,J);V!=null&&isFinite(V)&&yt!=null&&isFinite(yt)&&W(V,yt,it++)}}function z(J,x,l,W,it){var nt=0,ht=0;return G(J,x,l,function(y,V){var yt=V-it(y),Mt=V-W;nt+=yt*yt,ht+=Mt*Mt}),1-nt/ht}function $(J){return Math.atan2(J[1][1]-J[0][1],J[1][0]-J[0][0])*180/Math.PI}function F(J){return[(J[0][0]+J[1][0])/2,(J[0][1]+J[1][1])/2]}function X(J,x,l){for(var W=Math.log(x-J)*Math.LOG10E+1|0,it=1*Math.pow(10,-W/2-1),nt=1e4,ht=[V(J),V(x)],y=0;yt(ht)&&y<nt;);return ht;function V(Mt){return[Mt,l(Mt)]}function yt(Mt){y++;for(var Gt=Mt.length,ee=!1,re=0;re<Gt-1;re++){var ce=Mt[re],pe=Mt[re+1],ge=F([ce,pe]),me=V(ge[0]),xe=$([ce,ge]),de=$([ce,me]),kt=Math.abs(xe-de);kt>it&&(Mt.splice(re+1,0,me),ee=!0)}return ee}}function D(J,x,l,W){var it=W-J*J,nt=Math.abs(it)<1e-24?0:(l-J*x)/it,ht=x-nt*J;return[ht,nt]}function w(){var J=function(nt){return nt[0]},x=function(nt){return nt[1]},l;function W(it){var nt=0,ht=0,y=0,V=0,yt=0,Mt=0,Gt=l?+l[0]:Infinity,ee=l?+l[1]:-Infinity;G(it,J,x,function(de,kt){var jt=Math.log(kt),Jt=de*kt;++nt,ht+=(kt-ht)/nt,V+=(Jt-V)/nt,Mt+=(de*Jt-Mt)/nt,y+=(kt*jt-y)/nt,yt+=(Jt*jt-yt)/nt,l||(de<Gt&&(Gt=de),de>ee&&(ee=de))});var re=D(V/ht,y/ht,yt/ht,Mt/ht),ce=N(re,2),pe=ce[0],ge=ce[1];pe=Math.exp(pe);var me=function(kt){return pe*Math.exp(ge*kt)},xe=X(Gt,ee,me);return xe.a=pe,xe.b=ge,xe.predict=me,xe.rSquared=z(it,J,x,ht,me),xe}return W.domain=function(it){return arguments.length?(l=it,W):l},W.x=function(it){return arguments.length?(J=it,W):J},W.y=function(it){return arguments.length?(x=it,W):x},W}function d(){var J=function(nt){return nt[0]},x=function(nt){return nt[1]},l;function W(it){var nt=0,ht=0,y=0,V=0,yt=0,Mt=l?+l[0]:Infinity,Gt=l?+l[1]:-Infinity;G(it,J,x,function(xe,de){++nt,ht+=(xe-ht)/nt,y+=(de-y)/nt,V+=(xe*de-V)/nt,yt+=(xe*xe-yt)/nt,l||(xe<Mt&&(Mt=xe),xe>Gt&&(Gt=xe))});var ee=D(ht,y,V,yt),re=N(ee,2),ce=re[0],pe=re[1],ge=function(de){return pe*de+ce},me=[[Mt,ge(Mt)],[Gt,ge(Gt)]];return me.a=pe,me.b=ce,me.predict=ge,me.rSquared=z(it,J,x,y,ge),me}return W.domain=function(it){return arguments.length?(l=it,W):l},W.x=function(it){return arguments.length?(J=it,W):J},W.y=function(it){return arguments.length?(x=it,W):x},W}function I(J){J.sort(function(l,W){return l-W});var x=J.length/2;return x%1==0?(J[x-1]+J[x])/2:J[Math.floor(x)]}var k=2,E=1e-12;function P(){var J=function(nt){return nt[0]},x=function(nt){return nt[1]},l=.3;function W(it){for(var nt=q(it,J,x,!0),ht=N(nt,4),y=ht[0],V=ht[1],yt=ht[2],Mt=ht[3],Gt=y.length,ee=Math.max(2,~~(l*Gt)),re=new Float64Array(Gt),ce=new Float64Array(Gt),pe=new Float64Array(Gt).fill(1),ge=-1;++ge<=k;){for(var me=[0,ee-1],xe=0;xe<Gt;++xe){for(var de=y[xe],kt=me[0],jt=me[1],Jt=de-y[kt]>y[jt]-de?kt:jt,At=0,Pt=0,Xt=0,se=0,dt=0,Ct=1/Math.abs(y[Jt]-de||1),It=kt;It<=jt;++It){var Bt=y[It],Wt=V[It],$t=Y(Math.abs(de-Bt)*Ct)*pe[It],Zt=Bt*$t;At+=$t,Pt+=Zt,Xt+=Wt*$t,se+=Wt*Zt,dt+=Bt*Zt}var ie=D(Pt/At,Xt/At,se/At,dt/At),zt=N(ie,2),Kt=zt[0],ne=zt[1];re[xe]=Kt+ne*de,ce[xe]=Math.abs(V[xe]-re[xe]),at(y,xe+1,me)}if(ge===k)break;var Te=I(ce);if(Math.abs(Te)<E)break;for(var ke=0,Se,Ie;ke<Gt;++ke)Se=ce[ke]/(6*Te),pe[ke]=Se>=1?E:(Ie=1-Se*Se)*Ie}return et(y,re,yt,Mt)}return W.bandwidth=function(it){return arguments.length?(l=it,W):l},W.x=function(it){return arguments.length?(J=it,W):J},W.y=function(it){return arguments.length?(x=it,W):x},W}function Y(J){return(J=1-J*J*J)*J*J}function at(J,x,l){var W=J[x],it=l[0],nt=l[1]+1;if(!(nt>=J.length))for(;x>it&&J[nt]-W<=W-J[it];)l[0]=++it,l[1]=nt,++nt}function et(J,x,l,W){for(var it=J.length,nt=[],ht=0,y=0,V=[],yt;ht<it;++ht)yt=J[ht]+l,V[0]===yt?V[1]+=(x[ht]-V[1])/++y:(y=0,V[1]+=W,V=[yt,x[ht]],nt.push(V));return V[1]+=W,nt}function ot(){var J=function(ht){return ht[0]},x=function(ht){return ht[1]},l=Math.E,W;function it(nt){var ht=0,y=0,V=0,yt=0,Mt=0,Gt=W?+W[0]:Infinity,ee=W?+W[1]:-Infinity,re=Math.log(l);G(nt,J,x,function(kt,jt){var Jt=Math.log(kt)/re;++ht,y+=(Jt-y)/ht,V+=(jt-V)/ht,yt+=(Jt*jt-yt)/ht,Mt+=(Jt*Jt-Mt)/ht,W||(kt<Gt&&(Gt=kt),kt>ee&&(ee=kt))});var ce=D(y,V,yt,Mt),pe=N(ce,2),ge=pe[0],me=pe[1],xe=function(jt){return me*Math.log(jt)/re+ge},de=X(Gt,ee,xe);return de.a=me,de.b=ge,de.predict=xe,de.rSquared=z(nt,J,x,V,xe),de}return it.domain=function(nt){return arguments.length?(W=nt,it):W},it.x=function(nt){return arguments.length?(J=nt,it):J},it.y=function(nt){return arguments.length?(x=nt,it):x},it.base=function(nt){return arguments.length?(l=nt,it):l},it}function ft(){var J=function(nt){return nt[0]},x=function(nt){return nt[1]},l;function W(it){var nt=q(it,J,x),ht=N(nt,4),y=ht[0],V=ht[1],yt=ht[2],Mt=ht[3],Gt=y.length,ee=0,re=0,ce=0,pe=0,ge=0,me,xe,de,kt;for(me=0;me<Gt;)xe=y[me],de=V[me++],kt=xe*xe,ee+=(kt-ee)/me,re+=(kt*xe-re)/me,ce+=(kt*kt-ce)/me,pe+=(xe*de-pe)/me,ge+=(kt*de-ge)/me;var jt=0,Jt=0,At=l?+l[0]:Infinity,Pt=l?+l[1]:-Infinity;G(it,J,x,function($t,Zt){Jt++,jt+=(Zt-jt)/Jt,l||($t<At&&(At=$t),$t>Pt&&(Pt=$t))});var Xt=ce-ee*ee,se=ee*Xt-re*re,dt=(ge*ee-pe*re)/se,Ct=(pe*Xt-ge*re)/se,It=-dt*ee,Bt=function(Zt){return Zt=Zt-yt,dt*Zt*Zt+Ct*Zt+It+Mt},Wt=X(At,Pt,Bt);return Wt.a=dt,Wt.b=Ct-2*dt*yt,Wt.c=It-Ct*yt+dt*yt*yt+Mt,Wt.predict=Bt,Wt.rSquared=z(it,J,x,jt,Bt),Wt}return W.domain=function(it){return arguments.length?(l=it,W):l},W.x=function(it){return arguments.length?(J=it,W):J},W.y=function(it){return arguments.length?(x=it,W):x},W}function ct(){var J=function(ht){return ht[0]},x=function(ht){return ht[1]},l=3,W;function it(nt){if(l===1){var ht=d().x(J).y(x).domain(W)(nt);return ht.coefficients=[ht.b,ht.a],delete ht.a,delete ht.b,ht}if(l===2){var y=ft().x(J).y(x).domain(W)(nt);return y.coefficients=[y.c,y.b,y.a],delete y.a,delete y.b,delete y.c,y}var V=q(nt,J,x),yt=N(V,4),Mt=yt[0],Gt=yt[1],ee=yt[2],re=yt[3],ce=Mt.length,pe=[],ge=[],me=l+1,xe=0,de=0,kt=W?+W[0]:Infinity,jt=W?+W[1]:-Infinity;G(nt,J,x,function(Bt,Wt){++de,xe+=(Wt-xe)/de,W||(Bt<kt&&(kt=Bt),Bt>jt&&(jt=Bt))});var Jt,At,Pt,Xt,se;for(Jt=0;Jt<me;++Jt){for(Pt=0,Xt=0;Pt<ce;++Pt)Xt+=Math.pow(Mt[Pt],Jt)*Gt[Pt];for(pe.push(Xt),se=new Float64Array(me),At=0;At<me;++At){for(Pt=0,Xt=0;Pt<ce;++Pt)Xt+=Math.pow(Mt[Pt],Jt+At);se[At]=Xt}ge.push(se)}ge.push(pe);var dt=tt(ge),Ct=function(Wt){Wt-=ee;var $t=re+dt[0]+dt[1]*Wt+dt[2]*Wt*Wt;for(Jt=3;Jt<me;++Jt)$t+=dt[Jt]*Math.pow(Wt,Jt);return $t},It=X(kt,jt,Ct);return It.coefficients=bt(me,dt,-ee,re),It.predict=Ct,It.rSquared=z(nt,J,x,xe,Ct),It}return it.domain=function(nt){return arguments.length?(W=nt,it):W},it.x=function(nt){return arguments.length?(J=nt,it):J},it.y=function(nt){return arguments.length?(x=nt,it):x},it.order=function(nt){return arguments.length?(l=nt,it):l},it}function bt(J,x,l,W){var it=Array(J),nt,ht,y,V;for(nt=0;nt<J;++nt)it[nt]=0;for(nt=J-1;nt>=0;--nt)for(y=x[nt],V=1,it[nt]+=y,ht=1;ht<=nt;++ht)V*=(nt+1-ht)/ht,it[nt-ht]+=y*Math.pow(l,ht)*V;return it[0]+=W,it}function tt(J){var x=J.length-1,l=[],W,it,nt,ht,y;for(W=0;W<x;++W){for(ht=W,it=W+1;it<x;++it)Math.abs(J[W][it])>Math.abs(J[W][ht])&&(ht=it);for(nt=W;nt<x+1;++nt)y=J[nt][W],J[nt][W]=J[nt][ht],J[nt][ht]=y;for(it=W+1;it<x;++it)for(nt=x;nt>=W;nt--)J[nt][it]-=J[nt][W]*J[W][it]/J[W][W]}for(it=x-1;it>=0;--it){for(y=0,nt=it+1;nt<x;++nt)y+=J[nt][it]*l[nt];l[it]=(J[x][it]-y)/J[it][it]}return l}function O(){var J=function(nt){return nt[0]},x=function(nt){return nt[1]},l;function W(it){var nt=0,ht=0,y=0,V=0,yt=0,Mt=0,Gt=l?+l[0]:Infinity,ee=l?+l[1]:-Infinity;G(it,J,x,function(de,kt){var jt=Math.log(de),Jt=Math.log(kt);++nt,ht+=(jt-ht)/nt,y+=(Jt-y)/nt,V+=(jt*Jt-V)/nt,yt+=(jt*jt-yt)/nt,Mt+=(kt-Mt)/nt,l||(de<Gt&&(Gt=de),de>ee&&(ee=de))});var re=D(ht,y,V,yt),ce=N(re,2),pe=ce[0],ge=ce[1];pe=Math.exp(pe);var me=function(kt){return pe*Math.pow(kt,ge)},xe=X(Gt,ee,me);return xe.a=pe,xe.b=ge,xe.predict=me,xe.rSquared=z(it,J,x,Mt,me),xe}return W.domain=function(it){return arguments.length?(l=it,W):l},W.x=function(it){return arguments.length?(J=it,W):J},W.y=function(it){return arguments.length?(x=it,W):x},W}S.regressionExp=w,S.regressionLinear=d,S.regressionLoess=P,S.regressionLog=ot,S.regressionPoly=ct,S.regressionPow=O,S.regressionQuad=ft,Object.defineProperty(S,"__esModule",{value:!0})})},82701:function(oe,C,S){"use strict";var N=S(34155),K=this&&this.__spreadArrays||function(){for(var E=0,P=0,Y=arguments.length;P<Y;P++)E+=arguments[P].length;for(var at=Array(E),et=0,P=0;P<Y;P++)for(var ot=arguments[P],ft=0,ct=ot.length;ft<ct;ft++,et++)at[et]=ot[ft];return at};Object.defineProperty(C,"__esModule",{value:!0});var Q=function(){function E(P,Y,at){this.name=P,this.version=Y,this.os=at}return E}();C.BrowserInfo=Q;var Z=function(){function E(P){this.version=P,this.name="node",this.os=N.platform}return E}();C.NodeInfo=Z;var q=function(){function E(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return E}();C.BotInfo=q;var G=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,z=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,$=3,F=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",G]],X=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",z]];function D(E){return E?w(E):typeof navigator!="undefined"?w(navigator.userAgent):I()}C.detect=D;function w(E){var P=E!==""&&F.reduce(function(ot,ft){var ct=ft[0],bt=ft[1];if(ot)return ot;var tt=bt.exec(E);return!!tt&&[ct,tt]},!1);if(!P)return null;var Y=P[0],at=P[1];if(Y==="searchbot")return new q;var et=at[1]&&at[1].split(/[._]/).slice(0,3);return et?et.length<$&&(et=K(et,k($-et.length))):et=[],new Q(Y,et.join("."),d(E))}C.parseUserAgent=w;function d(E){for(var P=0,Y=X.length;P<Y;P++){var at=X[P],et=at[0],ot=at[1],ft=ot.test(E);if(ft)return et}return null}C.detectOS=d;function I(){var E=typeof N!="undefined"&&N.version;return E?new Z(N.version.slice(1)):null}C.getNodeVersion=I;function k(E){for(var P=[],Y=0;Y<E;Y++)P.push("0");return P}},19432:function(oe,C,S){"use strict";S.r(C),S.d(C,{assign:function(){return X},format:function(){return l},parse:function(){return W},defaultI18n:function(){return k},setGlobalDateI18n:function(){return P},setGlobalDateMasks:function(){return x}});var N=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,K="\\d\\d?",Q="\\d\\d",Z="\\d{3}",q="\\d{4}",G="[^\\s]+",z=/\[([^]*?)\]/gm;function $(nt,ht){for(var y=[],V=0,yt=nt.length;V<yt;V++)y.push(nt[V].substr(0,ht));return y}var F=function(nt){return function(ht,y){var V=y[nt].map(function(Mt){return Mt.toLowerCase()}),yt=V.indexOf(ht.toLowerCase());return yt>-1?yt:null}};function X(nt){for(var ht=[],y=1;y<arguments.length;y++)ht[y-1]=arguments[y];for(var V=0,yt=ht;V<yt.length;V++){var Mt=yt[V];for(var Gt in Mt)nt[Gt]=Mt[Gt]}return nt}var D=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=["January","February","March","April","May","June","July","August","September","October","November","December"],d=$(w,3),I=$(D,3),k={dayNamesShort:I,dayNames:D,monthNamesShort:d,monthNames:w,amPm:["am","pm"],DoFn:function(nt){return nt+["th","st","nd","rd"][nt%10>3?0:(nt-nt%10!=10?1:0)*nt%10]}},E=X({},k),P=function(nt){return E=X(E,nt)},Y=function(nt){return nt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},at=function(nt,ht){for(ht===void 0&&(ht=2),nt=String(nt);nt.length<ht;)nt="0"+nt;return nt},et={D:function(nt){return String(nt.getDate())},DD:function(nt){return at(nt.getDate())},Do:function(nt,ht){return ht.DoFn(nt.getDate())},d:function(nt){return String(nt.getDay())},dd:function(nt){return at(nt.getDay())},ddd:function(nt,ht){return ht.dayNamesShort[nt.getDay()]},dddd:function(nt,ht){return ht.dayNames[nt.getDay()]},M:function(nt){return String(nt.getMonth()+1)},MM:function(nt){return at(nt.getMonth()+1)},MMM:function(nt,ht){return ht.monthNamesShort[nt.getMonth()]},MMMM:function(nt,ht){return ht.monthNames[nt.getMonth()]},YY:function(nt){return at(String(nt.getFullYear()),4).substr(2)},YYYY:function(nt){return at(nt.getFullYear(),4)},h:function(nt){return String(nt.getHours()%12||12)},hh:function(nt){return at(nt.getHours()%12||12)},H:function(nt){return String(nt.getHours())},HH:function(nt){return at(nt.getHours())},m:function(nt){return String(nt.getMinutes())},mm:function(nt){return at(nt.getMinutes())},s:function(nt){return String(nt.getSeconds())},ss:function(nt){return at(nt.getSeconds())},S:function(nt){return String(Math.round(nt.getMilliseconds()/100))},SS:function(nt){return at(Math.round(nt.getMilliseconds()/10),2)},SSS:function(nt){return at(nt.getMilliseconds(),3)},a:function(nt,ht){return nt.getHours()<12?ht.amPm[0]:ht.amPm[1]},A:function(nt,ht){return nt.getHours()<12?ht.amPm[0].toUpperCase():ht.amPm[1].toUpperCase()},ZZ:function(nt){var ht=nt.getTimezoneOffset();return(ht>0?"-":"+")+at(Math.floor(Math.abs(ht)/60)*100+Math.abs(ht)%60,4)},Z:function(nt){var ht=nt.getTimezoneOffset();return(ht>0?"-":"+")+at(Math.floor(Math.abs(ht)/60),2)+":"+at(Math.abs(ht)%60,2)}},ot=function(nt){return+nt-1},ft=[null,K],ct=[null,G],bt=["isPm",G,function(nt,ht){var y=nt.toLowerCase();return y===ht.amPm[0]?0:y===ht.amPm[1]?1:null}],tt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(nt){var ht=(nt+"").match(/([+-]|\d\d)/gi);if(ht){var y=+ht[1]*60+parseInt(ht[2],10);return ht[0]==="+"?y:-y}return 0}],O={D:["day",K],DD:["day",Q],Do:["day",K+G,function(nt){return parseInt(nt,10)}],M:["month",K,ot],MM:["month",Q,ot],YY:["year",Q,function(nt){var ht=new Date,y=+(""+ht.getFullYear()).substr(0,2);return+(""+(+nt>68?y-1:y)+nt)}],h:["hour",K,void 0,"isPm"],hh:["hour",Q,void 0,"isPm"],H:["hour",K],HH:["hour",Q],m:["minute",K],mm:["minute",Q],s:["second",K],ss:["second",Q],YYYY:["year",q],S:["millisecond","\\d",function(nt){return+nt*100}],SS:["millisecond",Q,function(nt){return+nt*10}],SSS:["millisecond",Z],d:ft,dd:ft,ddd:ct,dddd:ct,MMM:["month",G,F("monthNamesShort")],MMMM:["month",G,F("monthNames")],a:bt,A:bt,ZZ:tt,Z:tt},J={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},x=function(nt){return X(J,nt)},l=function(nt,ht,y){if(ht===void 0&&(ht=J.default),y===void 0&&(y={}),typeof nt=="number"&&(nt=new Date(nt)),Object.prototype.toString.call(nt)!=="[object Date]"||isNaN(nt.getTime()))throw new Error("Invalid Date pass to format");ht=J[ht]||ht;var V=[];ht=ht.replace(z,function(Mt,Gt){return V.push(Gt),"@@@"});var yt=X(X({},E),y);return ht=ht.replace(N,function(Mt){return et[Mt](nt,yt)}),ht.replace(/@@@/g,function(){return V.shift()})};function W(nt,ht,y){if(y===void 0&&(y={}),typeof ht!="string")throw new Error("Invalid format in fecha parse");if(ht=J[ht]||ht,nt.length>1e3)return null;var V=new Date,yt={year:V.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Mt=[],Gt=[],ee=ht.replace(z,function(Xt,se){return Gt.push(Y(se)),"@@@"}),re={},ce={};ee=Y(ee).replace(N,function(Xt){var se=O[Xt],dt=se[0],Ct=se[1],It=se[3];if(re[dt])throw new Error("Invalid format. "+dt+" specified twice in format");return re[dt]=!0,It&&(ce[It]=!0),Mt.push(se),"("+Ct+")"}),Object.keys(ce).forEach(function(Xt){if(!re[Xt])throw new Error("Invalid format. "+Xt+" is required in specified format")}),ee=ee.replace(/@@@/g,function(){return Gt.shift()});var pe=nt.match(new RegExp(ee,"i"));if(!pe)return null;for(var ge=X(X({},E),y),me=1;me<pe.length;me++){var xe=Mt[me-1],de=xe[0],kt=xe[2],jt=kt?kt(pe[me],ge):+pe[me];if(jt==null)return null;yt[de]=jt}yt.isPm===1&&yt.hour!=null&&+yt.hour!=12?yt.hour=+yt.hour+12:yt.isPm===0&&+yt.hour==12&&(yt.hour=0);var Jt;if(yt.timezoneOffset==null){Jt=new Date(yt.year,yt.month,yt.day,yt.hour,yt.minute,yt.second,yt.millisecond);for(var At=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],me=0,Pt=At.length;me<Pt;me++)if(re[At[me][0]]&&yt[At[me][0]]!==Jt[At[me][1]]())return null}else if(Jt=new Date(Date.UTC(yt.year,yt.month,yt.day,yt.hour,yt.minute-yt.timezoneOffset,yt.second,yt.millisecond)),yt.month>11||yt.month<0||yt.day>31||yt.day<1||yt.hour>23||yt.hour<0||yt.minute>59||yt.minute<0||yt.second>59||yt.second<0)return null;return Jt}var it={format:l,parse:W,defaultI18n:k,setGlobalDateI18n:P,setGlobalDateMasks:x};C.default=it},49685:function(oe,C,S){"use strict";S.d(C,{Ib:function(){return N},WT:function(){return K},FD:function(){return Q}});var N=1e-6,K=typeof Float32Array!="undefined"?Float32Array:Array,Q=Math.random;function Z($){K=$}var q=Math.PI/180;function G($){return $*q}function z($,F){return Math.abs($-F)<=N*Math.max(1,Math.abs($),Math.abs(F))}Math.hypot||(Math.hypot=function(){for(var $=0,F=arguments.length;F--;)$+=arguments[F]*arguments[F];return Math.sqrt($)})},35600:function(oe,C,S){"use strict";S.r(C),S.d(C,{create:function(){return K},fromMat4:function(){return Q},clone:function(){return Z},copy:function(){return q},fromValues:function(){return G},set:function(){return z},identity:function(){return $},transpose:function(){return F},invert:function(){return X},adjoint:function(){return D},determinant:function(){return w},multiply:function(){return d},translate:function(){return I},rotate:function(){return k},scale:function(){return E},fromTranslation:function(){return P},fromRotation:function(){return Y},fromScaling:function(){return at},fromMat2d:function(){return et},fromQuat:function(){return ot},normalFromMat4:function(){return ft},projection:function(){return ct},str:function(){return bt},frob:function(){return tt},add:function(){return O},subtract:function(){return J},multiplyScalar:function(){return x},multiplyScalarAndAdd:function(){return l},exactEquals:function(){return W},equals:function(){return it},mul:function(){return nt},sub:function(){return ht}});var N=S(49685);function K(){var y=new N.WT(9);return N.WT!=Float32Array&&(y[1]=0,y[2]=0,y[3]=0,y[5]=0,y[6]=0,y[7]=0),y[0]=1,y[4]=1,y[8]=1,y}function Q(y,V){return y[0]=V[0],y[1]=V[1],y[2]=V[2],y[3]=V[4],y[4]=V[5],y[5]=V[6],y[6]=V[8],y[7]=V[9],y[8]=V[10],y}function Z(y){var V=new N.WT(9);return V[0]=y[0],V[1]=y[1],V[2]=y[2],V[3]=y[3],V[4]=y[4],V[5]=y[5],V[6]=y[6],V[7]=y[7],V[8]=y[8],V}function q(y,V){return y[0]=V[0],y[1]=V[1],y[2]=V[2],y[3]=V[3],y[4]=V[4],y[5]=V[5],y[6]=V[6],y[7]=V[7],y[8]=V[8],y}function G(y,V,yt,Mt,Gt,ee,re,ce,pe){var ge=new N.WT(9);return ge[0]=y,ge[1]=V,ge[2]=yt,ge[3]=Mt,ge[4]=Gt,ge[5]=ee,ge[6]=re,ge[7]=ce,ge[8]=pe,ge}function z(y,V,yt,Mt,Gt,ee,re,ce,pe,ge){return y[0]=V,y[1]=yt,y[2]=Mt,y[3]=Gt,y[4]=ee,y[5]=re,y[6]=ce,y[7]=pe,y[8]=ge,y}function $(y){return y[0]=1,y[1]=0,y[2]=0,y[3]=0,y[4]=1,y[5]=0,y[6]=0,y[7]=0,y[8]=1,y}function F(y,V){if(y===V){var yt=V[1],Mt=V[2],Gt=V[5];y[1]=V[3],y[2]=V[6],y[3]=yt,y[5]=V[7],y[6]=Mt,y[7]=Gt}else y[0]=V[0],y[1]=V[3],y[2]=V[6],y[3]=V[1],y[4]=V[4],y[5]=V[7],y[6]=V[2],y[7]=V[5],y[8]=V[8];return y}function X(y,V){var yt=V[0],Mt=V[1],Gt=V[2],ee=V[3],re=V[4],ce=V[5],pe=V[6],ge=V[7],me=V[8],xe=me*re-ce*ge,de=-me*ee+ce*pe,kt=ge*ee-re*pe,jt=yt*xe+Mt*de+Gt*kt;return jt?(jt=1/jt,y[0]=xe*jt,y[1]=(-me*Mt+Gt*ge)*jt,y[2]=(ce*Mt-Gt*re)*jt,y[3]=de*jt,y[4]=(me*yt-Gt*pe)*jt,y[5]=(-ce*yt+Gt*ee)*jt,y[6]=kt*jt,y[7]=(-ge*yt+Mt*pe)*jt,y[8]=(re*yt-Mt*ee)*jt,y):null}function D(y,V){var yt=V[0],Mt=V[1],Gt=V[2],ee=V[3],re=V[4],ce=V[5],pe=V[6],ge=V[7],me=V[8];return y[0]=re*me-ce*ge,y[1]=Gt*ge-Mt*me,y[2]=Mt*ce-Gt*re,y[3]=ce*pe-ee*me,y[4]=yt*me-Gt*pe,y[5]=Gt*ee-yt*ce,y[6]=ee*ge-re*pe,y[7]=Mt*pe-yt*ge,y[8]=yt*re-Mt*ee,y}function w(y){var V=y[0],yt=y[1],Mt=y[2],Gt=y[3],ee=y[4],re=y[5],ce=y[6],pe=y[7],ge=y[8];return V*(ge*ee-re*pe)+yt*(-ge*Gt+re*ce)+Mt*(pe*Gt-ee*ce)}function d(y,V,yt){var Mt=V[0],Gt=V[1],ee=V[2],re=V[3],ce=V[4],pe=V[5],ge=V[6],me=V[7],xe=V[8],de=yt[0],kt=yt[1],jt=yt[2],Jt=yt[3],At=yt[4],Pt=yt[5],Xt=yt[6],se=yt[7],dt=yt[8];return y[0]=de*Mt+kt*re+jt*ge,y[1]=de*Gt+kt*ce+jt*me,y[2]=de*ee+kt*pe+jt*xe,y[3]=Jt*Mt+At*re+Pt*ge,y[4]=Jt*Gt+At*ce+Pt*me,y[5]=Jt*ee+At*pe+Pt*xe,y[6]=Xt*Mt+se*re+dt*ge,y[7]=Xt*Gt+se*ce+dt*me,y[8]=Xt*ee+se*pe+dt*xe,y}function I(y,V,yt){var Mt=V[0],Gt=V[1],ee=V[2],re=V[3],ce=V[4],pe=V[5],ge=V[6],me=V[7],xe=V[8],de=yt[0],kt=yt[1];return y[0]=Mt,y[1]=Gt,y[2]=ee,y[3]=re,y[4]=ce,y[5]=pe,y[6]=de*Mt+kt*re+ge,y[7]=de*Gt+kt*ce+me,y[8]=de*ee+kt*pe+xe,y}function k(y,V,yt){var Mt=V[0],Gt=V[1],ee=V[2],re=V[3],ce=V[4],pe=V[5],ge=V[6],me=V[7],xe=V[8],de=Math.sin(yt),kt=Math.cos(yt);return y[0]=kt*Mt+de*re,y[1]=kt*Gt+de*ce,y[2]=kt*ee+de*pe,y[3]=kt*re-de*Mt,y[4]=kt*ce-de*Gt,y[5]=kt*pe-de*ee,y[6]=ge,y[7]=me,y[8]=xe,y}function E(y,V,yt){var Mt=yt[0],Gt=yt[1];return y[0]=Mt*V[0],y[1]=Mt*V[1],y[2]=Mt*V[2],y[3]=Gt*V[3],y[4]=Gt*V[4],y[5]=Gt*V[5],y[6]=V[6],y[7]=V[7],y[8]=V[8],y}function P(y,V){return y[0]=1,y[1]=0,y[2]=0,y[3]=0,y[4]=1,y[5]=0,y[6]=V[0],y[7]=V[1],y[8]=1,y}function Y(y,V){var yt=Math.sin(V),Mt=Math.cos(V);return y[0]=Mt,y[1]=yt,y[2]=0,y[3]=-yt,y[4]=Mt,y[5]=0,y[6]=0,y[7]=0,y[8]=1,y}function at(y,V){return y[0]=V[0],y[1]=0,y[2]=0,y[3]=0,y[4]=V[1],y[5]=0,y[6]=0,y[7]=0,y[8]=1,y}function et(y,V){return y[0]=V[0],y[1]=V[1],y[2]=0,y[3]=V[2],y[4]=V[3],y[5]=0,y[6]=V[4],y[7]=V[5],y[8]=1,y}function ot(y,V){var yt=V[0],Mt=V[1],Gt=V[2],ee=V[3],re=yt+yt,ce=Mt+Mt,pe=Gt+Gt,ge=yt*re,me=Mt*re,xe=Mt*ce,de=Gt*re,kt=Gt*ce,jt=Gt*pe,Jt=ee*re,At=ee*ce,Pt=ee*pe;return y[0]=1-xe-jt,y[3]=me-Pt,y[6]=de+At,y[1]=me+Pt,y[4]=1-ge-jt,y[7]=kt-Jt,y[2]=de-At,y[5]=kt+Jt,y[8]=1-ge-xe,y}function ft(y,V){var yt=V[0],Mt=V[1],Gt=V[2],ee=V[3],re=V[4],ce=V[5],pe=V[6],ge=V[7],me=V[8],xe=V[9],de=V[10],kt=V[11],jt=V[12],Jt=V[13],At=V[14],Pt=V[15],Xt=yt*ce-Mt*re,se=yt*pe-Gt*re,dt=yt*ge-ee*re,Ct=Mt*pe-Gt*ce,It=Mt*ge-ee*ce,Bt=Gt*ge-ee*pe,Wt=me*Jt-xe*jt,$t=me*At-de*jt,Zt=me*Pt-kt*jt,ie=xe*At-de*Jt,zt=xe*Pt-kt*Jt,Kt=de*Pt-kt*At,ne=Xt*Kt-se*zt+dt*ie+Ct*Zt-It*$t+Bt*Wt;return ne?(ne=1/ne,y[0]=(ce*Kt-pe*zt+ge*ie)*ne,y[1]=(pe*Zt-re*Kt-ge*$t)*ne,y[2]=(re*zt-ce*Zt+ge*Wt)*ne,y[3]=(Gt*zt-Mt*Kt-ee*ie)*ne,y[4]=(yt*Kt-Gt*Zt+ee*$t)*ne,y[5]=(Mt*Zt-yt*zt-ee*Wt)*ne,y[6]=(Jt*Bt-At*It+Pt*Ct)*ne,y[7]=(At*dt-jt*Bt-Pt*se)*ne,y[8]=(jt*It-Jt*dt+Pt*Xt)*ne,y):null}function ct(y,V,yt){return y[0]=2/V,y[1]=0,y[2]=0,y[3]=0,y[4]=-2/yt,y[5]=0,y[6]=-1,y[7]=1,y[8]=1,y}function bt(y){return"mat3("+y[0]+", "+y[1]+", "+y[2]+", "+y[3]+", "+y[4]+", "+y[5]+", "+y[6]+", "+y[7]+", "+y[8]+")"}function tt(y){return Math.hypot(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8])}function O(y,V,yt){return y[0]=V[0]+yt[0],y[1]=V[1]+yt[1],y[2]=V[2]+yt[2],y[3]=V[3]+yt[3],y[4]=V[4]+yt[4],y[5]=V[5]+yt[5],y[6]=V[6]+yt[6],y[7]=V[7]+yt[7],y[8]=V[8]+yt[8],y}function J(y,V,yt){return y[0]=V[0]-yt[0],y[1]=V[1]-yt[1],y[2]=V[2]-yt[2],y[3]=V[3]-yt[3],y[4]=V[4]-yt[4],y[5]=V[5]-yt[5],y[6]=V[6]-yt[6],y[7]=V[7]-yt[7],y[8]=V[8]-yt[8],y}function x(y,V,yt){return y[0]=V[0]*yt,y[1]=V[1]*yt,y[2]=V[2]*yt,y[3]=V[3]*yt,y[4]=V[4]*yt,y[5]=V[5]*yt,y[6]=V[6]*yt,y[7]=V[7]*yt,y[8]=V[8]*yt,y}function l(y,V,yt,Mt){return y[0]=V[0]+yt[0]*Mt,y[1]=V[1]+yt[1]*Mt,y[2]=V[2]+yt[2]*Mt,y[3]=V[3]+yt[3]*Mt,y[4]=V[4]+yt[4]*Mt,y[5]=V[5]+yt[5]*Mt,y[6]=V[6]+yt[6]*Mt,y[7]=V[7]+yt[7]*Mt,y[8]=V[8]+yt[8]*Mt,y}function W(y,V){return y[0]===V[0]&&y[1]===V[1]&&y[2]===V[2]&&y[3]===V[3]&&y[4]===V[4]&&y[5]===V[5]&&y[6]===V[6]&&y[7]===V[7]&&y[8]===V[8]}function it(y,V){var yt=y[0],Mt=y[1],Gt=y[2],ee=y[3],re=y[4],ce=y[5],pe=y[6],ge=y[7],me=y[8],xe=V[0],de=V[1],kt=V[2],jt=V[3],Jt=V[4],At=V[5],Pt=V[6],Xt=V[7],se=V[8];return Math.abs(yt-xe)<=N.Ib*Math.max(1,Math.abs(yt),Math.abs(xe))&&Math.abs(Mt-de)<=N.Ib*Math.max(1,Math.abs(Mt),Math.abs(de))&&Math.abs(Gt-kt)<=N.Ib*Math.max(1,Math.abs(Gt),Math.abs(kt))&&Math.abs(ee-jt)<=N.Ib*Math.max(1,Math.abs(ee),Math.abs(jt))&&Math.abs(re-Jt)<=N.Ib*Math.max(1,Math.abs(re),Math.abs(Jt))&&Math.abs(ce-At)<=N.Ib*Math.max(1,Math.abs(ce),Math.abs(At))&&Math.abs(pe-Pt)<=N.Ib*Math.max(1,Math.abs(pe),Math.abs(Pt))&&Math.abs(ge-Xt)<=N.Ib*Math.max(1,Math.abs(ge),Math.abs(Xt))&&Math.abs(me-se)<=N.Ib*Math.max(1,Math.abs(me),Math.abs(se))}var nt=d,ht=J},31437:function(oe,C,S){"use strict";S.r(C),S.d(C,{create:function(){return K},clone:function(){return Q},fromValues:function(){return Z},copy:function(){return q},set:function(){return G},add:function(){return z},subtract:function(){return $},multiply:function(){return F},divide:function(){return X},ceil:function(){return D},floor:function(){return w},min:function(){return d},max:function(){return I},round:function(){return k},scale:function(){return E},scaleAndAdd:function(){return P},distance:function(){return Y},squaredDistance:function(){return at},length:function(){return et},squaredLength:function(){return ot},negate:function(){return ft},inverse:function(){return ct},normalize:function(){return bt},dot:function(){return tt},cross:function(){return O},lerp:function(){return J},random:function(){return x},transformMat2:function(){return l},transformMat2d:function(){return W},transformMat3:function(){return it},transformMat4:function(){return nt},rotate:function(){return ht},angle:function(){return y},zero:function(){return V},str:function(){return yt},exactEquals:function(){return Mt},equals:function(){return Gt},len:function(){return ee},sub:function(){return re},mul:function(){return ce},div:function(){return pe},dist:function(){return ge},sqrDist:function(){return me},sqrLen:function(){return xe},forEach:function(){return de}});var N=S(49685);function K(){var kt=new N.WT(2);return N.WT!=Float32Array&&(kt[0]=0,kt[1]=0),kt}function Q(kt){var jt=new N.WT(2);return jt[0]=kt[0],jt[1]=kt[1],jt}function Z(kt,jt){var Jt=new N.WT(2);return Jt[0]=kt,Jt[1]=jt,Jt}function q(kt,jt){return kt[0]=jt[0],kt[1]=jt[1],kt}function G(kt,jt,Jt){return kt[0]=jt,kt[1]=Jt,kt}function z(kt,jt,Jt){return kt[0]=jt[0]+Jt[0],kt[1]=jt[1]+Jt[1],kt}function $(kt,jt,Jt){return kt[0]=jt[0]-Jt[0],kt[1]=jt[1]-Jt[1],kt}function F(kt,jt,Jt){return kt[0]=jt[0]*Jt[0],kt[1]=jt[1]*Jt[1],kt}function X(kt,jt,Jt){return kt[0]=jt[0]/Jt[0],kt[1]=jt[1]/Jt[1],kt}function D(kt,jt){return kt[0]=Math.ceil(jt[0]),kt[1]=Math.ceil(jt[1]),kt}function w(kt,jt){return kt[0]=Math.floor(jt[0]),kt[1]=Math.floor(jt[1]),kt}function d(kt,jt,Jt){return kt[0]=Math.min(jt[0],Jt[0]),kt[1]=Math.min(jt[1],Jt[1]),kt}function I(kt,jt,Jt){return kt[0]=Math.max(jt[0],Jt[0]),kt[1]=Math.max(jt[1],Jt[1]),kt}function k(kt,jt){return kt[0]=Math.round(jt[0]),kt[1]=Math.round(jt[1]),kt}function E(kt,jt,Jt){return kt[0]=jt[0]*Jt,kt[1]=jt[1]*Jt,kt}function P(kt,jt,Jt,At){return kt[0]=jt[0]+Jt[0]*At,kt[1]=jt[1]+Jt[1]*At,kt}function Y(kt,jt){var Jt=jt[0]-kt[0],At=jt[1]-kt[1];return Math.hypot(Jt,At)}function at(kt,jt){var Jt=jt[0]-kt[0],At=jt[1]-kt[1];return Jt*Jt+At*At}function et(kt){var jt=kt[0],Jt=kt[1];return Math.hypot(jt,Jt)}function ot(kt){var jt=kt[0],Jt=kt[1];return jt*jt+Jt*Jt}function ft(kt,jt){return kt[0]=-jt[0],kt[1]=-jt[1],kt}function ct(kt,jt){return kt[0]=1/jt[0],kt[1]=1/jt[1],kt}function bt(kt,jt){var Jt=jt[0],At=jt[1],Pt=Jt*Jt+At*At;return Pt>0&&(Pt=1/Math.sqrt(Pt)),kt[0]=jt[0]*Pt,kt[1]=jt[1]*Pt,kt}function tt(kt,jt){return kt[0]*jt[0]+kt[1]*jt[1]}function O(kt,jt,Jt){var At=jt[0]*Jt[1]-jt[1]*Jt[0];return kt[0]=kt[1]=0,kt[2]=At,kt}function J(kt,jt,Jt,At){var Pt=jt[0],Xt=jt[1];return kt[0]=Pt+At*(Jt[0]-Pt),kt[1]=Xt+At*(Jt[1]-Xt),kt}function x(kt,jt){jt=jt||1;var Jt=N.FD()*2*Math.PI;return kt[0]=Math.cos(Jt)*jt,kt[1]=Math.sin(Jt)*jt,kt}function l(kt,jt,Jt){var At=jt[0],Pt=jt[1];return kt[0]=Jt[0]*At+Jt[2]*Pt,kt[1]=Jt[1]*At+Jt[3]*Pt,kt}function W(kt,jt,Jt){var At=jt[0],Pt=jt[1];return kt[0]=Jt[0]*At+Jt[2]*Pt+Jt[4],kt[1]=Jt[1]*At+Jt[3]*Pt+Jt[5],kt}function it(kt,jt,Jt){var At=jt[0],Pt=jt[1];return kt[0]=Jt[0]*At+Jt[3]*Pt+Jt[6],kt[1]=Jt[1]*At+Jt[4]*Pt+Jt[7],kt}function nt(kt,jt,Jt){var At=jt[0],Pt=jt[1];return kt[0]=Jt[0]*At+Jt[4]*Pt+Jt[12],kt[1]=Jt[1]*At+Jt[5]*Pt+Jt[13],kt}function ht(kt,jt,Jt,At){var Pt=jt[0]-Jt[0],Xt=jt[1]-Jt[1],se=Math.sin(At),dt=Math.cos(At);return kt[0]=Pt*dt-Xt*se+Jt[0],kt[1]=Pt*se+Xt*dt+Jt[1],kt}function y(kt,jt){var Jt=kt[0],At=kt[1],Pt=jt[0],Xt=jt[1],se=Math.sqrt(Jt*Jt+At*At)*Math.sqrt(Pt*Pt+Xt*Xt),dt=se&&(Jt*Pt+At*Xt)/se;return Math.acos(Math.min(Math.max(dt,-1),1))}function V(kt){return kt[0]=0,kt[1]=0,kt}function yt(kt){return"vec2("+kt[0]+", "+kt[1]+")"}function Mt(kt,jt){return kt[0]===jt[0]&&kt[1]===jt[1]}function Gt(kt,jt){var Jt=kt[0],At=kt[1],Pt=jt[0],Xt=jt[1];return Math.abs(Jt-Pt)<=N.Ib*Math.max(1,Math.abs(Jt),Math.abs(Pt))&&Math.abs(At-Xt)<=N.Ib*Math.max(1,Math.abs(At),Math.abs(Xt))}var ee=et,re=$,ce=F,pe=X,ge=Y,me=at,xe=ot,de=function(){var kt=K();return function(jt,Jt,At,Pt,Xt,se){var dt,Ct;for(Jt||(Jt=2),At||(At=0),Pt?Ct=Math.min(Pt*Jt+At,jt.length):Ct=jt.length,dt=At;dt<Ct;dt+=Jt)kt[0]=jt[dt],kt[1]=jt[dt+1],Xt(kt,kt,se),jt[dt]=kt[0],jt[dt+1]=kt[1];return jt}}()},77160:function(oe,C,S){"use strict";S.r(C),S.d(C,{create:function(){return K},clone:function(){return Q},length:function(){return Z},fromValues:function(){return q},copy:function(){return G},set:function(){return z},add:function(){return $},subtract:function(){return F},multiply:function(){return X},divide:function(){return D},ceil:function(){return w},floor:function(){return d},min:function(){return I},max:function(){return k},round:function(){return E},scale:function(){return P},scaleAndAdd:function(){return Y},distance:function(){return at},squaredDistance:function(){return et},squaredLength:function(){return ot},negate:function(){return ft},inverse:function(){return ct},normalize:function(){return bt},dot:function(){return tt},cross:function(){return O},lerp:function(){return J},hermite:function(){return x},bezier:function(){return l},random:function(){return W},transformMat4:function(){return it},transformMat3:function(){return nt},transformQuat:function(){return ht},rotateX:function(){return y},rotateY:function(){return V},rotateZ:function(){return yt},angle:function(){return Mt},zero:function(){return Gt},str:function(){return ee},exactEquals:function(){return re},equals:function(){return ce},sub:function(){return pe},mul:function(){return ge},div:function(){return me},dist:function(){return xe},sqrDist:function(){return de},len:function(){return kt},sqrLen:function(){return jt},forEach:function(){return Jt}});var N=S(49685);function K(){var At=new N.WT(3);return N.WT!=Float32Array&&(At[0]=0,At[1]=0,At[2]=0),At}function Q(At){var Pt=new N.WT(3);return Pt[0]=At[0],Pt[1]=At[1],Pt[2]=At[2],Pt}function Z(At){var Pt=At[0],Xt=At[1],se=At[2];return Math.hypot(Pt,Xt,se)}function q(At,Pt,Xt){var se=new N.WT(3);return se[0]=At,se[1]=Pt,se[2]=Xt,se}function G(At,Pt){return At[0]=Pt[0],At[1]=Pt[1],At[2]=Pt[2],At}function z(At,Pt,Xt,se){return At[0]=Pt,At[1]=Xt,At[2]=se,At}function $(At,Pt,Xt){return At[0]=Pt[0]+Xt[0],At[1]=Pt[1]+Xt[1],At[2]=Pt[2]+Xt[2],At}function F(At,Pt,Xt){return At[0]=Pt[0]-Xt[0],At[1]=Pt[1]-Xt[1],At[2]=Pt[2]-Xt[2],At}function X(At,Pt,Xt){return At[0]=Pt[0]*Xt[0],At[1]=Pt[1]*Xt[1],At[2]=Pt[2]*Xt[2],At}function D(At,Pt,Xt){return At[0]=Pt[0]/Xt[0],At[1]=Pt[1]/Xt[1],At[2]=Pt[2]/Xt[2],At}function w(At,Pt){return At[0]=Math.ceil(Pt[0]),At[1]=Math.ceil(Pt[1]),At[2]=Math.ceil(Pt[2]),At}function d(At,Pt){return At[0]=Math.floor(Pt[0]),At[1]=Math.floor(Pt[1]),At[2]=Math.floor(Pt[2]),At}function I(At,Pt,Xt){return At[0]=Math.min(Pt[0],Xt[0]),At[1]=Math.min(Pt[1],Xt[1]),At[2]=Math.min(Pt[2],Xt[2]),At}function k(At,Pt,Xt){return At[0]=Math.max(Pt[0],Xt[0]),At[1]=Math.max(Pt[1],Xt[1]),At[2]=Math.max(Pt[2],Xt[2]),At}function E(At,Pt){return At[0]=Math.round(Pt[0]),At[1]=Math.round(Pt[1]),At[2]=Math.round(Pt[2]),At}function P(At,Pt,Xt){return At[0]=Pt[0]*Xt,At[1]=Pt[1]*Xt,At[2]=Pt[2]*Xt,At}function Y(At,Pt,Xt,se){return At[0]=Pt[0]+Xt[0]*se,At[1]=Pt[1]+Xt[1]*se,At[2]=Pt[2]+Xt[2]*se,At}function at(At,Pt){var Xt=Pt[0]-At[0],se=Pt[1]-At[1],dt=Pt[2]-At[2];return Math.hypot(Xt,se,dt)}function et(At,Pt){var Xt=Pt[0]-At[0],se=Pt[1]-At[1],dt=Pt[2]-At[2];return Xt*Xt+se*se+dt*dt}function ot(At){var Pt=At[0],Xt=At[1],se=At[2];return Pt*Pt+Xt*Xt+se*se}function ft(At,Pt){return At[0]=-Pt[0],At[1]=-Pt[1],At[2]=-Pt[2],At}function ct(At,Pt){return At[0]=1/Pt[0],At[1]=1/Pt[1],At[2]=1/Pt[2],At}function bt(At,Pt){var Xt=Pt[0],se=Pt[1],dt=Pt[2],Ct=Xt*Xt+se*se+dt*dt;return Ct>0&&(Ct=1/Math.sqrt(Ct)),At[0]=Pt[0]*Ct,At[1]=Pt[1]*Ct,At[2]=Pt[2]*Ct,At}function tt(At,Pt){return At[0]*Pt[0]+At[1]*Pt[1]+At[2]*Pt[2]}function O(At,Pt,Xt){var se=Pt[0],dt=Pt[1],Ct=Pt[2],It=Xt[0],Bt=Xt[1],Wt=Xt[2];return At[0]=dt*Wt-Ct*Bt,At[1]=Ct*It-se*Wt,At[2]=se*Bt-dt*It,At}function J(At,Pt,Xt,se){var dt=Pt[0],Ct=Pt[1],It=Pt[2];return At[0]=dt+se*(Xt[0]-dt),At[1]=Ct+se*(Xt[1]-Ct),At[2]=It+se*(Xt[2]-It),At}function x(At,Pt,Xt,se,dt,Ct){var It=Ct*Ct,Bt=It*(2*Ct-3)+1,Wt=It*(Ct-2)+Ct,$t=It*(Ct-1),Zt=It*(3-2*Ct);return At[0]=Pt[0]*Bt+Xt[0]*Wt+se[0]*$t+dt[0]*Zt,At[1]=Pt[1]*Bt+Xt[1]*Wt+se[1]*$t+dt[1]*Zt,At[2]=Pt[2]*Bt+Xt[2]*Wt+se[2]*$t+dt[2]*Zt,At}function l(At,Pt,Xt,se,dt,Ct){var It=1-Ct,Bt=It*It,Wt=Ct*Ct,$t=Bt*It,Zt=3*Ct*Bt,ie=3*Wt*It,zt=Wt*Ct;return At[0]=Pt[0]*$t+Xt[0]*Zt+se[0]*ie+dt[0]*zt,At[1]=Pt[1]*$t+Xt[1]*Zt+se[1]*ie+dt[1]*zt,At[2]=Pt[2]*$t+Xt[2]*Zt+se[2]*ie+dt[2]*zt,At}function W(At,Pt){Pt=Pt||1;var Xt=N.FD()*2*Math.PI,se=N.FD()*2-1,dt=Math.sqrt(1-se*se)*Pt;return At[0]=Math.cos(Xt)*dt,At[1]=Math.sin(Xt)*dt,At[2]=se*Pt,At}function it(At,Pt,Xt){var se=Pt[0],dt=Pt[1],Ct=Pt[2],It=Xt[3]*se+Xt[7]*dt+Xt[11]*Ct+Xt[15];return It=It||1,At[0]=(Xt[0]*se+Xt[4]*dt+Xt[8]*Ct+Xt[12])/It,At[1]=(Xt[1]*se+Xt[5]*dt+Xt[9]*Ct+Xt[13])/It,At[2]=(Xt[2]*se+Xt[6]*dt+Xt[10]*Ct+Xt[14])/It,At}function nt(At,Pt,Xt){var se=Pt[0],dt=Pt[1],Ct=Pt[2];return At[0]=se*Xt[0]+dt*Xt[3]+Ct*Xt[6],At[1]=se*Xt[1]+dt*Xt[4]+Ct*Xt[7],At[2]=se*Xt[2]+dt*Xt[5]+Ct*Xt[8],At}function ht(At,Pt,Xt){var se=Xt[0],dt=Xt[1],Ct=Xt[2],It=Xt[3],Bt=Pt[0],Wt=Pt[1],$t=Pt[2],Zt=dt*$t-Ct*Wt,ie=Ct*Bt-se*$t,zt=se*Wt-dt*Bt,Kt=dt*zt-Ct*ie,ne=Ct*Zt-se*zt,Te=se*ie-dt*Zt,ke=It*2;return Zt*=ke,ie*=ke,zt*=ke,Kt*=2,ne*=2,Te*=2,At[0]=Bt+Zt+Kt,At[1]=Wt+ie+ne,At[2]=$t+zt+Te,At}function y(At,Pt,Xt,se){var dt=[],Ct=[];return dt[0]=Pt[0]-Xt[0],dt[1]=Pt[1]-Xt[1],dt[2]=Pt[2]-Xt[2],Ct[0]=dt[0],Ct[1]=dt[1]*Math.cos(se)-dt[2]*Math.sin(se),Ct[2]=dt[1]*Math.sin(se)+dt[2]*Math.cos(se),At[0]=Ct[0]+Xt[0],At[1]=Ct[1]+Xt[1],At[2]=Ct[2]+Xt[2],At}function V(At,Pt,Xt,se){var dt=[],Ct=[];return dt[0]=Pt[0]-Xt[0],dt[1]=Pt[1]-Xt[1],dt[2]=Pt[2]-Xt[2],Ct[0]=dt[2]*Math.sin(se)+dt[0]*Math.cos(se),Ct[1]=dt[1],Ct[2]=dt[2]*Math.cos(se)-dt[0]*Math.sin(se),At[0]=Ct[0]+Xt[0],At[1]=Ct[1]+Xt[1],At[2]=Ct[2]+Xt[2],At}function yt(At,Pt,Xt,se){var dt=[],Ct=[];return dt[0]=Pt[0]-Xt[0],dt[1]=Pt[1]-Xt[1],dt[2]=Pt[2]-Xt[2],Ct[0]=dt[0]*Math.cos(se)-dt[1]*Math.sin(se),Ct[1]=dt[0]*Math.sin(se)+dt[1]*Math.cos(se),Ct[2]=dt[2],At[0]=Ct[0]+Xt[0],At[1]=Ct[1]+Xt[1],At[2]=Ct[2]+Xt[2],At}function Mt(At,Pt){var Xt=At[0],se=At[1],dt=At[2],Ct=Pt[0],It=Pt[1],Bt=Pt[2],Wt=Math.sqrt(Xt*Xt+se*se+dt*dt),$t=Math.sqrt(Ct*Ct+It*It+Bt*Bt),Zt=Wt*$t,ie=Zt&&tt(At,Pt)/Zt;return Math.acos(Math.min(Math.max(ie,-1),1))}function Gt(At){return At[0]=0,At[1]=0,At[2]=0,At}function ee(At){return"vec3("+At[0]+", "+At[1]+", "+At[2]+")"}function re(At,Pt){return At[0]===Pt[0]&&At[1]===Pt[1]&&At[2]===Pt[2]}function ce(At,Pt){var Xt=At[0],se=At[1],dt=At[2],Ct=Pt[0],It=Pt[1],Bt=Pt[2];return Math.abs(Xt-Ct)<=N.Ib*Math.max(1,Math.abs(Xt),Math.abs(Ct))&&Math.abs(se-It)<=N.Ib*Math.max(1,Math.abs(se),Math.abs(It))&&Math.abs(dt-Bt)<=N.Ib*Math.max(1,Math.abs(dt),Math.abs(Bt))}var pe=F,ge=X,me=D,xe=at,de=et,kt=Z,jt=ot,Jt=function(){var At=K();return function(Pt,Xt,se,dt,Ct,It){var Bt,Wt;for(Xt||(Xt=3),se||(se=0),dt?Wt=Math.min(dt*Xt+se,Pt.length):Wt=Pt.length,Bt=se;Bt<Wt;Bt+=Xt)At[0]=Pt[Bt],At[1]=Pt[Bt+1],At[2]=Pt[Bt+2],Ct(At,At,It),Pt[Bt]=At[0],Pt[Bt+1]=At[1],Pt[Bt+2]=At[2];return Pt}}()},70655:function(oe,C,S){"use strict";S.r(C),S.d(C,{__extends:function(){return K},__assign:function(){return Q},__rest:function(){return Z},__decorate:function(){return q},__param:function(){return G},__metadata:function(){return z},__awaiter:function(){return $},__generator:function(){return F},__createBinding:function(){return X},__exportStar:function(){return D},__values:function(){return w},__read:function(){return d},__spread:function(){return I},__spreadArrays:function(){return k},__spreadArray:function(){return E},__await:function(){return P},__asyncGenerator:function(){return Y},__asyncDelegator:function(){return at},__asyncValues:function(){return et},__makeTemplateObject:function(){return ot},__importStar:function(){return ct},__importDefault:function(){return bt},__classPrivateFieldGet:function(){return tt},__classPrivateFieldSet:function(){return O},__classPrivateFieldIn:function(){return J}});var N=function(x,l){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,it){W.__proto__=it}||function(W,it){for(var nt in it)Object.prototype.hasOwnProperty.call(it,nt)&&(W[nt]=it[nt])},N(x,l)};function K(x,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");N(x,l);function W(){this.constructor=x}x.prototype=l===null?Object.create(l):(W.prototype=l.prototype,new W)}var Q=function(){return Q=Object.assign||function(l){for(var W,it=1,nt=arguments.length;it<nt;it++){W=arguments[it];for(var ht in W)Object.prototype.hasOwnProperty.call(W,ht)&&(l[ht]=W[ht])}return l},Q.apply(this,arguments)};function Z(x,l){var W={};for(var it in x)Object.prototype.hasOwnProperty.call(x,it)&&l.indexOf(it)<0&&(W[it]=x[it]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,it=Object.getOwnPropertySymbols(x);nt<it.length;nt++)l.indexOf(it[nt])<0&&Object.prototype.propertyIsEnumerable.call(x,it[nt])&&(W[it[nt]]=x[it[nt]]);return W}function q(x,l,W,it){var nt=arguments.length,ht=nt<3?l:it===null?it=Object.getOwnPropertyDescriptor(l,W):it,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ht=Reflect.decorate(x,l,W,it);else for(var V=x.length-1;V>=0;V--)(y=x[V])&&(ht=(nt<3?y(ht):nt>3?y(l,W,ht):y(l,W))||ht);return nt>3&&ht&&Object.defineProperty(l,W,ht),ht}function G(x,l){return function(W,it){l(W,it,x)}}function z(x,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(x,l)}function $(x,l,W,it){function nt(ht){return ht instanceof W?ht:new W(function(y){y(ht)})}return new(W||(W=Promise))(function(ht,y){function V(Gt){try{Mt(it.next(Gt))}catch(ee){y(ee)}}function yt(Gt){try{Mt(it.throw(Gt))}catch(ee){y(ee)}}function Mt(Gt){Gt.done?ht(Gt.value):nt(Gt.value).then(V,yt)}Mt((it=it.apply(x,l||[])).next())})}function F(x,l){var W={label:0,sent:function(){if(ht[0]&1)throw ht[1];return ht[1]},trys:[],ops:[]},it,nt,ht,y;return y={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function V(Mt){return function(Gt){return yt([Mt,Gt])}}function yt(Mt){if(it)throw new TypeError("Generator is already executing.");for(;W;)try{if(it=1,nt&&(ht=Mt[0]&2?nt.return:Mt[0]?nt.throw||((ht=nt.return)&&ht.call(nt),0):nt.next)&&!(ht=ht.call(nt,Mt[1])).done)return ht;switch(nt=0,ht&&(Mt=[Mt[0]&2,ht.value]),Mt[0]){case 0:case 1:ht=Mt;break;case 4:return W.label++,{value:Mt[1],done:!1};case 5:W.label++,nt=Mt[1],Mt=[0];continue;case 7:Mt=W.ops.pop(),W.trys.pop();continue;default:if(ht=W.trys,!(ht=ht.length>0&&ht[ht.length-1])&&(Mt[0]===6||Mt[0]===2)){W=0;continue}if(Mt[0]===3&&(!ht||Mt[1]>ht[0]&&Mt[1]<ht[3])){W.label=Mt[1];break}if(Mt[0]===6&&W.label<ht[1]){W.label=ht[1],ht=Mt;break}if(ht&&W.label<ht[2]){W.label=ht[2],W.ops.push(Mt);break}ht[2]&&W.ops.pop(),W.trys.pop();continue}Mt=l.call(x,W)}catch(Gt){Mt=[6,Gt],nt=0}finally{it=ht=0}if(Mt[0]&5)throw Mt[1];return{value:Mt[0]?Mt[1]:void 0,done:!0}}}var X=Object.create?function(x,l,W,it){it===void 0&&(it=W);var nt=Object.getOwnPropertyDescriptor(l,W);(!nt||("get"in nt?!l.__esModule:nt.writable||nt.configurable))&&(nt={enumerable:!0,get:function(){return l[W]}}),Object.defineProperty(x,it,nt)}:function(x,l,W,it){it===void 0&&(it=W),x[it]=l[W]};function D(x,l){for(var W in x)W!=="default"&&!Object.prototype.hasOwnProperty.call(l,W)&&X(l,x,W)}function w(x){var l=typeof Symbol=="function"&&Symbol.iterator,W=l&&x[l],it=0;if(W)return W.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&it>=x.length&&(x=void 0),{value:x&&x[it++],done:!x}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(x,l){var W=typeof Symbol=="function"&&x[Symbol.iterator];if(!W)return x;var it=W.call(x),nt,ht=[],y;try{for(;(l===void 0||l-- >0)&&!(nt=it.next()).done;)ht.push(nt.value)}catch(V){y={error:V}}finally{try{nt&&!nt.done&&(W=it.return)&&W.call(it)}finally{if(y)throw y.error}}return ht}function I(){for(var x=[],l=0;l<arguments.length;l++)x=x.concat(d(arguments[l]));return x}function k(){for(var x=0,l=0,W=arguments.length;l<W;l++)x+=arguments[l].length;for(var it=Array(x),nt=0,l=0;l<W;l++)for(var ht=arguments[l],y=0,V=ht.length;y<V;y++,nt++)it[nt]=ht[y];return it}function E(x,l,W){if(W||arguments.length===2)for(var it=0,nt=l.length,ht;it<nt;it++)(ht||!(it in l))&&(ht||(ht=Array.prototype.slice.call(l,0,it)),ht[it]=l[it]);return x.concat(ht||Array.prototype.slice.call(l))}function P(x){return this instanceof P?(this.v=x,this):new P(x)}function Y(x,l,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it=W.apply(x,l||[]),nt,ht=[];return nt={},y("next"),y("throw"),y("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function y(re){it[re]&&(nt[re]=function(ce){return new Promise(function(pe,ge){ht.push([re,ce,pe,ge])>1||V(re,ce)})})}function V(re,ce){try{yt(it[re](ce))}catch(pe){ee(ht[0][3],pe)}}function yt(re){re.value instanceof P?Promise.resolve(re.value.v).then(Mt,Gt):ee(ht[0][2],re)}function Mt(re){V("next",re)}function Gt(re){V("throw",re)}function ee(re,ce){re(ce),ht.shift(),ht.length&&V(ht[0][0],ht[0][1])}}function at(x){var l,W;return l={},it("next"),it("throw",function(nt){throw nt}),it("return"),l[Symbol.iterator]=function(){return this},l;function it(nt,ht){l[nt]=x[nt]?function(y){return(W=!W)?{value:P(x[nt](y)),done:nt==="return"}:ht?ht(y):y}:ht}}function et(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=x[Symbol.asyncIterator],W;return l?l.call(x):(x=typeof w=="function"?w(x):x[Symbol.iterator](),W={},it("next"),it("throw"),it("return"),W[Symbol.asyncIterator]=function(){return this},W);function it(ht){W[ht]=x[ht]&&function(y){return new Promise(function(V,yt){y=x[ht](y),nt(V,yt,y.done,y.value)})}}function nt(ht,y,V,yt){Promise.resolve(yt).then(function(Mt){ht({value:Mt,done:V})},y)}}function ot(x,l){return Object.defineProperty?Object.defineProperty(x,"raw",{value:l}):x.raw=l,x}var ft=Object.create?function(x,l){Object.defineProperty(x,"default",{enumerable:!0,value:l})}:function(x,l){x.default=l};function ct(x){if(x&&x.__esModule)return x;var l={};if(x!=null)for(var W in x)W!=="default"&&Object.prototype.hasOwnProperty.call(x,W)&&X(l,x,W);return ft(l,x),l}function bt(x){return x&&x.__esModule?x:{default:x}}function tt(x,l,W,it){if(W==="a"&&!it)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?x!==l||!it:!l.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return W==="m"?it:W==="a"?it.call(x):it?it.value:l.get(x)}function O(x,l,W,it,nt){if(it==="m")throw new TypeError("Private method is not writable");if(it==="a"&&!nt)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?x!==l||!nt:!l.has(x))throw new TypeError("Cannot write private member to an object whose class did not declare it");return it==="a"?nt.call(x,W):nt?nt.value=W:l.set(x,W),W}function J(x,l){if(l===null||typeof l!="object"&&typeof l!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof x=="function"?l===x:x.has(l)}}}]);
