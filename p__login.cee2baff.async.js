(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[179],{92453:function(M){M.exports={container:"container___24lE3",lang:"lang___WB6JP",content:"content___1Bpdt",icon:"icon___2tsIa"}},38252:function(M,x,u){"use strict";u.r(x),u.d(x,{default:function(){return ye}});var o=u(18106),i=u(72059),l=u(34792),m=u(48086),d=u(11849),c=u(3182),g=u(2824),a=u(17462),p=u(76772),t=u(94043),e=u.n(t),r=u(2568),n=u.n(r),s=u(92453),h=u.n(s),v=u(67294),B=u(29791),y=u(75860),j=u(21010);function G(T,C){return V.apply(this,arguments)}function V(){return V=(0,c.Z)(e().mark(function T(C,L){return e().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,j.WY)("/api/login/captcha",(0,d.Z)({method:"GET",params:(0,d.Z)({},C)},L||{})));case 1:case"end":return P.stop()}},T)})),V.apply(this,arguments)}var N=u(28991),ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},pe=ge,ne=u(27029),te=function(C,L){return v.createElement(ne.Z,(0,N.Z)((0,N.Z)({},C),{},{ref:L,icon:pe}))};te.displayName="LockOutlined";var re=v.forwardRef(te),he={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"},ve=he,ae=function(C,L){return v.createElement(ne.Z,(0,N.Z)((0,N.Z)({},C),{},{ref:L,icon:ve}))};ae.displayName="MobileOutlined";var me=v.forwardRef(ae),xe=u(89366),z=u(22811),D=u(36571),f=u(85893),oe=function(C){var L=C.content;return(0,f.jsx)(p.Z,{style:{marginBottom:24},message:L,type:"error",showIcon:!0})},ye=function(){var T=(0,j.YB)(),C=(0,v.useState)("account"),L=(0,g.Z)(C,2),w=L[0],P=L[1],Fe=(0,j.tT)("@@initialState"),se=Fe.setInitialState,Me=(0,v.useState)({}),ue=(0,g.Z)(Me,2),ie=ue[0],Be=ue[1],Se=function(){var A=(0,c.Z)(e().mark(function S($){return e().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,D.ar)($).then(function(Z){se(function(H){var I;return(0,d.Z)((0,d.Z)({},H),{},{currentUser:(I=Z.data)===null||I===void 0?void 0:I.info})})});case 2:case"end":return F.stop()}},S)}));return function($){return A.apply(this,arguments)}}(),Te=function(){var A=(0,c.Z)(e().mark(function S(){return e().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,D.wB)().then(function(F){se(function(Z){var H;return(0,d.Z)((0,d.Z)({},Z),{},{userMenuItem:F==null||(H=F.data)===null||H===void 0?void 0:H.list.sort((0,y.Rm)("sort"))})})});case 2:case"end":return O.stop()}},S)}));return function(){return A.apply(this,arguments)}}(),je=function(){var A=(0,c.Z)(e().mark(function S($){return e().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,D.x4)((0,d.Z)((0,d.Z)({},$),{},{type:w})).then(function(){var Z=(0,c.Z)(e().mark(function H(I){var W,Y,J,K,Q,X,k,b,q,_,ee,fe,de;return e().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return fe=[{uid:(W=I.data)===null||W===void 0||(Y=W.info)===null||Y===void 0?void 0:Y.uid},{user:(J=I.data)===null||J===void 0||(K=J.info)===null||K===void 0?void 0:K.name},{expiresAt:(Q=I.data)===null||Q===void 0||(X=Q.info)===null||X===void 0?void 0:X.expiresAt},{access_token:(k=I.data)===null||k===void 0||(b=k.info)===null||b===void 0?void 0:b.access_token},{refresh_token:(q=I.data)===null||q===void 0||(_=q.info)===null||_===void 0?void 0:_.refresh_token}],fe.forEach(function(U){for(var R in U)localStorage.setItem(R,U[R])}),de=T.formatMessage({id:"pages.login.success",defaultMessage:(ee=I==null?void 0:I.msg)!==null&&ee!==void 0?ee:"\u767B\u5F55\u6210\u529F"}),m.default.success(de),E.next=6,Te();case 6:return E.next=8,Se({id:localStorage.getItem("uid")});case 8:(0,y.pQ)().then(function(){var U=j.m8.location.query,R=U,Ze=R.redirect;j.m8.push(Ze||"/dashboard/analysis")});case 9:case"end":return E.stop()}},H)}));return function(H){return Z.apply(this,arguments)}}()).catch(function(){Be({status:401,type:"account"})});case 2:case"end":return F.stop()}},S)}));return function($){return A.apply(this,arguments)}}(),le=ie.status,ce=ie.type;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("style",{children:".ant-pro-form-login-container{ justify-content: center }"}),(0,f.jsxs)("div",{className:h().container,children:[(0,f.jsx)("div",{className:h().lang,"data-lang":!0,children:j.pD&&(0,f.jsx)(j.pD,{reload:!1})}),(0,f.jsx)("div",{className:h().content,children:(0,f.jsxs)(z.U0,{title:"Tiger System",initialValues:{autoLogin:!0},logo:(0,f.jsx)("img",{alt:"logo",src:"/logo.png"}),onFinish:function(){var A=(0,c.Z)(e().mark(function S($){return e().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,je($);case 2:case"end":return F.stop()}},S)}));return function(S){return A.apply(this,arguments)}}(),subTitle:T.formatMessage({id:"pages.layouts.userLayout.title"}),children:[(0,f.jsxs)(i.Z,{activeKey:w,onChange:P,children:[(0,f.jsx)(i.Z.TabPane,{tab:T.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u5BC6\u7801\u767B\u5F55"})},"account"),(0,f.jsx)(i.Z.TabPane,{tab:T.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"\u624B\u673A\u53F7\u767B\u5F55"})},"mobile")]}),le===401&&ce==="account"&&(0,f.jsx)(oe,{content:T.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF"})}),w==="account"&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(z.V,{name:"name",fieldProps:{size:"large",prefix:(0,f.jsx)(xe.Z,{className:h().prefixIcon})},placeholder:T.formatMessage({id:"pages.login.name.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}),rules:[{required:!0,message:(0,f.jsx)(j._H,{id:"pages.login.name.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,f.jsx)(z.V.Password,{name:"password",fieldProps:{size:"large",prefix:(0,f.jsx)(re,{className:h().prefixIcon})},transform:function(S){return{password:n()(S)}},placeholder:T.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801"}),rules:[{required:!0,message:(0,f.jsx)(j._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),le===401&&ce==="mobile"&&(0,f.jsx)(oe,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),w==="mobile"&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(z.V,{fieldProps:{size:"large",prefix:(0,f.jsx)(me,{className:h().prefixIcon})},name:"mobile",placeholder:T.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:(0,f.jsx)(j._H,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1[3456789]\d{9}$/,message:(0,f.jsx)(j._H,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),(0,f.jsx)(z.BX,{fieldProps:{size:"large",prefix:(0,f.jsx)(re,{className:h().prefixIcon})},captchaProps:{size:"large"},placeholder:T.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(S,$){return S?"".concat($," ").concat(T.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):T.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:(0,f.jsx)(j._H,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var A=(0,c.Z)(e().mark(function S($){var O;return e().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,G({phone:$});case 2:if(O=Z.sent,O!==!1){Z.next=5;break}return Z.abrupt("return");case 5:m.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return Z.stop()}},S)}));return function(S){return A.apply(this,arguments)}}()})]}),(0,f.jsxs)("div",{style:{marginBottom:24},children:[(0,f.jsx)(z.V2,{noStyle:!0,name:"autoLogin",children:(0,f.jsx)(j._H,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),(0,f.jsx)("a",{style:{float:"right"},children:(0,f.jsx)(j._H,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})}),(0,f.jsx)(B.Z,{})]})]})}},40487:function(M){var x={utf8:{stringToBytes:function(u){return x.bin.stringToBytes(unescape(encodeURIComponent(u)))},bytesToString:function(u){return decodeURIComponent(escape(x.bin.bytesToString(u)))}},bin:{stringToBytes:function(u){for(var o=[],i=0;i<u.length;i++)o.push(u.charCodeAt(i)&255);return o},bytesToString:function(u){for(var o=[],i=0;i<u.length;i++)o.push(String.fromCharCode(u[i]));return o.join("")}}};M.exports=x},71012:function(M){(function(){var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u={rotl:function(o,i){return o<<i|o>>>32-i},rotr:function(o,i){return o<<32-i|o>>>i},endian:function(o){if(o.constructor==Number)return u.rotl(o,8)&16711935|u.rotl(o,24)&4278255360;for(var i=0;i<o.length;i++)o[i]=u.endian(o[i]);return o},randomBytes:function(o){for(var i=[];o>0;o--)i.push(Math.floor(Math.random()*256));return i},bytesToWords:function(o){for(var i=[],l=0,m=0;l<o.length;l++,m+=8)i[m>>>5]|=o[l]<<24-m%32;return i},wordsToBytes:function(o){for(var i=[],l=0;l<o.length*32;l+=8)i.push(o[l>>>5]>>>24-l%32&255);return i},bytesToHex:function(o){for(var i=[],l=0;l<o.length;l++)i.push((o[l]>>>4).toString(16)),i.push((o[l]&15).toString(16));return i.join("")},hexToBytes:function(o){for(var i=[],l=0;l<o.length;l+=2)i.push(parseInt(o.substr(l,2),16));return i},bytesToBase64:function(o){for(var i=[],l=0;l<o.length;l+=3)for(var m=o[l]<<16|o[l+1]<<8|o[l+2],d=0;d<4;d++)l*8+d*6<=o.length*8?i.push(x.charAt(m>>>6*(3-d)&63)):i.push("=");return i.join("")},base64ToBytes:function(o){o=o.replace(/[^A-Z0-9+\/]/ig,"");for(var i=[],l=0,m=0;l<o.length;m=++l%4)m!=0&&i.push((x.indexOf(o.charAt(l-1))&Math.pow(2,-2*m+8)-1)<<m*2|x.indexOf(o.charAt(l))>>>6-m*2);return i}};M.exports=u})()},48738:function(M){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */M.exports=function(o){return o!=null&&(x(o)||u(o)||!!o._isBuffer)};function x(o){return!!o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}function u(o){return typeof o.readFloatLE=="function"&&typeof o.slice=="function"&&x(o.slice(0,0))}},29932:function(M){function x(u,o){for(var i=-1,l=u==null?0:u.length,m=Array(l);++i<l;)m[i]=o(u[i],i,u);return m}M.exports=x},40371:function(M){function x(u){return function(o){return o==null?void 0:o[u]}}M.exports=x},80531:function(M,x,u){var o=u(62705),i=u(29932),l=u(1469),m=u(33448),d=1/0,c=o?o.prototype:void 0,g=c?c.toString:void 0;function a(p){if(typeof p=="string")return p;if(l(p))return i(p,a)+"";if(m(p))return g?g.call(p):"";var t=p+"";return t=="0"&&1/p==-d?"-0":t}M.exports=a},79833:function(M,x,u){var o=u(80531);function i(l){return l==null?"":o(l)}M.exports=i},2568:function(M,x,u){(function(){var o=u(71012),i=u(40487).utf8,l=u(48738),m=u(40487).bin,d=function(c,g){c.constructor==String?g&&g.encoding==="binary"?c=m.stringToBytes(c):c=i.stringToBytes(c):l(c)?c=Array.prototype.slice.call(c,0):!Array.isArray(c)&&c.constructor!==Uint8Array&&(c=c.toString());for(var a=o.bytesToWords(c),p=c.length*8,t=1732584193,e=-271733879,r=-1732584194,n=271733878,s=0;s<a.length;s++)a[s]=(a[s]<<8|a[s]>>>24)&16711935|(a[s]<<24|a[s]>>>8)&4278255360;a[p>>>5]|=128<<p%32,a[(p+64>>>9<<4)+14]=p;for(var h=d._ff,v=d._gg,B=d._hh,y=d._ii,s=0;s<a.length;s+=16){var j=t,G=e,V=r,N=n;t=h(t,e,r,n,a[s+0],7,-680876936),n=h(n,t,e,r,a[s+1],12,-389564586),r=h(r,n,t,e,a[s+2],17,606105819),e=h(e,r,n,t,a[s+3],22,-1044525330),t=h(t,e,r,n,a[s+4],7,-176418897),n=h(n,t,e,r,a[s+5],12,1200080426),r=h(r,n,t,e,a[s+6],17,-1473231341),e=h(e,r,n,t,a[s+7],22,-45705983),t=h(t,e,r,n,a[s+8],7,1770035416),n=h(n,t,e,r,a[s+9],12,-1958414417),r=h(r,n,t,e,a[s+10],17,-42063),e=h(e,r,n,t,a[s+11],22,-1990404162),t=h(t,e,r,n,a[s+12],7,1804603682),n=h(n,t,e,r,a[s+13],12,-40341101),r=h(r,n,t,e,a[s+14],17,-1502002290),e=h(e,r,n,t,a[s+15],22,1236535329),t=v(t,e,r,n,a[s+1],5,-165796510),n=v(n,t,e,r,a[s+6],9,-1069501632),r=v(r,n,t,e,a[s+11],14,643717713),e=v(e,r,n,t,a[s+0],20,-373897302),t=v(t,e,r,n,a[s+5],5,-701558691),n=v(n,t,e,r,a[s+10],9,38016083),r=v(r,n,t,e,a[s+15],14,-660478335),e=v(e,r,n,t,a[s+4],20,-405537848),t=v(t,e,r,n,a[s+9],5,568446438),n=v(n,t,e,r,a[s+14],9,-1019803690),r=v(r,n,t,e,a[s+3],14,-187363961),e=v(e,r,n,t,a[s+8],20,1163531501),t=v(t,e,r,n,a[s+13],5,-1444681467),n=v(n,t,e,r,a[s+2],9,-51403784),r=v(r,n,t,e,a[s+7],14,1735328473),e=v(e,r,n,t,a[s+12],20,-1926607734),t=B(t,e,r,n,a[s+5],4,-378558),n=B(n,t,e,r,a[s+8],11,-2022574463),r=B(r,n,t,e,a[s+11],16,1839030562),e=B(e,r,n,t,a[s+14],23,-35309556),t=B(t,e,r,n,a[s+1],4,-1530992060),n=B(n,t,e,r,a[s+4],11,1272893353),r=B(r,n,t,e,a[s+7],16,-155497632),e=B(e,r,n,t,a[s+10],23,-1094730640),t=B(t,e,r,n,a[s+13],4,681279174),n=B(n,t,e,r,a[s+0],11,-358537222),r=B(r,n,t,e,a[s+3],16,-722521979),e=B(e,r,n,t,a[s+6],23,76029189),t=B(t,e,r,n,a[s+9],4,-640364487),n=B(n,t,e,r,a[s+12],11,-421815835),r=B(r,n,t,e,a[s+15],16,530742520),e=B(e,r,n,t,a[s+2],23,-995338651),t=y(t,e,r,n,a[s+0],6,-198630844),n=y(n,t,e,r,a[s+7],10,1126891415),r=y(r,n,t,e,a[s+14],15,-1416354905),e=y(e,r,n,t,a[s+5],21,-57434055),t=y(t,e,r,n,a[s+12],6,1700485571),n=y(n,t,e,r,a[s+3],10,-1894986606),r=y(r,n,t,e,a[s+10],15,-1051523),e=y(e,r,n,t,a[s+1],21,-2054922799),t=y(t,e,r,n,a[s+8],6,1873313359),n=y(n,t,e,r,a[s+15],10,-30611744),r=y(r,n,t,e,a[s+6],15,-1560198380),e=y(e,r,n,t,a[s+13],21,1309151649),t=y(t,e,r,n,a[s+4],6,-145523070),n=y(n,t,e,r,a[s+11],10,-1120210379),r=y(r,n,t,e,a[s+2],15,718787259),e=y(e,r,n,t,a[s+9],21,-343485551),t=t+j>>>0,e=e+G>>>0,r=r+V>>>0,n=n+N>>>0}return o.endian([t,e,r,n])};d._ff=function(c,g,a,p,t,e,r){var n=c+(g&a|~g&p)+(t>>>0)+r;return(n<<e|n>>>32-e)+g},d._gg=function(c,g,a,p,t,e,r){var n=c+(g&p|a&~p)+(t>>>0)+r;return(n<<e|n>>>32-e)+g},d._hh=function(c,g,a,p,t,e,r){var n=c+(g^a^p)+(t>>>0)+r;return(n<<e|n>>>32-e)+g},d._ii=function(c,g,a,p,t,e,r){var n=c+(a^(g|~p))+(t>>>0)+r;return(n<<e|n>>>32-e)+g},d._blocksize=16,d._digestsize=16,M.exports=function(c,g){if(c==null)throw new Error("Illegal argument "+c);var a=o.wordsToBytes(d(c,g));return g&&g.asBytes?a:g&&g.asString?m.bytesToString(a):o.bytesToHex(a)}})()}}]);
