(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8897],{52799:function(Fe,Y,t){"use strict";t.r(Y),t.d(Y,{default:function(){return me}});var Ze=t(66456),K=t(80818),Re=t(49111),T=t(19650),Ee=t(57663),z=t(71577),Se=t(71153),w=t(60331),E=t(11849),De=t(34792),H=t(48086),O=t(3182),I=t(2824),$e=t(71194),X=t(97022),k=t(94043),y=t.n(k),q=t(14854),P=t(36571),_=function(i){return(0,P.qC)("/client/save",i)},ee=function(i){return(0,P.Yu)("/client/list",i)},te=function(i){return(0,P.Yu)("/region/lists",i)},ne=function(i){return(0,P.qC)("/client/del",i)},Z=t(67294),L=t(21010),ae=t(46298),Q=t(75860),v=t(22811),e=t(85893),re=function(i){var j=(0,Z.useRef)(),S=i.isCreateClient?"\u65B0\u589E\u5BA2\u6237":"\u7F16\u8F91\u5BA2\u6237",D=function(){var h=(0,O.Z)(y().mark(function r(p){return y().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,te(p).then(function(R){var f;return R==null||(f=R.data)===null||f===void 0?void 0:f.list});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},r)}));return function(p){return h.apply(this,arguments)}}(),b=function(){var h=(0,O.Z)(y().mark(function r(p){var C,l;return y().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,_((0,E.Z)((0,E.Z)({},p),{},{id:(C=i==null||(l=i.record)===null||l===void 0?void 0:l.id)!==null&&C!==void 0?C:null})).then(function(g){(g==null?void 0:g.success)&&H.default.success(g.msg),(g==null?void 0:g.success)&&(0,Q.pQ)(2e3).then(function(){return i.reloadTable()})});case 2:case"end":return f.stop()}},r)}));return function(p){return h.apply(this,arguments)}}();return(0,e.jsxs)(v.Yr,{"data-inspector-line":"47","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\client\\components\\createClient.tsx",modalProps:{centered:!0,maskClosable:!1,destroyOnClose:!0,wrapClassName:"client-modal"},submitter:{searchConfig:{resetText:"\u91CD\u7F6E"},submitButtonProps:{shape:"round"},resetButtonProps:{shape:"round",type:"default",onClick:function(){var r;return(r=j.current)===null||r===void 0?void 0:r.resetFields()}}},width:500,formRef:j,title:S,autoFocusFirstInput:!0,open:i.modalOpen,initialValues:i.record,validateTrigger:["onBlur"],onOpenChange:i.handleSetModalOpen,onFinish:function(r){return b(r).then(function(){return!0})},children:[(0,e.jsx)(v.V,{"data-inspector-line":"77","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\client\\components\\createClient.tsx",hasFeedback:!0,label:"\u5BA2\u6237\u59D3\u540D",name:"username",tooltip:"\u5BA2\u6237\u7684\u59D3\u540D",placeholder:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7684\u59D3\u540D",fieldProps:{maxLength:20,showCount:!0},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7684\u59D3\u540D"},{type:"string",pattern:/^[\u4e00-\u9fa5\w]+$/,message:"\u5BA2\u6237\u59D3\u540D\u4E0D\u5F97\u5305\u542B\u7279\u6B8A\u7B26\u53F7"}]}),(0,e.jsx)(v.V,{"data-inspector-line":"92","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\client\\components\\createClient.tsx",hasFeedback:!0,label:"\u5BA2\u6237\u624B\u673A",name:"mobile",tooltip:"\u5BA2\u6237\u7684\u624B\u673A\u53F7",placeholder:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7684\u624B\u673A\u53F7",fieldProps:{maxLength:11,showCount:!0},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7684\u624B\u673A\u53F7"},{type:"string",pattern:/^1[3456789]\d{9}$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801"}]}),(0,e.jsx)(v.V,{"data-inspector-line":"107","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\client\\components\\createClient.tsx",hasFeedback:!0,label:"\u5BA2\u6237\u90AE\u7BB1",name:"email",tooltip:"\u5BA2\u6237\u7684\u90AE\u7BB1",placeholder:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7684\u90AE\u7BB1",fieldProps:{maxLength:30,showCount:!0},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7684\u90AE\u7BB1"},{type:"email",message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\u5730\u5740"}]}),(0,e.jsx)(v.V,{"data-inspector-line":"122","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\client\\components\\createClient.tsx",hasFeedback:!0,label:"\u516C\u53F8\u540D\u79F0",name:"company",tooltip:"\u5BA2\u6237\u7684\u516C\u53F8\u540D",placeholder:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7684\u516C\u53F8\u540D",fieldProps:{maxLength:50,showCount:!0},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7684\u516C\u53F8\u540D"}]}),(0,e.jsxs)(v.UW,{"data-inspector-line":"134","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\client\\components\\createClient.tsx",size:2,label:"\u6240\u5728\u5730\u533A",children:[(0,e.jsx)(v._I,{"data-inspector-line":"135","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\client\\components\\createClient.tsx",name:"province",params:{pid:0},request:function(r){return D(r)},fieldProps:{fieldNames:{label:"name",value:"cid"},onChange:function(){var r;(r=j.current)===null||r===void 0||r.setFieldsValue({city:void 0,district:void 0})}},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u60A8\u6240\u5728\u7684\u7701\u4EFD"}]}),(0,e.jsx)(v.ie,{"data-inspector-line":"147","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\client\\components\\createClient.tsx",name:["province"],children:function(r){var p=r.province;return(0,e.jsx)(v._I,{"data-inspector-line":"150","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\client\\components\\createClient.tsx",name:"city",disabled:!p,params:{pid:p},request:function(l){return D(l)},fieldProps:{fieldNames:{label:"name",value:"cid"}},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u60A8\u6240\u5728\u7684\u57CE\u5E02"}]})}}),(0,e.jsx)(v.ie,{"data-inspector-line":"163","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\client\\components\\createClient.tsx",name:["city"],children:function(r){var p=r.city;return(0,e.jsx)(v._I,{"data-inspector-line":"166","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\client\\components\\createClient.tsx",name:"district",disabled:!p,params:{pid:p},request:function(l){return D(l)},fieldProps:{fieldNames:{label:"name",value:"cid"}},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u60A8\u6240\u5728\u7684\u533A\u57DF"}]})}})]}),(0,e.jsx)(v.$J,{"data-inspector-line":"180","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\client\\components\\createClient.tsx",hasFeedback:!0,label:"\u5BA2\u6237\u9700\u6C42",name:"message",tooltip:"\u5BA2\u6237\u7684\u7B80\u8981\u9700\u6C42",placeholder:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7684\u7B80\u8981\u9700\u6C42",fieldProps:{maxLength:100,showCount:!0,allowClear:!0,autoSize:{minRows:5,maxRows:8}},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7684\u7B80\u8981\u9700\u6C42"}]})]})},ie=t(13731),se=function(i){var j=[{title:"IP\u5730\u5740",render:function(){return(0,Q.hm)(i.record.ipaddress)}},{title:"\u6765\u6E90\u7F51\u5740",copyable:!0,dataIndex:"page"},{title:"\u516C\u53F8\u540D\u79F0",copyable:!0,dataIndex:"company"},{span:3,title:"\u9700\u6C42\u63CF\u8FF0",copyable:!0,dataIndex:"message"}];return(0,e.jsx)(ie.vY,{"data-inspector-line":"45","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\client\\components\\expandDescriptions.tsx",title:"\u5BA2\u6237\u8BE6\u60C5",layout:"vertical",columns:j,dataSource:i.record,labelStyle:{fontWeight:"bold"},column:{xs:1,sm:2,md:3,lg:4}})},le=t(1870),ue=t(64302),oe=t(36928),ce=t(46842),de=t(8212),pe=t(73171),ve=t(49101),me=function(){var B=X.Z.confirm,i=(0,L.md)(),j=(0,L.tT)("resize",function(s){return{resize:s.resize}}),S=j.resize,D=(0,Z.useState)(!1),b=(0,I.Z)(D,2),h=b[0],r=b[1],p=(0,Z.useState)([]),C=(0,I.Z)(p,2),l=C[0],R=C[1],f=(0,Z.useState)({}),g=(0,I.Z)(f,2),he=g[0],W=g[1],xe=(0,Z.useState)(!1),G=(0,I.Z)(xe,2),fe=G[0],J=G[1],$=(0,Z.useRef)(),ge=function(a,n){R(function(){return a?[n.id]:[]})},Ce=function(a,n){a.stopPropagation(),W(n),r(!0),J(!1)},ye=function(){W({}),r(!0),J(!0)},U=function(a,n){a.stopPropagation();var o=[],m=[];n instanceof Array&&n.forEach(function(c){var u;o.push(c.id),m.push((u=c==null?void 0:c.username)!==null&&u!==void 0?u:"")}),B({centered:!0,cancelText:"\u7B97\u4E86",title:"\u5F53\u771F\u8981\u5220\u9664?",icon:(0,e.jsx)(le.Z,{"data-inspector-line":"78","data-inspector-column":"18","data-inspector-relative-path":"src\\pages\\client\\index.tsx"}),cancelButtonProps:{shape:"round"},okButtonProps:{danger:!0,shape:"round"},content:n instanceof Array?"".concat(m.slice(0,3).join("\uFF0C")," \u7B49 ").concat(m.length," \u4E2A\u5BA2\u6237"):"".concat(n.username," \u8FD9\u4E2A\u5BA2\u6237"),onOk:function(){return(0,O.Z)(y().mark(function u(){return y().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,ne({id:n.id||o}).then(function(d){var A,F;(A=$.current)===null||A===void 0||A.reload(),(d==null?void 0:d.success)&&H.default.success(d.msg),n instanceof Array&&((F=$.current)===null||F===void 0||F.clearSelected())});case 2:case"end":return x.stop()}},u)}))()},onCancel:function(){var u;n instanceof Array&&((u=$.current)===null||u===void 0||u.clearSelected())}})},Be=function(){var s=(0,O.Z)(y().mark(function a(n,o,m){var c,u;return y().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:c=(0,E.Z)((0,E.Z)((0,E.Z)({},n),o),m);for(u in c)(c[u]===""||c[u]===null||c[u]===void 0)&&delete c[u];return x.next=4,ee(c).then(function(d){var A,F,M,N,V;return{data:(A=d==null||(F=d.data)===null||F===void 0?void 0:F.list)!==null&&A!==void 0?A:[],total:(M=d==null||(N=d.data)===null||N===void 0?void 0:N.total)!==null&&M!==void 0?M:0,success:(V=d==null?void 0:d.success)!==null&&V!==void 0?V:!0}});case 4:return x.abrupt("return",x.sent);case 5:case"end":return x.stop()}},a)}));return function(n,o,m){return s.apply(this,arguments)}}(),je=[{search:!1,dataIndex:"id"},{title:"\u59D3\u540D",dataIndex:"username"},{title:"\u7535\u8BDD",copyable:!0,dataIndex:"mobile"},{title:"\u90AE\u7BB1",search:!1,copyable:!0,dataIndex:"email"},{title:"\u5730\u533A",search:!1,dataIndex:"address",render:function(a,n){var o;return(o=n==null?void 0:n.address)!==null&&o!==void 0?o:"\u672A\u77E5"}},{title:"\u6765\u6E90",search:!1,filters:!0,onFilter:!0,filterMode:"tree",valueType:"select",dataIndex:"source",valueEnum:{0:{text:"\u624B\u52A8\u5F55\u5165",status:"Manual"},1:{text:"\u8868\u5355\u7559\u8A00",status:"Form"},2:{text:"\u767E\u5EA6\u5546\u6865",status:"shangqiao"}},render:function(a,n){switch(n.source){case 1:return(0,e.jsx)(w.Z,{"data-inspector-line":"163","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\client\\index.tsx",color:"magenta",icon:(0,e.jsx)(ue.Z,{"data-inspector-line":"163","data-inspector-column":"71","data-inspector-relative-path":"src\\pages\\client\\index.tsx"}),children:"\u8868\u5355\u7559\u8A00"},n.id);case 2:return(0,e.jsx)(w.Z,{"data-inspector-line":"169","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\client\\index.tsx",color:"blue",icon:(0,e.jsx)(oe.Z,{"data-inspector-line":"169","data-inspector-column":"68","data-inspector-relative-path":"src\\pages\\client\\index.tsx"}),children:"\u767E\u5EA6\u5546\u6865"},n.id);default:return(0,e.jsx)(w.Z,{"data-inspector-line":"175","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\client\\index.tsx",color:"green",icon:(0,e.jsx)(ce.Z,{"data-inspector-line":"175","data-inspector-column":"69","data-inspector-relative-path":"src\\pages\\client\\index.tsx"}),children:"\u624B\u52A8\u5F55\u5165"},n.id)}}},{sorter:!0,search:!1,title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_time"},{title:"\u65E5\u671F\u8303\u56F4",hideInTable:!0,dataIndex:"dateRange",valueType:"dateRange",fieldProps:{showNow:!0,showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}},{title:"\u64CD\u4F5C",search:!1,render:function(a,n){return[(0,e.jsxs)(T.Z,{"data-inspector-line":"203","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\client\\index.tsx",size:4,children:[(0,e.jsx)(z.Z,{"data-inspector-line":"204","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\client\\index.tsx",size:"small",shape:"round",icon:(0,e.jsx)(de.Z,{"data-inspector-line":"204","data-inspector-column":"61","data-inspector-relative-path":"src\\pages\\client\\index.tsx"}),onClick:function(m){return Ce(m,n)},children:"\u7F16\u8F91"}),(0,e.jsx)(z.Z,{"data-inspector-line":"207","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\client\\index.tsx",danger:!0,size:"small",type:"primary",shape:"round",icon:(0,e.jsx)(pe.Z,{"data-inspector-line":"207","data-inspector-column":"83","data-inspector-relative-path":"src\\pages\\client\\index.tsx"}),onClick:function(m){return U(m,n)},children:"\u5220\u9664"})]},"operation")]}}];return(0,e.jsxs)(ae.ZP,{"data-inspector-line":"216","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\client\\index.tsx",children:[(0,e.jsx)(q.ZP,{"data-inspector-line":"217","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\client\\index.tsx",actionRef:$,columns:je,request:Be,search:{filterType:"light"},scroll:S.tableScroll,rowKey:function(a){return a.id},rowSelection:{selections:[K.Z.SELECTION_ALL,K.Z.SELECTION_INVERT]},pagination:{pageSize:S.pageSize,hideOnSinglePage:!0},headerTitle:(0,e.jsx)(L.Nv,{"data-inspector-line":"232","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\client\\index.tsx",accessible:i.btnFilter("client_create_btn"),children:(0,e.jsx)(z.Z,{"data-inspector-line":"233","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\client\\index.tsx",shape:"round",type:"primary",icon:(0,e.jsx)(ve.Z,{"data-inspector-line":"233","data-inspector-column":"86","data-inspector-relative-path":"src\\pages\\client\\index.tsx"}),onClick:ye,children:"\u65B0\u589E\u5BA2\u6237"},"clientCreate")}),expandable:{expandRowByClick:!0,rowExpandable:function(){return!0},expandedRowKeys:l,expandedRowRender:function(a){return(0,e.jsx)(se,{"data-inspector-line":"242","data-inspector-column":"49","data-inspector-relative-path":"src\\pages\\client\\index.tsx",record:a})},onExpand:function(a,n){return ge(a,n)}},tableAlertRender:function(a){var n=a.selectedRowKeys,o=a.onCleanSelected;return(0,e.jsx)(T.Z,{"data-inspector-line":"246","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\client\\index.tsx",size:24,children:(0,e.jsxs)("span",{"data-inspector-line":"247","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\client\\index.tsx",children:["\u5DF2\u9009 ",n.length," \u9879",(0,e.jsx)("a",{"data-inspector-line":"249","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\client\\index.tsx",style:{marginLeft:8},onClick:o,children:"\u53D6\u6D88\u9009\u62E9"})]})})},tableAlertOptionRender:function(a){var n=a.selectedRows;return(0,e.jsx)(T.Z,{"data-inspector-line":"257","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\client\\index.tsx",size:16,children:(0,e.jsx)("a",{"data-inspector-line":"258","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\client\\index.tsx",onClick:function(m){return U(m,n)},children:"\u6279\u91CF\u5220\u9664"})})}}),(0,e.jsx)(re,{"data-inspector-line":"263","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\client\\index.tsx",record:he,modalOpen:h,isCreateClient:fe,reloadTable:function(){var a;return(a=$.current)===null||a===void 0?void 0:a.reload()},handleSetModalOpen:function(a){return r(a)}})]})}}}]);
