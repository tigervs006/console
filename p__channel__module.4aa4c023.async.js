(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8326],{45154:function(X,C,e){"use strict";e.r(C);var h=e(66456),E=e(80818),w=e(49111),x=e(19650),U=e(57663),f=e(71577),p=e(11849),W=e(34792),c=e(48086),i=e(3182),z=e(2824),k=e(71194),F=e(97022),q=e(94043),r=e.n(q),D=e(67294),M=e(21010),T=e(46298),B=e(14854),K=e(7446),R=e(75860),L=e(99882),N=e(1870),Y=e(8212),Q=e(73171),S=e(49101),o=e(85893);C.default=function(){var j=F.Z.confirm,H=(0,M.md)(),G={status:1,name:"\u6A21\u578B\u540D\u79F0",id:(0,R.O1)(4)},I=(0,D.useRef)(),A=(0,M.tT)("resize",function(d){return{resize:d.resize}}),P=A.resize,$=(0,D.useState)([]),y=(0,z.Z)($,2),Z=y[0],b=y[1],v=(0,D.useRef)(),ne=function(){var d=(0,i.Z)(r().mark(function s(n){return r().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,L.mJ)(n).then(function(t){(t==null?void 0:t.success)&&c.default.success(t.msg),(t==null?void 0:t.success)&&(0,R.pQ)(2e3).then(function(){var a;return(a=v.current)===null||a===void 0?void 0:a.reload()})});case 2:case"end":return l.stop()}},s)}));return function(n){return d.apply(this,arguments)}}(),ee=function(s,n){s.stopPropagation();var u=[],l=[];n instanceof Array&&n.forEach(function(t){var a;u.push(t.id),l.push((a=t==null?void 0:t.name)!==null&&a!==void 0?a:"")}),j({centered:!0,cancelText:"\u7B97\u4E86",title:"\u5F53\u771F\u8981\u5220\u9664?",icon:(0,o.jsx)(N.Z,{"data-inspector-line":"66","data-inspector-column":"18","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx"}),cancelButtonProps:{shape:"round"},okButtonProps:{danger:!0,shape:"round"},content:n instanceof Array?"".concat(l.slice(0,3).join("\uFF0C")," \u7B49 ").concat(l.length," \u4E2A\u6A21\u578B"):"".concat(n.name," \u8FD9\u4E2A\u6A21\u578B"),onOk:function(){return(0,i.Z)(r().mark(function a(){return r().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,L.R$)({id:u}).then(function(_){var g;(_==null?void 0:_.success)&&c.default.success(_.msg),n instanceof Array&&((g=v.current)===null||g===void 0||g.clearSelected()),(_==null?void 0:_.success)&&(0,R.pQ)(2e3).then(function(){var O;return(O=v.current)===null||O===void 0?void 0:O.reload()})});case 2:case"end":return m.stop()}},a)}))()},onCancel:function(){var a;n instanceof Array&&((a=v.current)===null||a===void 0||a.clearSelected())}})},te=function(){var d=(0,i.Z)(r().mark(function s(n,u,l){var t,a;return r().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:t=(0,p.Z)((0,p.Z)((0,p.Z)({},n),u),l);for(a in t)(t[a]===""||t[a]===null||t[a]===void 0)&&delete t[a];return m.next=4,(0,L.m4)(t).then(function(_){var g,O,J,V,se=_==null||(g=_.data)===null||g===void 0?void 0:g.list;return{data:se||[],total:(O=_==null||(J=_.data)===null||J===void 0?void 0:J.total)!==null&&O!==void 0?O:0,success:(V=_==null?void 0:_.success)!==null&&V!==void 0?V:!0}});case 4:return m.abrupt("return",m.sent);case 5:case"end":return m.stop()}},s)}));return function(n,u,l){return d.apply(this,arguments)}}(),ae=[{title:"ID",sorter:!0,search:!1,readonly:!0,dataIndex:"id"},{search:!1,title:"\u6A21\u578B\u540D\u79F0",dataIndex:"name",formItemProps:function(){return{rules:[{required:!0,message:"\u6A21\u578B\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"},{max:30,message:"\u6A21\u578B\u540D\u79F0\u8BF7\u63A7\u5236\u572830\u4E2A\u5B57\u7B26\u4EE5\u5185"}]}},fieldProps:{onBlur:function(s){var n,u,l=(n=I.current)===null||n===void 0?void 0:n.getRowData(Z.toString()),t=(0,R.Qh)(s.target.value).replace(/\s+/g,"");typeof l.id=="string"&&((u=I.current)===null||u===void 0||u.setRowData(Z.toString(),{nid:t,ctl_name:t.toLowerCase().replace(/( |^)[a-z]/g,function(a){return a.toUpperCase()})}))}}},{title:"\u6A21\u578B\u540D\u79F0",dataIndex:"name",hideInTable:!0},{search:!1,title:"\u6A21\u578B\u6807\u8BC6",dataIndex:"nid",formItemProps:function(){return{rules:[{required:!0,message:"\u6A21\u578B\u6807\u8BC6\u4E3A\u5FC5\u586B\u9879"},{max:30,message:"\u6A21\u578B\u6807\u8BC6\u8BF7\u63A7\u5236\u572830\u4E2A\u5B57\u7B26\u4EE5\u5185"},{type:"string",pattern:/^\w+$/,message:"\u6A21\u578B\u6807\u8BC6\u53EA\u80FD\u662F\u82F1\u6587\u3001\u6570\u5B57\u548C\u4E0B\u5212\u7EBF\u7684\u7EC4\u5408"}]}}},{title:"\u6A21\u578B\u6807\u8BC6",dataIndex:"nid",hideInTable:!0},{search:!1,title:"\u63A7\u5236\u5668\u540D",dataIndex:"ctl_name",formItemProps:function(){return{rules:[{required:!0,message:"\u63A7\u5236\u5668\u540D\u4E3A\u5FC5\u586B\u9879"},{max:30,message:"\u63A7\u5236\u5668\u540D\u8BF7\u63A7\u5236\u572830\u4E2A\u5B57\u7B26\u4EE5\u5185"},{type:"string",pattern:/^[A-Z]\w+$/,message:"\u63A7\u5236\u540D\u9996\u5B57\u6BCD\u987B\u4E3A\u5927\u5199"}]}}},{sorter:!0,search:!1,editable:!1,title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_time"},{title:"\u65E5\u671F\u8303\u56F4",hideInTable:!0,dataIndex:"dateRange",valueType:"dateRange",fieldProps:{showNow:!0,showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}},{search:!1,filters:!0,onFilter:!0,title:"\u6A21\u578B\u72B6\u6001",filterMode:"tree",dataIndex:"status",valueType:"select",valueEnum:{1:{text:"\u663E\u793A",status:"Show"},0:{text:"\u9690\u85CF",status:"Hide"}},fieldProps:{allowClear:!1,options:[{label:"\u9690\u85CF",value:0},{label:"\u663E\u793A",value:1}]},render:function(s,n){return(0,o.jsx)(K.S,{"data-inspector-line":"214","data-inspector-column":"35","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx",record:n,url:"/module/status"})}},{title:"\u64CD\u4F5C",valueType:"option",render:function(s,n,u,l){return[(0,o.jsxs)(x.Z,{"data-inspector-line":"220","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx",size:4,children:[(0,o.jsx)(f.Z,{"data-inspector-line":"221","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx",size:"small",shape:"round",icon:(0,o.jsx)(Y.Z,{"data-inspector-line":"221","data-inspector-column":"61","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx"}),onClick:function(){var a;return l==null||(a=l.startEditable)===null||a===void 0?void 0:a.call(l,n.id)},children:"\u7F16\u8F91"}),(0,o.jsx)(f.Z,{"data-inspector-line":"224","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx",danger:!0,size:"small",shape:"round",type:"primary",icon:(0,o.jsx)(Q.Z,{"data-inspector-line":"224","data-inspector-column":"83","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx"}),onClick:function(a){return ee(a,n)},children:"\u5220\u9664"})]},"operation")]}}];return(0,o.jsx)(T.ZP,{"data-inspector-line":"232","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx",children:(0,o.jsx)(B.nx,{"data-inspector-line":"233","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx",rowKey:"id",actionRef:v,columns:ae,request:te,search:{filterType:"light"},editableFormRef:I,recordCreatorProps:!1,scroll:P.tableScroll,editable:{editableKeys:Z,type:"multiple",onChange:b,onSave:function(s,n){return ne(n)},actionRender:function(s,n,u){return[u.save,u.cancel]}},pagination:{pageSize:P.pageSize,hideOnSinglePage:!0},rowSelection:{checkStrictly:!1,selections:[E.Z.SELECTION_ALL,E.Z.SELECTION_INVERT,E.Z.SELECTION_NONE]},headerTitle:(0,o.jsx)(M.Nv,{"data-inspector-line":"258","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx",accessible:H.btnFilter("module_create_btn"),children:(0,o.jsx)(f.Z,{"data-inspector-line":"259","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx",shape:"round",type:"primary",icon:(0,o.jsx)(S.Z,{"data-inspector-line":"263","data-inspector-column":"34","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx"}),onClick:function(){var s,n;return(s=v.current)===null||s===void 0||(n=s.addEditRecord)===null||n===void 0?void 0:n.call(s,G)},children:"\u65B0\u5EFA\u6A21\u578B"},"createModule")},"module_create_btn"),tableAlertRender:function(s){var n=s.selectedRowKeys,u=s.onCleanSelected;return(0,o.jsxs)("span",{"data-inspector-line":"271","data-inspector-column":"20","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx",children:["\u5DF2\u9009 ",n.length," \u4E2A\u6A21\u578B",(0,o.jsx)("a",{"data-inspector-line":"273","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx",style:{marginLeft:8},onClick:u,children:"\u53D6\u6D88\u9009\u62E9"})]})},tableAlertOptionRender:function(s){var n=s.selectedRows;return(0,o.jsx)(x.Z,{"data-inspector-line":"280","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx",size:16,children:(0,o.jsx)("a",{"data-inspector-line":"281","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\channel\\module\\index.tsx",onClick:function(l){return ee(l,n)},children:"\u6279\u91CF\u5220\u9664"})})}})})}},99882:function(X,C,e){"use strict";e.d(C,{wk:function(){return E},rQ:function(){return w},V5:function(){return x},Od:function(){return U},mJ:function(){return f},m4:function(){return p},R$:function(){return W}});var h=e(36571),E=function(i){return(0,h.qC)("/channel/save",i)},w=function(i){return(0,h.Yu)("/channel/list",i)},x=function(i){return(0,h.Yu)("/channel/cate",i)},U=function(i){return(0,h.qC)("/channel/del",i)},f=function(i){return(0,h.qC)("/module/save",i)},p=function(i){return(0,h.Yu)("/module/list",i)},W=function(i){return(0,h.qC)("/module/del",i)}},7446:function(X,C,e){"use strict";e.d(C,{S:function(){return F}});var h=e(77576),E=e(85979),w=e(34792),x=e(48086),U=e(32059),f=e(3182),p=e(2824),W=e(94043),c=e.n(W),i=e(67294),z=e(36571),k=e(85893),F=function(r){var D,M,T,B,K,R=(D=r==null?void 0:r.fieldKey)!==null&&D!==void 0?D:"status",L=(M=r==null?void 0:r.disabled)!==null&&M!==void 0?M:!1,N=(T=r==null?void 0:r.echoChecked)!==null&&T!==void 0?T:"\u663E\u793A",Y=(B=r==null?void 0:r.echoUnChecked)!==null&&B!==void 0?B:"\u9690\u85CF",Q=(0,i.useState)(!1),S=(0,p.Z)(Q,2),o=S[0],j=S[1],H=(K=r==null?void 0:r.statusField)!==null&&K!==void 0?K:r.record.status,G=function(){var I=(0,f.Z)(c().mark(function A(P,$,y){return c().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return $.stopPropagation(),j(!0),b.next=4,(0,z.qC)(r.url,(0,U.Z)({id:y.id},R,P?1:0)).then(function(v){j(!1),(v==null?void 0:v.success)&&x.default.success(v.msg)});case 4:case"end":return b.stop()}},A)}));return function(P,$,y){return I.apply(this,arguments)}}();return(0,k.jsx)(E.Z,{"data-inspector-line":"53","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\components\\RecordSwitch\\index.tsx",loading:o,disabled:L,checkedChildren:N,defaultChecked:!!H,unCheckedChildren:Y,onChange:function(A,P){return G(A,P,r.record)}},r.record.id)}}}]);
