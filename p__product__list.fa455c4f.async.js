(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[299],{47828:function(){},99882:function(F,M,e){"use strict";e.d(M,{wk:function(){return O},rQ:function(){return g},V5:function(){return D},Od:function(){return R},mJ:function(){return v},m4:function(){return h},R$:function(){return W}});var i=e(36571),O=function(o){return(0,i.qC)("/channel/save",o)},g=function(o){return(0,i.Yu)("/channel/list",o)},D=function(o){return(0,i.Yu)("/channel/cate",o)},R=function(o){return(0,i.qC)("/channel/del",o)},v=function(o){return(0,i.qC)("/module/save",o)},h=function(o){return(0,i.Yu)("/module/list",o)},W=function(o){return(0,i.qC)("/module/del",o)}},7446:function(F,M,e){"use strict";e.d(M,{S:function(){return ue}});var i=e(77576),O=e(85979),g=e(34792),D=e(48086),R=e(32059),v=e(3182),h=e(2824),W=e(94043),c=e.n(W),o=e(67294),k=e(36571),q=e(85893),ue=function(r){var w,y,z,p,Y,b=(w=r==null?void 0:r.fieldKey)!==null&&w!==void 0?w:"status",x=(y=r==null?void 0:r.disabled)!==null&&y!==void 0?y:!1,ee=(z=r==null?void 0:r.echoChecked)!==null&&z!==void 0?z:"\u663E\u793A",P=(p=r==null?void 0:r.echoUnChecked)!==null&&p!==void 0?p:"\u9690\u85CF",ne=(0,o.useState)(!1),s=(0,h.Z)(ne,2),V=s[0],G=s[1],N=(Y=r==null?void 0:r.statusField)!==null&&Y!==void 0?Y:r.record.status,Q=function(){var I=(0,v.Z)(c().mark(function A(B,H,J){return c().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return H.stopPropagation(),G(!0),L.next=4,(0,k.qC)(r.url,(0,R.Z)({id:J.id},b,B?1:0)).then(function(K){G(!1),(K==null?void 0:K.success)&&D.default.success(K.msg)});case 4:case"end":return L.stop()}},A)}));return function(B,H,J){return I.apply(this,arguments)}}();return(0,q.jsx)(O.Z,{loading:V,disabled:x,checkedChildren:ee,defaultChecked:!!N,unCheckedChildren:P,onChange:function(A,B){return Q(A,B,r.record)}},r.record.id)}},86514:function(F,M,e){"use strict";e.r(M);var i=e(66456),O=e(80818),g=e(49111),D=e(19650),R=e(57663),v=e(71577),h=e(71153),W=e(60331),c=e(11849),o=e(77883),k=e(29149),q=e(93224),ue=e(34792),ie=e(48086),r=e(3182),w=e(402),y=e(95574),z=e(71194),p=e(97022),Y=e(12968),b=e(40610),x=e(2824),ee=e(94043),P=e.n(ee),ne=e(30381),s=e.n(ne),V=e(21010),G=e(14854),N=e(75860),Q=e(9006),I=e(67294),A=e(99882),B=e(46298),H=e(7446),J=e(1870),oe=e(15873),L=e(8212),K=e(76570),fe=e(73171),_=e(85893),he=function(U){var te=(0,I.useState)(!1),j=(0,x.Z)(te,2),ae=j[0],Z=j[1],_e=function(){return U.album.map(function($){return(0,_.jsx)(b.Z,{src:$},(0,N.O1)(4))})};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(b.Z,{width:50,src:U==null?void 0:U.album[0],fallback:"/logo.svg",preview:{visible:!1},onClick:function(){return Z(!0)}}),(0,_.jsx)("div",{style:{display:"none"},children:(0,_.jsx)(b.Z.PreviewGroup,{preview:{visible:ae,onVisibleChange:function($){return Z($)}},children:_e()})})]})};M.default=function(){var ce=p.Z.confirm,U=y.Z.Text,te=(0,V.tT)("resize",function(d){return{resize:d.resize}}),j=te.resize,ae=(0,I.useState)(!1),Z=(0,x.Z)(ae,2),_e=Z[0],S=Z[1],$=(0,I.useState)([]),ve=(0,x.Z)($,2),me=ve[0],De=ve[1],X=(0,I.useRef)(),Me=function(){var d=(0,r.Z)(P().mark(function n(){return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,A.V5)({nid:2}).then(function(u){var l,E;return De(u==null||(l=u.data)===null||l===void 0?void 0:l.list),u==null||(E=u.data)===null||E===void 0?void 0:E.list.map(function(C){return{value:C.id,label:C.cname}})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},n)}));return function(){return d.apply(this,arguments)}}(),Oe=function(n){V.m8.push({pathname:"/product/edit",query:{id:n.id}})},Pe=function(n){var a;me.forEach(function(t){t.id===n.pid&&(a=t.fullpath)}),window.open("/".concat(a).concat(n.id,".html"),"preview")},Ee=function(n){var a=[],t=[];n instanceof Array&&n.forEach(function(u){a.push(u.id),t.push("\u300A".concat(u.title,"\u300B"))}),ce({centered:!0,cancelText:"\u7B97\u4E86",title:"\u5F53\u771F\u8981\u5220\u9664?",icon:(0,_.jsx)(J.Z,{}),cancelButtonProps:{shape:"round"},okButtonProps:{danger:!0,shape:"round"},content:n instanceof Array?"".concat(t.slice(0,3).join("\uFF0C")," \u7B49 ").concat(t.length," \u4E2A\u5546\u54C1"):"".concat(n.title," \u8FD9\u4E2A\u5546\u54C1"),onOk:function(){return(0,r.Z)(P().mark(function l(){return P().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,Q.Od)({id:n instanceof Array?a:n.id}).then(function(m){var f,T;(f=X.current)===null||f===void 0||f.reload(),(m==null?void 0:m.success)&&ie.default.success(m.msg),n instanceof Array&&((T=X.current)===null||T===void 0||T.clearSelected())});case 2:case"end":return C.stop()}},l)}))()},onCancel:function(){var l;n instanceof Array&&((l=X.current)===null||l===void 0||l.clearSelected())}})},Ce=[{width:80,title:"ID",dataIndex:"id",renderFormItem:function(n,a){var t=a.defaultRender,u=(0,q.Z)(a,["defaultRender"]);return(0,_.jsx)(k.Z,(0,c.Z)((0,c.Z)({},u),{},{placeholder:"\u8BF7\u8F93\u5165\u6587\u6863ID",formatter:function(E){return E.replace(/^(0+)|\D+/g,"")}}))}},{width:100,search:!1,title:"\u5546\u54C1\u56FE",render:function(n,a){return(0,_.jsx)(he,{album:a.album})}},{width:300,ellipsis:!0,title:"\u5546\u54C1\u540D\u79F0",dataIndex:"title",fieldProps:{placeholder:"\u8BF7\u8F93\u5165\u5927\u81F4\u7684\u5546\u54C1\u540D\u79F0"}},{width:150,title:"\u5546\u54C1\u5206\u7C7B",dataIndex:"pid",valueType:"select",request:function(){return Me()},fieldProps:{mode:"multiple",maxTagCount:3},render:function(n,a){return a.channel.cname}},{width:336,search:!1,ellipsis:!0,title:"\u5546\u54C1\u5356\u70B9",dataIndex:"special",render:function(n,a){return a.special.map(function(t){return(0,_.jsx)(W.Z,{color:"red",icon:(0,_.jsx)(oe.Z,{}),children:t},(0,N.O1)(4))})}},{title:"\u4E0A\u67B6\u65F6\u95F4",hideInTable:!0,valueType:"dateRange",dataIndex:"dateRange",fieldProps:{showNow:!0,showTime:!0,format:"YYYY-MM-DD HH:mm:ss",placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],ranges:{Today:[s()(),s()()],Yestoday:[s()().day(s()().day()-1),s()().day(s()().day()-1)],thisWeek:[s()().startOf("week"),s()().endOf("week")],lastWeek:[s()().week(s()().week()-1).startOf("week"),s()().week(s()().week()-1).endOf("week")],thisMonth:[s()().startOf("month"),s()().endOf("month")],lastMonth:[s()().month(s()().month()-1).startOf("month"),s()().month(s()().month()-1).endOf("month")]}}},{width:150,sorter:!0,search:!1,title:"\u603B\u6D4F\u89C8\u91CF",dataIndex:"click"},{width:150,sorter:!0,search:!1,title:"\u5546\u54C1\u4EF7\u683C",dataIndex:"price",render:function(n,a){return"\uFFE5 ".concat(a.price)}},{width:150,sorter:!0,search:!1,title:"\u5546\u54C1\u9500\u91CF",dataIndex:"sales"},{width:150,sorter:!0,search:!1,title:"\u5546\u54C1\u8BE2\u76D8",dataIndex:"inquiries"},{width:150,sorter:!0,search:!1,title:"\u5546\u54C1\u5E93\u5B58",dataIndex:"stock"},{width:150,search:!1,filters:!0,onFilter:!0,title:"\u5546\u54C1\u72B6\u6001",filterMode:"tree",dataIndex:"status",valueType:"select",valueEnum:{1:{text:"\u4E0A\u67B6",status:"Enabled"},0:{text:"\u4E0B\u67B6",status:"Disabled"}},render:function(n,a){return(0,_.jsx)(H.S,{record:a,url:"/product/status",echoChecked:"\u4E0A\u67B6",echoUnChecked:"\u4E0B\u67B6"})}},{width:250,title:"\u64CD\u4F5C",search:!1,fixed:"right",render:function(n,a){return[(0,_.jsxs)(D.Z,{size:4,children:[(0,_.jsx)(v.Z,{size:"small",shape:"round",icon:(0,_.jsx)(L.Z,{}),onClick:function(){return Oe(a)},children:"\u7F16\u8F91"}),(0,_.jsx)(v.Z,{size:"small",type:"primary",shape:"round",icon:(0,_.jsx)(K.Z,{}),onClick:function(){return Pe(a)},children:"\u6D4F\u89C8"}),(0,_.jsx)(v.Z,{danger:!0,size:"small",type:"primary",shape:"round",icon:(0,_.jsx)(fe.Z,{}),onClick:function(){return Ee(a)},children:"\u5220\u9664"})]},"operation")]}}],ge=function(){var d=(0,r.Z)(P().mark(function n(a,t,u){var l,E;return P().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:l=(0,c.Z)((0,c.Z)((0,c.Z)({},a),t),u);for(E in l)(l[E]===""||l[E]===null||l[E]===void 0)&&delete l[E];return m.next=4,(0,Q.rQ)(l).then(function(f){var T,re,se,le,de;return S(!1),{data:(T=f==null||(re=f.data)===null||re===void 0?void 0:re.list)!==null&&T!==void 0?T:[],total:(se=f==null||(le=f.data)===null||le===void 0?void 0:le.total)!==null&&se!==void 0?se:0,success:(de=f==null?void 0:f.success)!==null&&de!==void 0?de:!0}});case 4:return m.abrupt("return",m.sent);case 5:case"end":return m.stop()}},n)}));return function(a,t,u){return d.apply(this,arguments)}}();return(0,_.jsx)(B.ZP,{children:(0,_.jsx)(G.ZP,{rowKey:"id",actionRef:X,columns:Ce,request:ge,scroll:j.tableScroll,search:{labelWidth:"auto",defaultCollapsed:!1,optionRender:function(n){return[(0,_.jsx)(v.Z,{shape:"round",onClick:function(){var t;return n==null||(t=n.form)===null||t===void 0?void 0:t.resetFields()},children:"\u91CD\u7F6E"},"reset"),(0,_.jsx)(v.Z,{shape:"round",type:"primary",loading:_e,onClick:function(){var t;S(!0),n==null||(t=n.form)===null||t===void 0||t.submit()},children:"\u67E5\u8BE2"},"query")]}},rowSelection:{selections:[O.Z.SELECTION_ALL,O.Z.SELECTION_INVERT]},pagination:{pageSize:j.pageSize,hideOnSinglePage:!0},tableAlertRender:function(n){var a=n.selectedRowKeys,t=n.selectedRows,u=n.onCleanSelected;return(0,_.jsxs)(D.Z,{size:24,children:[(0,_.jsxs)("span",{children:["\u5DF2\u9009 ",a.length," \u9879",(0,_.jsx)("a",{style:{marginLeft:8},onClick:u,children:"\u53D6\u6D88\u9009\u62E9"})]}),(0,_.jsxs)("span",{children:["\u603B\u6D4F\u89C8\u91CF ",(0,_.jsx)(U,{type:"danger",children:t&&t.reduce(function(l,E){return l+E.click},0)})," \u6B21"]})]})},tableAlertOptionRender:function(n){var a=n.selectedRows;return(0,_.jsx)(D.Z,{size:16,children:(0,_.jsx)("a",{onClick:function(){return Ee(a)},children:"\u6279\u91CF\u5220\u9664"})})}})})}},9006:function(F,M,e){"use strict";e.d(M,{C5:function(){return O},gg:function(){return g},Od:function(){return D},rQ:function(){return R}});var i=e(36571),O=function(h){return(0,i.Yu)("/product",h)},g=function(h){return(0,i.qC)("/product/save",h)},D=function(h){return(0,i.qC)("/product/del",h)},R=function(h){return(0,i.Yu)("/product/list",h)}},402:function(F,M,e){"use strict";var i=e(38663),O=e.n(i),g=e(47828),D=e.n(g),R=e(47673),v=e(22385)}}]);
